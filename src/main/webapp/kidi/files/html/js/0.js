/*! For license information please see 0.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(23).concat([function(t,e,i){"use strict";i.r(e);var s=i(763),r=i(145),o=(i(764),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/spinner/index.vue",e.default=n.exports},,,,,,function(t,e,i){"use strict";i.r(e);var s=i(131);e.default={methods:{movePagerLeft:function(t){var e=t.target;Object(s.movePagerLeft)(this.$store,{target:e})},movePagerRight:function(t){var e=t.target;Object(s.movePagerRight)(this.$store,{target:e})},movePagerLeftmost:function(t){var e=t.target,i=void 0===e?null:e,r=t.navTarget,o=void 0!==r&&r;Object(s.movePagerLeftmost)(this.$store,{target:i,navTarget:o})},movePagerRightmost:function(t){var e=t.target,i=void 0===e?null:e,r=t.navTarget,o=void 0!==r&&r;Object(s.movePagerRightmost)(this.$store,{target:i,navTarget:o})}}}},function(t,e,i){"use strict";i.r(e);var s=Object.freeze({TAB:9,RETURN:13,ALT:18,SPACE:32,END:35,HOME:36,LEFT:37,BACKSPACE:8,UP:38,RIGHT:39,DOWN:40,DELETE:46,F1:112,SLASH:191,ESC:27,A:65,C:67,F:70,I:73,M:77,P:80,W:87});e.default=s},,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(5),r={cTest:!1,id:function(t){return document.getElementById(t)},tag:function(t){return document.getElementsByTagName(t)[0]},tags:function(t){return document.getElementsByTagName(t)},byClass:function(t){return document.getElementsByClassName(t)},add:function(t){return document.createElement(t)},round:function(t,e){e=e||0;for(var i=1,s=0;s<e;s++)i*=10;return Math.round(t*i)/i},css:function(t,e){for(var i in e)if(e.hasOwnProperty(i)){var s=i.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));s="float"===s?"cssFloat":s,t.style[s]=e[i]}},del:function(t){return Object(s.isString)(t)?r.id(t)&&r.id(t).parentNode.removeChild(r.id(t)):t.parentNode.removeChild(t),!0},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},createElement:function(t,e,i,r,o){i=i||-1;var n=document.createElement(t);for(var a in e)e.hasOwnProperty(a)&&("styles"!==a?n.setAttribute(a,e[a]):this.css(n,e.styles));if("top"===r)-1!==i&&(Object(s.isString)(i)?document.getElementById(i).insertBefore(n,document.getElementById(i).firstChild):i.insertBefore(n,i.firstChild));else if("after"===r){var h=o.nextSibling,l=o.parentNode;h?l.insertBefore(n,h):l.appendChild(n)}else if("before"===r){var c=o.previousSibling,d=o.parentNode;c?d.insertBefore(n,o):d.appendChild(n)}else-1!==i&&(Object(s.isString)(i)?document.getElementById(i).appendChild(n):i.appendChild(n));return n},clear:function(t){Object(s.isString)(t)&&(t=t.id(t)),t.innerHTML=""}};e.default=r},,function(t,e,i){"use strict";i.r(e);var s,r,o=i(154),n=(i(777),i(1)),a=Object(n.default)(o.default,s,r,!1,null,null,null);a.options.__file="src/components/content/base/index.vue",e.default=a.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({fullscreen:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M6.733 5.1l2.1-2.1H3v5.833l2.1-2.1 2.8 2.8A1.167 1.167 0 109.533 7.9l-2.8-2.8zM18.9 17.328l-2.8-2.869a1.18 1.18 0 00-1.633-.23 1.135 1.135 0 000 1.837l2.916 2.754L15.167 21H21v-5.738l-2.1 2.066zm-3.014-7.664l2.854-2.806L21 8.845V3h-5.947l2.141 2.104L14.34 7.91a1.155 1.155 0 000 1.637.96.96 0 001.546.117zm-7.857 4.673L5.222 17.26 3 15.156v5.847h5.847l-2.105-2.105 2.924-2.807a1.17 1.17 0 000-1.637 1.052 1.052 0 00-1.637-.117z"/>'}})},function(t,e,i){i(0).register({"book-first":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M10.468 10.61a2.005 2.005 0 000 2.838l6.262 6.258a1 1 0 00.71.294 1 1 0 00.71-.294 1 1 0 000-1.42l-6.263-6.258 6.319-6.315a1.005 1.005 0 00-1.42-1.42l-6.318 6.316zM6 5.98v12.04c0 .556.45 1.004 1.004 1.004.556 0 1.005-.448 1.005-1.004V5.98c0-.555-.449-1.004-1.005-1.004C6.45 4.976 6 5.425 6 5.98z"/>'}})},function(t,e,i){i(0).register({"book-last":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M8.22 4.303A1.003 1.003 0 106.8 5.721l6.313 6.307-6.256 6.252a1 1 0 00.71 1.711 1 1 0 00.709-.294l6.255-6.251a2.004 2.004 0 000-2.836L8.22 4.303zm9.77.68c-.555 0-1.003.45-1.003 1.003v12.028a1.002 1.002 0 102.006 0V5.986c0-.553-.449-1.003-1.003-1.003z"/>'}})},function(t,e,i){i(0).register({search:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" d="M15.49 17.61A8.144 8.144 0 0111.14 19c-4.452-.102-8.038-3.625-8.14-8 .036-4.35 3.575-7.89 8-8 4.425.112 7.965 3.65 8 8a7.813 7.813 0 01-1.38 4.499l4.451 4.45-2.121 2.122-4.46-4.46zM11.104 17c3.3-.09 5.919-2.757 5.895-6-.026-3.263-2.681-5.916-6-6-3.319.083-5.973 2.737-6 6 .077 3.281 2.766 5.923 6.105 6z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"getApiFileName",(function(){return s})),i.d(e,"getImageInfo",(function(){return r}));var s=function(t){var e=t.format?"."+t.format:"";return t.name+e},r=function(t){var e=t.data,i=t.maxSize;window.devicePixelRatio>=1.5&&(i*=1.5);var s=e.sizes.reduce((function(t,e){return t<i?e>t?e:t:e>=i&&e<t?e:t})),r=e.name.split("{size}");return{name:(r=r.map((function(t){return encodeURIComponent(t)}))).join("{size}"),size:s,format:e.format}}},,,function(t,e,i){i(0).register({"arrow-down":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M12 16.772c.31 0 .62-.124.836-.341l7.597-7.132c.496-.465.527-1.24.062-1.767-.465-.496-1.24-.527-1.767-.062l-6.729 6.356-6.76-6.325c-.495-.465-1.27-.434-1.767.062-.465.496-.434 1.271.062 1.767l7.597 7.132c.248.186.558.31.868.31z"/>'}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(109);e.default=s.default},function(t,e,i){"use strict";i.r(e),e.default={name:"FlashMessage",mounted:function(){var t=this;null!==this.$store.getters["workspace/flashMessage"]&&setTimeout((function(){t.$store.dispatch("workspace/setFlashMessage",null)}),this.delay)},computed:{messageData:function(){return this.$store.getters["workspace/flashMessage"]},delay:function(){return this.messageData&&this.messageData.delay?this.messageData.delay:900}}}},function(t,e,i){},,,,,,,,,,,,function(t,e,i){i(0).register({accessibility:{width:36,height:36,viewBox:"0 0 24 24",data:'<path pid="0" d="M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1l-.5-2zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/>'}})},,function(t,e,i){"use strict";i.r(e);var s=i(125);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(745),r=i(822),o=i(827),n=i(12),a=i(830),h=i(833),l=i(836),c=i(29),d=i(453);i(68);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={mixins:[c.default],data:function(){return{containerSize:{width:0,height:0},bookSize:{width:0,height:0},miniFullScreen:!1,ctrFade:"no-fade"}},props:{size:{required:!1},wsToggleFullscreen:{type:Function,default:function(){}}},components:{slideNavButtons:h.default,flipBook:s.default,slideBook:r.default,navButtons:a.default,zoomPanel:l.default,logo:o.default},computed:{inspectorMode:function(){return this.$store.state.workspace.inspectorMode},version:function(){return this.$store.getters["info/version"]},layout:function(){return this.$store.state.workspace.layout},bookScaleSize:function(){return this.$store.state.workspace&&this.$store.state.workspace.bookSize},originalBookSize:function(){return{width:this.$store.state.book.bookSize.width*(this.isSingleMode?1:2),height:1*this.$store.state.book.bookSize.height,zoomFactor:this.$store.state.book.bookSize.zoomFactor}},showPrevSubstrate:function(){return this.isRTLBook?!this.$store.getters["pager/isLastSpread"]:!this.$store.getters["pager/isFirstSpread"]},showNextSubstrate:function(){return this.isRTLBook?!this.$store.getters["pager/isFirstSpread"]:!this.$store.getters["pager/isLastSpread"]},isHardcover:function(){return this.$store.getters["book/hasHardcover"]},hasThickness:function(){return this.$store.state.book.thickness},isSingleMode:function(){return"single"===this.$store.getters["pager/mode"]},isZoomed:function(){return 1!==this.$store.state.pages.size.zoomFactor},isScaled:function(){return!!this.$refs.bookComponent&&this.$refs.bookComponent.scaleFactor<1},showSimpleArrows:function(){return!("flip-book"===this.currentBookComponent&&"html"===this.version&&(!this.isZoomed||this.isScaled)||this.showSmartArrows)},showSmartArrows:function(){return"html"===this.version&&"slide-book"===this.currentBookComponent},isRTLBook:function(){return this.$store.state.book.rightToLeft},bookComponent:function(){switch(this.version){case"mobile-old":case"mobile-app":return"slide-book";case"mobile":case"desktop":default:return this.$store.state.workspace.components.book.flip?"flip-book":"slide-book"}},currentBookComponent:function(){return this.$store.state.workspace.bookComponent},isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},containerClass:function(){return{animation:"ready"!==this.$store.state.workspace.status&&!this.$store.state.pager.zoomMode&&!this.$store.state.workspace.zoomPanel,"arrow-attract-left":"left"===this.arrowAttract&&!this.isLightboxShown,"arrow-attract-right":"right"===this.arrowAttract&&!this.isLightboxShown}},miniState:function(){return this.$store.state.workspace.mini},clickToReadText:function(){return this.$i18n.t("Other.CLICK_TO_READ")},pagerState:function(){return this.$store.getters["pager/state"]},clickToReadClass:function(){return{clickToRead:!0,hideTop:this.miniTopPosition}},miniClickToReadClass:function(){return{miniClickToRead:!0,hideTop:this.miniTopPosition}},arrowAttract:function(){var t=this.$store.getters["workspace/callToNavigation"];return"arrow"===t.type&&t.side},miniTopPosition:function(){return this.$store.getters["logo/showLogo"]&&"bottom-right"===this.$store.state.logo.position},pagesCount:function(){return this.$store.getters["pages/pagesCount"]},hasPages:function(){return this.pagesCount>0},substrateStyle:function(){var t,e;if(this.$store.getters["pager/state"].slideMode)e="100%",t=0;else{var i=this.$store.state.workspace.holderSize.top,s=this.$store.getters["pages/size"].height,r=this.$store.state.workspace.containerSize.height;t=1===this.$store.state.book.bookSize.zoomFactor?i+"px":r>=s?Math.round(i)+"px":0,e=Math.min(s,r)+"px"}return{display:"block",height:e,top:t}},logoKey:function(){return this.$store.getters["logo/logoKey"]},renderLogo:function(){return this.$store.getters["logo/renderLogo"]}},methods:{documentOnMouseUp:function(){clearTimeout(this.inspectorModeTimeoutId)},documentOnMouseDown:function(t){var e=this;t.shiftKey&&t.altKey&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.inspectorModeTimeoutId=setTimeout((function(){e.$store.dispatch("workspace/setInspectorMode",!e.inspectorMode)}),1e3))},fitBook:function(t,e){var i=u({},e),s=this.$store.state.book.bookSize,r=this.bookScaleSize,o=this.pagesCount,a=Object(n.fit)({width:2*s.width,height:s.height},i),h=Object(d.default)(o,o,a,.1*a.width),l=(r||100)/100,c=28,f=34,g=this.isSingleMode?2*f:2*c,p=10;"desktop"===this.layout?(this.hasThickness&&(i.width-=h),i.width-=g):"mobile"===this.layout&&(!this.isSingleMode&&this.hasThickness&&(i.width-=h),i.height-=p);var m=Object(n.fit)(t,i);this.isHardcover&&(m.width=m.width/(this.isSingleMode?1.04:1.03),m.height=m.height/1.03);var v=m.height/m.width;return m.width=Math.floor(m.width*l),m.width=m.width%2==0?m.width:m.width+1,m.height=Math.floor(v*m.width),{width:m.width,height:m.height}},resize:function(){var t=window.getComputedStyle(this.$el),e={left:1*t.getPropertyValue("margin-left").split("px")[0],right:1*t.getPropertyValue("margin-right").split("px")[0],top:1*t.getPropertyValue("margin-top").split("px")[0],bottom:1*t.getPropertyValue("margin-bottom").split("px")[0]};this.containerSize={width:this.size.width-e.left-e.right,height:this.size.height-e.top-e.bottom,top:this.size.top+e.top,left:this.size.left+e.left},this.$store.dispatch("workspace/setContainerSize",this.containerSize);var i=this.fitBook(this.originalBookSize,this.containerSize),s=Math.round(i.width/(this.isSingleMode?1:2)),r=Math.round(i.height);r=r%2==0?r:r+1,this.bookSize={width:s,height:r,zoomFactor:this.originalBookSize.zoomFactor}},goToRightPage:function(){var t=this;this.$store.state.pager.freezed||setTimeout((function(){t.movePagerRight({target:"free-space-tap"})}),0)},goToLeftPage:function(){var t=this;this.$store.state.pager.freezed||setTimeout((function(){t.movePagerLeft({target:"free-space-tap"})}),0)},arrowHover:function(t,e){this.$refs.bookComponent&&"function"==typeof this.$refs.bookComponent.arrowHover&&this.$refs.bookComponent.arrowHover(t,e)},afterFade:function(){this.ctrFade="no-fade"}},beforeMount:function(){this.$store.dispatch("workspace/setBookComponent",this.bookComponent),this.$root.$on("forceBookResize",this.resize)},mounted:function(){this.resize(),this.hasPages||this.$root.onPublicationLoad({}),document.addEventListener("mousedown",this.documentOnMouseDown),document.addEventListener("mouseup",this.documentOnMouseUp)},beforeDestroy:function(){this.$root.$off("forceBookResize",this.resize),document.removeEventListener("mousedown",this.documentOnMouseDown),document.removeEventListener("mouseup",this.documentOnMouseUp)},watch:{size:"resize",bookScaleSize:function(){this.resize()},originalBookSize:function(){this.resize()},hasThickness:function(){this.resize()},bookComponent:function(t){this.$store.dispatch("pager/setForceRerender",{forceRerender:!1}),this.$store.dispatch("workspace/setBookComponent",t),this.resize()},pagerState:function(t,e){var i=this;!this.miniState||this.miniFullScreen||t.isEqualState(e)||(this.ctrFade="ctr-fade",this.$nextTick((function(){i.miniFullScreen=!0})))},renderLogo:function(t){var e,i,s=this;t||((null===(e=this.$refs)||void 0===e||null===(i=e.logoComponent)||void 0===i?void 0:i.$el)&&!this.$refs.logoComponent.$el.parentElement&&this.$el.appendChild(this.$refs.logoComponent.$el),this.$nextTick((function(){s.$store.dispatch("logo/updateKey")})))}}}},function(t,e,i){"use strict";i.r(e);var s=i(127);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(128),r=i(766),o=i(454),n=i(456),a=i(458),h=i(460),l=i(462),c=i(464),d=i(470),u=i(472),f=i(473),g=i(29),p=i(474),m=i(8),v=i(16),b=i(5),S=(i(187),i(819),i(820),i(69),i(70),i(41)),w=i.n(S),y={"content-block":o.default,"content-link":n.default,"content-image":a.default,"content-gallery":h.default,"content-gif":l.default,"content-video":c.default};e.default={name:"FlipBook",mixins:[u.default,f.default,g.default],props:{containerSize:{type:Object,required:!0},pageSize:{type:Object,required:!0}},components:{page:s.default,selectTextPanel:d.default},data:function(){return{status:"ready",zoomFactor:1,scaleFactor:1,scaleOrigin:{x:0,y:0},holderScrollTop:0,holderScrollLeft:0,holderScrollY:0,holderScrollX:0,zoomTimeout:0,addNoteTimeout:0,hideLeftArrow:!1,hideRightArrow:!1,visiblePages:"right",animation:!1,lastWheelTime:0,dragActive:!0,stripesWidth:0,dragging:!1,lastZoomFactor:null,overriddenPagerState:null}},beforeMount:function(){this.visiblePages=this.getVisiblePages(),this.lastZoomFactor=this.defaultZoomFactor,this.zoomFactor=this.$store.state.pages.size.zoomFactor,this.setPageSize(this.pageSize)},mounted:function(){var t={};t.bookWidth=2*this.$store.state.pages.size.width,t.bookHeight=this.$store.state.pages.size.height,this.bookHolderElement=this.$el.querySelector("#book-holder"),this.lastZoomBlockID=null,this.flipAdapter=new r.default({bookSize:this.bookSize,state:this.$store,container:this.bookHolderElement,parentVm:this,contentCreator:this.contentCreator,initDomEvents:!this.isEmbed,version:this.version}),this.toggleBlockOnFlip(),this.flipAdapter.on("render:start",this.onRenderStart,this),this.flipAdapter.on("render:finish",this.onRenderFinish,this),this.flipAdapter.on("flip:finished",this.onFlipFinished,this),this.$root.$on("contextMenu:zoomIn",this.zoomIn),this.$root.$on("contextMenu:zoomOut",this.zoomOut),this.$root.$on("bottomMenu:zoomIn",this.zoomIn),this.$root.$on("bottomMenu:zoomOut",this.zoomOut),this.$root.$on("zoomPanel",this.changeZoom),this.$root.$on("zoomMove",this.zoomMove),this.$root.$on("wheel",this.onWheel),this.zoomFactor>1&&this.refreshScroll()},beforeDestroy:function(){this.$root.$off("contextMenu:zoomIn",this.zoomIn),this.$root.$off("contextMenu:zoomOut",this.zoomOut),this.$root.$off("bottomMenu:zoomIn",this.zoomIn),this.$root.$off("bottomMenu:zoomOut",this.zoomOut),this.$root.$off("zoomPanel",this.changeZoom),this.$root.$off("zoomMove",this.zoomMove),this.$root.$off("wheel",this.onWheel),this.flipAdapter.off("render:start",this.onRenderStart,this),this.flipAdapter.off("render:finish",this.onRenderFinish,this),this.flipAdapter.off("flip:finished",this.onFlipFinished,this),this.flipAdapter.destructor()},watch:{forceRerender:function(){this.forceRerender&&(this.$store.dispatch("pager/setForceRerender",{forceRerender:!1}),this.flipAdapter.resetBook())},pageSize:function(t){this.setPageSize(t)},zoomFactor:function(t,e){var i=this;this.toggleBlockOnFlip();var s={width:this.pageSize.width,height:this.pageSize.height};if(s.width=s.width*t,s.height=s.height*t,s.zoomFactor=t,this.$store.dispatch("pages/changePageSize",s),t>1&&1===e){var r=this.$store.getters["pager/currentPages"].some((function(t){return i.$store.getters["pages/pageProp"](t,"textBlocks")}),this);this.selectTextEnabled&&r&&!this.$store.state.pager.isMoveWatcherActive&&this.showSelectTextTip()}},zoomPanel:function(){this.toggleBlockOnFlip()},status:function(t){"ready"!==t?(this.$store.dispatch("pager/freeze",{target:"flip-book-zoom"}),this.$store.dispatch("workspace/setAnimationProgress",{animationType:this.scaleFactor>1&&1===this.zoomFactor?"initialZoom":"zoomNotInitial"})):(this.$store.dispatch("pager/unfreeze",{target:"flip-book-zoom"}),this.$store.dispatch("workspace/unsetAnimationProgress")),this.toggleBlockOnFlip(),this.refreshScroll(),this.$store.dispatch("workspace/setStatus",t)},bookSize:function(t){this.flipAdapter.resizeBook(t)},singleMode:function(t){this.zoomOut(!0),this.flipAdapter.setSingleMode(t)},currentPages:function(t,e){var i=this;if(t.mode===e.mode||t.zoomMode===e.zoomMode)if(t.isEqualState(e))t.zoomMode?this.zoomIn():this.zoomOut(!1);else{var s=function(t,e,s){t.mode===e.mode&&i.$store.dispatch("sound/playFlipSound",{hardcover:e.hardcover||t.hardcover});var r=i.$store.getters["pager/getDeltaTurns"](e,t);if(1===Math.abs(r)){var o=r>0?"toLeft":"toRight",n=r>0?!t.rightPage||t.isLastSpread:!t.leftPage||t.isFirstSpread;"flipComponent"!==t.target&&"orientation"!==t.target&&n&&i.$store.dispatch("pager/setForceFlip",{forceFlip:!0}),i.flipAdapter.updateState(o,t,s)}else Math.abs(r)>1&&i.flipAdapter.updateState("toPage",t,s)};if(1!==this.zoomFactor){this.overriddenPagerState=e,this.zoomOut(!1);var r=this.$store.getters["pager/flipState"];this.$once("transition:end",(function(){i.overriddenPagerState=null,setTimeout(s.bind(i,t,e,r),0)}))}else{var o=this.$store.getters["pager/flipState"];setTimeout(s.bind(this,t,e,o),0)}}},isWorkspaceFrozen:function(t){t?this.flipAdapter.block(!1):this.flipAdapter.unblock()},workspaceSize:function(t,e){if(1!==this.zoomFactor)if(t.width!==e.width&&0!==t.width&&0!==e.width&&null!==t.width&&null!==e.width){var i=e.width/t.width,s=Math.max(this.minZoom,Math.min(this.maxZoom,this.zoomFactor*i));this.setZoom(s,!0)}else if(this.isInitialZoom){var r={x:this.isRTLBook?this.bookHolderSize.width:0,y:0},o={x:r.x-this.bookHolderSize.left,y:r.y-this.bookHolderSize.top};this.scaleFactor=1;var n=Object(p.getNewCenteredBounds)(this.containerSize,this.bookHolderSize,this.scaleFactor,o);n=Object(p.normalizeBounds)(n,this.containerSize),this.holderScrollLeft=n.left,this.holderScrollTop=n.top,this.$store.dispatch("workspace/clearInitialZoom")}},isRTLBook:function(t){this.flipAdapter.setRtl(t)},isHardcover:function(t){this.zoomOut(!0),this.flipAdapter.setHardcover(t),this.$root.$emit("forceBookResize")},hardcoverColor:function(t){this.flipAdapter.setHardcoverColor(t)},hasThickness:function(t){this.flipAdapter.setThickness(t)},isOnlyRightPage:function(){var t=this.getVisiblePages();t!==this.visiblePages&&(this.visiblePages=t)},isOnlyLeftPage:function(){var t=this.getVisiblePages();t!==this.visiblePages&&(this.visiblePages=t)},dragActive:function(t){t?this.$refs.bookHolder.$el.classList.remove("nodrag"):this.$refs.bookHolder.$el.classList.add("nodrag")},isMini:function(){this.zoomOut(!0)},workspaceBookSize:function(){this.zoomOut(!0)},orientationChanged:function(t,e){e&&this.zoomOut(!0)}},computed:{bookSize:function(){var t,e=this.$store.state;return t=e.book.rightToLeft?"left"===this.visiblePages?-e.pages.size.width:0:this.singleMode||"right"===this.visiblePages?-e.pages.size.width:0,{width:2*this.$store.state.pages.size.width,height:this.$store.state.pages.size.height,top:this.containerSize.top+(this.containerSize.height-e.pages.size.height)/2,left:t}},isOnlyRightPage:function(){var t,e=null!==(t=this.overriddenPagerState)&&void 0!==t?t:this.$store.getters["pager/state"];return e.spreadMode&&null===e.leftPage},isOnlyLeftPage:function(){var t,e=null!==(t=this.overriddenPagerState)&&void 0!==t?t:this.$store.getters["pager/state"];return e.spreadMode&&null===e.rightPage},bookHolderSize:function(){var t,e,i="both"!==this.visiblePages,s=this.$store.getters["pages/size"],r=this.singleMode,o=this.isHardcover,n=this.containerSize.width,a=this.containerSize.height,h=this.holderScrollLeft,l=this.holderScrollTop,c=this.stripesWidth||0,d=24,u=i||r?s.width:2*s.width;return 1===this.zoomFactor?(t=(n-u)/2,e=(a-s.height)/2):(t=h,e=l),this.$store.dispatch("workspace/setHolderSize",{width:u*(o?1.03:1)+2*c+2*d,height:s.height*(o?1.03:1),left:1===this.zoomFactor?t:0,top:1===this.zoomFactor?e:0}),{width:u,height:s.height,top:e,left:t}},bookHolderStyle:function(){var t=this.bookHolderSize,e=this.containerSize,i=this.zoomFactor,s=this.scaleOrigin,r=this.holderScrollLeft,o=this.holderScrollTop,n=this.scaleFactor,a=this.status,h=this.fastAnimation,l=this.animationSpeed,c=e.height>=t.height?Math.round(t.top)+"px":"0",d=e.width>=t.width?Math.round(t.left)+"px":"0",u={width:t.width+"px",height:t.height+"px",top:1===i?t.top+"px":c,left:1===i?t.left+"px":d};if("animating"===a||"pinch"===a||"scale"===a){u.transformOrigin=s.x+"px "+s.y+"px";var f="translate("+(e.width<t.width?r:0)+"px,"+(e.height<t.height?o:0)+"px) translateZ(0) ",g="scale3d("+n+", "+n+", "+n+")";u.transform=0!==o||0!==r?f+g:g;var p="transform "+(h?1:l)+"ms "+(this.isFirefox||h?"linear":"cubic-bezier(0.215, 0.61, 0.355, 1)");u.transition="animating"===a?p:"transform 0s"}else u.transition="transform 0s",1===i&&(u.transform="");return u},flipBookClass:function(){var t={};t.zoomed=1!==this.zoomFactor||1!==this.scaleFactor,t.rtl=this.isRTLBook,t["arrow-attract-right"]="right"===this.arrowAttract,t["arrow-attract-left"]="left"===this.arrowAttract;var e=this.$store.state.book.bookSize.height/this.$store.state.book.bookSize.width;return this.isHardcover&&(e<=1.1&&e>=.9?t.square=!0:e>1.1?t.portrait=!0:t.landscape=!0),t["drag-active"]=this.dragging,t["single-page"]=this.pageCount<=2,t["single-mode"]=this.singleMode,t},pageCount:function(){return this.$store.getters["pages/pagesCount"]},currentPages:function(){var t=this.$store.getters["pager/state"],e=this.$store.getters["pages/isFirstPage"](t.currentPage),i=t.spreadMode&&!this.$store.state.pager.spread_rightPage,s=this.isHardcover&&(e||i);return Object(v.default)(t,{hardcover:s})},singleMode:function(){return this.$store.state.pager.singleMode},forceRerender:function(){return this.$store.state.pager.forceRerender},holderOriginalWidth:function(){return"both"!==this.visiblePages||this.singleMode?this.pageSize.width:2*this.pageSize.width},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},frozenBy:function(){return this.$store.state.workspace.frozenBy?this.$store.state.workspace.frozenBy:null},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},wheelScroll:function(){return this.$store.state.workspace.wheelScroll},workspaceSize:function(){return this.$store.state.workspace.containerSize},workspaceBookSize:function(){return this.$store.state.workspace.bookSize},orientationChanged:function(){return this.$store.getters["workspace/orientation"]},minZoom:function(){var t=this.isHardcover&&(this.isFirstPage||this.isLastPage)?1.03:1;return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height*t/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(this.$store.state.pages.size.width*t*2/this.$store.state.pages.size.zoomFactor))},maxZoom:function(){return this.$store.state.workspace.maxZoom},isInitialZoom:function(){return this.$store.state.workspace.initialZoom},animationSpeed:function(){return this.scaleFactor<1?400:600},isMini:function(){return this.$store.state.workspace.mini},isEmbed:function(){return this.$store.state.workspace.isEmbed},version:function(){return this.$store.getters["info/version"]},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isFirefox:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.firefox},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},isMac:function(){return!0===this.$store.state.workspace.userAgentInfo.os.mac},isRTLBook:function(){return this.$store.state.book.rightToLeft},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},isHardcover:function(){return this.$store.getters["book/hasHardcover"]},hardcoverColor:function(){return this.$store.state.book.hardcoverColor},hasThickness:function(){return this.$store.state.book.thickness},isFirstPage:function(){var t=this.$store.getters["pager/isFirstSpread"],e=this.$store.getters["pager/isLastSpread"];return this.isRTLBook?e:t},isLastPage:function(){var t=this.$store.getters["pager/isLastSpread"],e=this.$store.getters["pager/isFirstSpread"];return this.isRTLBook?e:t},isSecondPage:function(){var t=this.$store.getters["pager/prevPageId"];return this.$store.getters["pages/isFirstPage"](t)},isSecondToLastPage:function(){var t=this.$store.getters["pager/nextPageId"];return this.$store.getters["pages/isLastPage"](t)},isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},showLeftButtons:function(){var t=!(this.isLightboxShown||1!==this.zoomFactor||1!==this.scaleFactor||"html"!==this.version||this.isFirstPage||this.hideLeftArrow&&(this.isRTLBook?this.isSecondToLastPage:this.isSecondPage));return t||this.switchFocus("left","right"),t},showRightButtons:function(){var t=!(this.isLightboxShown||1!==this.zoomFactor||1!==this.scaleFactor||"html"!==this.version||this.isLastPage||this.hideRightArrow&&(this.isRTLBook?this.isSecondPage:this.isSecondToLastPage));return t||this.switchFocus("right","left"),t},notesEnabled:function(){return this.$store.state.workspace.components.notes&&!this.isMini},showRightAddNote:function(){return(this.showRightButtons||this.hideRightArrow)&&(!this.isLocaleRtl||this.isFirstPage)},addNoteTitleText:function(){return this.$t("NotesToolWindow.ADD_NOTE")},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")},leftMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.LAST_PAGE_TIP"):this.$t("NavigationPanel.FIRST_PAGE_TIP")},rightMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.FIRST_PAGE_TIP"):this.$t("NavigationPanel.LAST_PAGE_TIP")},bookState:function(){return this.flipAdapter},selectTextEnabled:function(){return!this.isMobile&&!this.isIE&&this.$store.state.workspace.components.textSelection},arrowAttract:function(){var t=this.$store.getters["workspace/callToNavigation"];return"arrow"===t.type&&t.side},eventHandlers:function(){var t=this.isEmbed?{}:{doubletap:this.zoomByTap.bind(this,"tap"),pinchstart:this.zoomByPinchStart,pinchmove:this.zoomByPinchMove,pinchend:this.zoomByPinchFinish,pinchcancel:this.zoomByPinchFinish};return t.tap=this.isHardcover?this.clickOnCover:function(){},t}},methods:{setPageSize:function(t){var e={width:t.width*this.zoomFactor,height:t.height*this.zoomFactor,zoomFactor:this.zoomFactor};this.$store.dispatch("pages/changePageSize",e)},clickOnCover:function(t){for(var e=Object(m.composedPath)(t.target),i=0,s=e.length;i<s&&!e[i].classList.contains("page");i++){if(e[i].classList.contains("z1")&&e[i].classList.contains("hard-front")){this.rightPage();break}if(e[i].classList.contains("z3")&&e[i].classList.contains("hard-front")){this.leftPage();break}}},switchFocus:function(t,e){["notes","go","go-last"].forEach((function(i){var s,r=[i,t].join("-"),o=[i,e].join("-");document.body.contains(document.activeElement)&&(null===(s=document.activeElement)||void 0===s?void 0:s.getAttribute("data-nav-name"))===r&&document.querySelector('[data-nav-name="'+o+'"]').focus()}))},onRenderStart:function(t){t.drag&&"left"===t.hide?this.hideLeftArrow=!0:t.drag&&"right"===t.hide&&(this.hideRightArrow=!0),this.animation=!0,this.$root.$emit("turnStart")},onRenderFinish:function(){this.hideLeftArrow=!1,this.hideRightArrow=!1,this.animation=!1,this.$root.$emit("render:finish"),this.$root.$emit("turnStop")},onFlipFinished:function(){this.$root.$emit("turned")},onWheel:function(t){if(!(!this.wheelScroll||this.isMini||Date.now()-this.lastWheelTime<200||t.target&&"note-article"===t.target.className)){if(t.ctrlKey||t.metaKey){if("ready"!==this.status)return;var e=-1*t.deltaY,i=this.getSuitableZoomFactor(this.zoomFactor,e,this.minZoom,this.maxZoom);e<0&&!i&&this.zoomOut(!1,"wheel-zoom"),i&&(this.$store.dispatch("pager/setLastTarget","wheel-zoom"),this.setZoom(i,!0,{x:t.clientX,y:t.clientY}))}else{if(this.zoomFactor>1||this.scaleFactor>1)return;this.$store.state.notes.opened&&this.$store.dispatch("notes/setOpenedId",{id:null}),t.deltaY>0?this.$store.dispatch("pager/goForward",{target:"wheel"}):t.deltaY<0&&this.$store.dispatch("pager/goBackward",{target:"wheel"})}this.lastWheelTime=Date.now()}},zoomMove:function(t){if(t&&t.direction)if("ready"===this.status){var e;switch(t.direction){case"left":case"right":e=this.getScrollAmount(t,this.iscroll.x,0,this.containerSize,this.bookHolderSize),this.iscroll.scrollBy(e,0);break;case"up":case"down":e=this.getScrollAmount(t,0,this.iscroll.y,this.containerSize,this.bookHolderSize),this.iscroll.scrollBy(0,e);break;case"drag":this.dragActive=t.active,this.iScrollInit(this.dragActive)}this.iscroll&&(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}))}else"drag"===t.direction&&(this.dragActive=t.active)},getVisiblePages:function(){return this.isOnlyRightPage?"right":this.isOnlyLeftPage?"left":"both"},toggleBlockOnFlip:function(){var t=this;1!==this.zoomFactor||this.zoomPanel||"ready"!==this.status?this.flipAdapter.block(!0):setTimeout((function(){t.flipAdapter.unblock()}),20)},refreshScroll:function(){var t=this;this.cancelDragging(),this.$nextTick((function(){t.zoomFactor>1&&"ready"===t.status?t.iScrollInit(t.dragActive):t.iscroll&&(t.holderScrollX=0,t.holderScrollY=0,t.$store.dispatch("text/setHolderScroll",{x:t.holderScrollX,y:t.holderScrollY}),t.iscroll.destroy(),delete t.iscroll)}))},onScrollEnd:function(){this.cancelDragging(),this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY})},onScrollBegin:function(){this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY})},setDragging:function(){1!==this.zoomFactor&&(this.dragging=!0)},cancelDragging:function(){this.dragging=!1},zoomOut:function(t,e){if(1!==this.zoomFactor){if(this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),t)return this.status="calculating",this.zoomFactor=1,this.scaleFactor=1,this.refreshScroll(),this.holderScrollLeft=0,this.holderScrollTop=0,this.status="ready",this.$root.$emit("unzoomed"),void(this.fastAnimation=!1);this.zoomByTap(e,{center:{x:0,y:0}})}},zoomIn:function(t){this.zoomFactor>1||this.zoomByTap(t)},zoomByTap:function(t,e){if(t&&this.$store.dispatch("pager/setLastTarget",t),!(this.zoomTimeout>Date.now()||this.isWorkspaceFrozen||"ready"!==this.status||"pending"!==this.$store.state.pager.flipState||this.isMini)){e||(e={center:{x:this.isRTLBook?this.workspaceSize.width:0,y:0},target:null});var i=["next-button","previous-button","icon-book-next","icon-book-prev","reflex-container"];if(!e.target||!(i.indexOf(e.target.className)>=0||e.target.classList.contains("stripe")||e.target.classList.contains("page-stripe")||Object(b.isString)(e.target.className)&&e.target.className.indexOf("stripe-block")>=0||"0-0"===e.target.dataset.page||"textarea"===e.target.tagName.toLowerCase())){this.status="calculating";var s,r=!1,o=this.getTappedZoomBlock(e);if("mobile"===this.version&&o.id){r=this.lastZoomBlockID!==o.id;var n=this.bookHolderElement.getBoundingClientRect();s=this.getBlockRect(o.rect,n)}if(this.lastZoomBlockID=r?o.id:null,r){var a=1.5,h=40,l=2,c=this.containerSize.width-h*l,d=1*(.96*c/s.width).toFixed(2),u=this.bookHolderSize.width-s.width-s.left;(s.left*d<h||u*d<h)&&(l=1,d=1*(.96*(c=this.containerSize.width-h*l)/s.width).toFixed(2)),this.updateHolderScroll(!0),this.scaleFactor=this.checkScaleFactorForZoom(d,this.zoomFactor,this.maxZoom),this.scaleFactor*this.zoomFactor<a&&(this.scaleFactor=a/this.zoomFactor)}else this.scaleFactor=1!==this.zoomFactor||this.zoomPanel?this.holderOriginalWidth/this.bookHolderSize.width:this.lastZoomFactor;var f={x:e.center.x-this.bookHolderSize.left,y:e.center.y-this.bookHolderSize.top},g=Object(p.getNewCenteredBounds)(this.containerSize,this.bookHolderSize,this.scaleFactor,f);if(r){var m=s.left*this.scaleFactor,v=s.width*this.scaleFactor;g.left=-m+(this.containerSize.width-v)/2}g=Object(p.normalizeBounds)(g,this.containerSize),this.status="animating",this.scaleOrigin=Object(p.getOrigin)(this.bookHolderSize,g,this.scaleFactor),this.newBounds=g,this.refreshScroll(),this.flipAdapter.setZoom(this.scaleFactor*this.zoomFactor>1),this.scaleFactor>1?this.$root.$emit("zoomed"):(this.scaleFactor<1||this.zoomPanel&&1===this.scaleFactor)&&this.$root.$emit("unzoomed"),this.$store.dispatch("workspace/setHighlightTimeout",Date.now()+1e3)}}},zoomByPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||"inProgress"===this.$store.state.pager.flipState||this.isMini||(this.$store.dispatch("pager/setLastTarget","pinch-zoom"),this.minScale=this.holderOriginalWidth/this.bookHolderSize.width,this.scaleFactor=1,this.updateHolderScroll(!0),this.scaleOrigin={x:t.center.x-this.bookHolderSize.left,y:t.center.y-this.bookHolderSize.top},this.status="pinch")},zoomByPinchMove:function(t){if("pinch"===this.status){var e=Math.max(t.scale,this.minScale);this.scaleFactor=this.checkScaleFactorForZoom(e,this.zoomFactor,this.maxZoom)}},zoomByPinchFinish:function(t){if("pinch"===this.status){var e=Object(p.getNewBounds)(this.bookHolderSize,this.scaleFactor,{x:this.scaleOrigin.x,y:this.scaleOrigin.y});e=Object(p.normalizeBounds)(e,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.holderScrollLeft=1===this.zoomFactor?0:e.left,this.holderScrollTop=1===this.zoomFactor?0:e.top,this.status="ready",this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed"),this.scaleFactor=1}},setZoom:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;if(!this.isWorkspaceFrozen&&"ready"===this.status){this.scaleFactor=t/this.zoomFactor,this.updateHolderScroll(!1);var s=i||{x:this.workspaceSize.width/2,y:this.workspaceSize.height/2},r={x:s.x-this.bookHolderSize.left,y:s.y-this.bookHolderSize.top},o=Object(p.getNewBounds)(this.bookHolderSize,this.scaleFactor,r);o=Object(p.normalizeBounds)(o,this.containerSize),this.scaleOrigin=Object(p.getOrigin)(this.bookHolderSize,o,this.scaleFactor),this.newBounds=o,this.flipAdapter.setZoom(this.scaleFactor*this.zoomFactor>1),this.fastAnimation=e,this.status="animating",this.refreshScroll()}},setScaleStart:function(){this.minScale=Math.max(this.minZoom/this.zoomFactor,this.holderOriginalWidth/this.bookHolderSize.width),this.maxScale=this.maxZoom/this.zoomFactor,this.scaleFactor=1,this.updateHolderScroll(!1),this.scaleOrigin={x:this.workspaceSize.width/2-this.holderScrollLeft,y:this.workspaceSize.height/2-this.holderScrollTop},this.status="scale"},setScale:function(t){if("scale"===this.status){var e=this.minScale+(this.maxScale-this.minScale)*t,i=Object(p.getNewBounds)(this.bookHolderSize,e,{x:this.workspaceSize.width/2-this.holderScrollLeft,y:this.workspaceSize.height/2-this.holderScrollTop});i=Object(p.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(p.getOrigin)(this.bookHolderSize,i,e);var s=Math.min(this.maxScale,Math.max(this.minScale,e));this.scaleFactor=this.checkScaleFactorForZoom(s,this.zoomFactor,this.maxZoom)}},setScaleFinish:function(){if("scale"===this.status){var t=Object(p.getNewBounds)(this.bookHolderSize,this.scaleFactor,this.scaleOrigin);t=Object(p.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.holderScrollLeft=1!==this.zoomFactor?t.left:0,this.holderScrollTop=1!==this.zoomFactor?t.top:0,this.status="ready"}},changeZoom:function(t){switch(this.$store.dispatch("pager/setLastTarget","change-zoom"),t.action){case"setZoom":this.setZoom(t.zoomFactor,t.fast);break;case"startScale":this.setScaleStart();break;case"changeScale":this.setScale(t.scalePosition);break;case"endScale":this.setScaleFinish();break;case"zoomIn":this.zoomByTap();break;case"zoomOut":this.dragActive=!0,this.zoomOut()}},transitionEnd:function(t){t&&"transform"===t.propertyName&&t.target===this.bookHolderElement&&"animating"===this.status&&(this.fastAnimation=!1,this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.holderScrollLeft=1===this.zoomFactor?0:this.newBounds.left,this.holderScrollTop=1===this.zoomFactor?0:this.newBounds.top,this.status="ready",this.$emit("transition:end"))},updateHolderScroll:function(t){t&&1===this.zoomFactor||(this.containerSize.width<this.bookHolderSize.width&&(this.holderScrollLeft=this.holderScrollX),this.containerSize.height<this.bookHolderSize.height&&(this.holderScrollTop=this.holderScrollY))},contentCreator:function(t){return y["content-"+t.type]},rightPage:function(){var t=this;this.addNoteTimeout>Date.now()||this.$store.state.pager.freezed||(this.zoomTimeout=Date.now()+500,setTimeout((function(){t.movePagerRight({target:"nav-arrow-tap"})}),0))},leftPage:function(){var t=this;this.addNoteTimeout>Date.now()||this.$store.state.pager.freezed||(this.zoomTimeout=Date.now()+500,setTimeout((function(){t.movePagerLeft({target:"nav-arrow-tap"})}),0))},rightmostPage:function(){var t=this;this.zoomTimeout=Date.now()+500,setTimeout((function(){t.movePagerRightmost({navTarget:!0})}),0)},leftmostPage:function(){var t=this;this.zoomTimeout=Date.now()+500,setTimeout((function(){t.movePagerLeftmost({navTarget:!0})}),0)},arrowHover:function(t,e){e?this.$el.classList.add(t+"-highlighted"):this.$el.classList.remove(t+"-highlighted")},btnAddNote:function(t){var e,i,s;this.zoomTimeout=Date.now()+500,this.addNoteTimeout=Date.now()+500,this.currentPages.singleMode?(e=this.currentPages.currentPage,i=this.currentPages.widePageSecondHalf,s=this.isRTLBook&&this.$store.getters["pages/pageProp"](e,"wide")&&!i):(e="left"===t&&!this.isRTLBook||"right"===t&&this.isRTLBook?this.currentPages.leftPage:this.currentPages.rightPage,i="right"===t&&this.currentPages.wide),this.$store.dispatch("notes/addNote",{pageId:e,wideRight:i,wideOpposite:s})},iScrollInit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1!==this.zoomFactor&&(this.iscroll?(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.iscroll.off("beforeScrollStart",this.setDragging),this.iscroll.off("scrollCancel",this.cancelDragging),this.iscroll.off("scroll",this.onScrollBegin),this.iscroll.off("scrollEnd",this.onScrollEnd),this.iscroll.destroy(),delete this.iscroll):(this.holderScrollX=this.containerSize.width<this.bookHolderSize.width?this.bookHolderSize.left:0,this.holderScrollY=this.containerSize.height<this.bookHolderSize.height?this.bookHolderSize.top:0),this.iscroll=new w.a(this.$el,{mouseWheel:t,scrollbars:!1,freeScroll:!this.isMobile,scrollX:this.containerSize.width<this.bookHolderSize.width,scrollY:this.containerSize.height<this.bookHolderSize.height,probeType:1,bindToWrapper:this.isMobile,bounce:!1,useTransition:!0,startX:this.holderScrollX,startY:this.holderScrollY,disablePointer:!0,disableTouch:!1,disableMouse:!t}),this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}),this.iscroll.on("beforeScrollStart",this.setDragging),this.iscroll.on("scrollCancel",this.cancelDragging),this.iscroll.on("scroll",this.onScrollBegin),this.iscroll.on("scrollEnd",this.onScrollEnd))},getPageInfo:function(t,e,i){return{page:t,wide:this.$store.getters["pages/pageProp"](t,"wide"),first:this.$store.getters["pages/isFirstPage"](t),last:this.$store.getters["pages/isLastPage"](t),index:null!==t?this.$store.getters["pages/pageIndexById"](t):this.$store.getters["pages/pageIndexById"](e)+i}},getStateInfo:function(t){return{right:this.getPageInfo(t.rightPage,t.leftPage,1),left:this.getPageInfo(t.leftPage,t.rightPage,-1),differentPages:t.rightPage!==t.leftPage}}}}},function(t,e,i){"use strict";i.r(e);var s=i(747),r=i(129),o=(i(765),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/page/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(130);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(443),r=i(29),o=i(8),n=i(748),a=i(753),h=i(3),l=i(756),c=i(14),d=i(760),u=i(23);function f(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=g(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){a=!0,o=t},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw o}}}}function g(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={mixins:[s.default,r.default],props:{contentCreator:{type:Function,default:function(){}},deferPageLoad:{type:Boolean,default:!0},autoHighlight:{type:Boolean,default:!0}},data:function(){return{zoomInProgress:!1,isHighlighted:!1,contentItemsReady:0,highlightTimeout:null,highlightOffTimeout:null,preloaderVisibleCache:!1,backgroundsCache:null,vectorLayerCache:null,isLoadingCache:null,updatePendingCache:null,tapTimeout:0,tapped:!1,canvasUpdated:!1,resizeCancelled:!1,cancelResize:function(){},urlBlackList:this.$store.state.workspace.urlBlackList,stubUrl:Object(h.default)().translatePath("assets/pages/pagestub.png"),devicePixelRatio:window.devicePixelRatio,isLoading:!0,isSVGSupported:!1,textUrl:null,substrateUrl:null,pageContent:null,contentActive:!0,hideLeftStripe:null,hideRightStripe:null,noImageCache:!1}},components:{spinner:u.default,selectText:n.default,selectTextMobile:a.default,note:l.default,flipMe:d.default},watch:{rawIsLoading:function(t,e){e!==t&&(this.isLoading=t)},isLoading:function(t){var e=this;t||setTimeout((function(){e.thDebounced=!1,e.$emit("loaded",e)}),400),this.refreshCache()},updatePending:function(t){this.refreshCache(),t&&!this.hasError&&this.setCursor("progress")},isZoomed:function(t){t||this.setCursor("inherit"),1===this.substrateNum&&this.updateCanvasDebounced(!0)},isCurrent:function(t){this.lastIsCurrent!==t&&(this.alreadyLoaded&&this.getProperties(),t?(this.checkHighlight(),this.updateCanvasDebounced(!1)):(this.isHighlighted=!1,this.cancelResize("not current",!0)),this.lastIsCurrent=t)},contentPagesArray:function(t){this.getContent()},content:function(t){t.length>0&&this.$emit("content:changed"),this.refreshCache()},isResizing:function(t){this.$emit("resize:"+(t?"start":"end")),this.refreshCache(),t?(clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.isHighlighted=!1):this.checkHighlight()},contentFreezed:function(t){this.refreshCache(),t?this.cancelResize("freezed",!0):(this.resizeCancelled=!1,this.updateCanvasDebounced(!1))},preloaderVisible:function(t,e){this.refreshCache(),this.isCurrent&&!t&&e&&this.$root.$emit("pageLoaded")},backgrounds:function(){this.refreshCache()},backgroundsCache:function(){this.updateCanvasDebounced(!0)}},created:function(){var t=this;this.updateCanvasDebounced=Object(o.debounce)((function(e){e&&(t.canvasUpdated=!1),t.updateCanvas()}),1e3),this.isLoading=this.rawIsLoading},mounted:function(){this.refreshCache(),this.$root.$on("zoomMove",this.zoomMove),this.getContent(),window.addEventListener("resize",this.onResize)},beforeUpdate:function(){this.contentItemsReady>this.content.length&&(this.contentItemsReady=this.content.length)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.cancelResize("destroyed",!0),this.updateCanvasDebounced.destroy(),this.$root.$off("zoomMove",this.zoomMove),clearTimeout(this.highlightTimeout),clearTimeout(this.highlightOffTimeout),this.$refs.bgImage.onload=null,this.$refs.bgImage.onerror=null,this.$refs.bgImage.src="",this.$refs.bgSVG&&(this.$refs.bgSVG.src="")},methods:{bgCacheImageLoaded:function(t){this.isZoomed&&t===this.substrateUrl&&this.setCursor("inherit")},getContent:function(){this.pageContent=this.$store.getters["pages/pageContent"](this.pageId)},getProperties:function(){this.isSVGSupported=this.$store.getters["pages/isSVGSupported"](this.pageId),this.thumbnailUrl=this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.textUrl=this.$store.getters["pages/pageProp"](this.pageId,"textUrl"),this.substrateUrl=this.$store.getters["pages/pageProp"](this.pageId,"substrateUrl"),this.isReady=this.$store.getters["pages/pageProp"](this.pageId,"status")===c.default.READY,this.loadPending=this.$store.getters["pages/pageProp"](this.pageId,"loadPending"),this.hasError=this.$store.getters["pages/hasError"](this.pageId)},getAPIProperties:function(){this.isWide=this.$store.getters["pages/pageProp"](this.pageId,"wide"),this.isStub=this.$store.getters["pages/pageProp"](this.pageId,"stub"),this.backgroundColor=this.enforceTransparentBg?null:this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor");var t=this.$store.getters["pages/isLastPage"](this.pageId)&&this.$store.getters["pages/pageIndexById"](this.pageId)%2!=0&&!this.isWide&&!this.$store.state.pager.singleMode;this.isOutsideHardcover="flip-book"===this.bookComponent&&this.$store.getters["book/hasHardcover"]&&(this.$store.getters["pages/isFirstPage"](this.pageId)||t)},refreshCache:function(){var t=this;this.contentFreezed||this.$nextTick((function(){t.preloaderVisibleCache=t.preloaderVisible,t.backgroundsCache=t.backgrounds,t.vectorLayerCache=t.vectorLayer,t.isLoadingCache=t.isLoading,t.updatePendingCache=t.updatePending}))},isVisible:function(t){return!this.isWide||"both"===this.pageSide||t.side===this.pageSide||t.crossWide},checkPageStripes:function(t){if(!this.isCurrent||this.isZoomed||"flip-book"!==this.bookComponent||t.srcEvent.metaKey||t.srcEvent.ctrlKey)return!1;var e=this.$el.getBoundingClientRect(),i=this.$store.getters["pager/state"].singleMode,s=i?this.isRTLBook:"left"===this.pageSide,r=i?!this.isRTLBook:"right"===this.pageSide;return s&&!this.hideLeftStripe&&t.center.x-e.left<.05*e.width?(this.leftStripeTap(),!0):!!(r&&!this.hideRightStripe&&t.center.x-e.left>.95*e.width)&&(this.rightStripeTap(),!0)},onMouseDown:function(){var t;"input"===(null===(t=document.activeElement)||void 0===t?void 0:t.tagName.toLowerCase())&&document.activeElement.blur()},onContentTap:function(t){var e=this;if(!this.isWorkspaceFrozen){null!==this.$store.state.text.selectionRect&&this.$store.dispatch("text/reset");var i=t.target.classList;if(i)if(i.contains("link"))this.tapped=!0,Date.now()>this.tapTimeout&&(setTimeout((function(){e.linkTo(t.target)}),this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval),setTimeout((function(){e.tapped=!1}),500);else if("desktop"===this.layout){var s=Object(o.classPath)(t.target);if(!i.contains("block")&&!i.contains("text-block")&&-1===s.indexOf("content")&&this.checkPageStripes(t))return;(i.contains("content")||i.contains("block")||i.contains("text-block")||i.contains("selecttext")||i.contains("select-text-canvas"))&&setTimeout((function(){if(!(e.$store.state.workspace.highlightTimeout+350>Date.now())){clearTimeout(e.highlightTimeout),clearTimeout(e.highlightOffTimeout);var t=e.getSpreadTwin();null!==t&&(clearTimeout(t.highlightTimeout),clearTimeout(t.highlightOffTimeout),t.isHighlighted=!e.isHighlighted),e.isHighlighted=!e.isHighlighted;var i=e.$store.getters["pages/urlHeaderById"]({id:e.pageId,forceFullWide:"both"===e.pageSide,widePageSecondHalf:"right"===e.pageSide});e.$root.$emit("highlight",{action:e.isHighlighted?"on":"off",page:i})}}),350)}}},linkTo:function(t){if("ready"===this.bookStatus){var e=t.getAttribute("data-id"),i=t.getAttribute("data-url");if(e&&!i)this.$store.dispatch("pager/goToPageById",{id:e,target:"link"}),this.$emit("link:click",t),this.$root.$emit("link",{type:"internal",source:"page",pageId:this.pageId,pageToId:e});else if(i){var s=!1===this.checkUrl(i);if(this.$root.$emit("link",{type:"external",pageId:this.pageId,url:i,target:t.target,source:null,isBlacklisted:s}),s)return;t.setAttribute("href",i),t.click(),t.removeAttribute("href"),this.$emit("link:click",t)}}},checkUrl:function(t){for(var e=0;e<this.urlBlackList.length;e++)if(-1!==t.indexOf(this.urlBlackList[e]))return!1;return!0},checkHighlight:function(){var t=this;if(this.isCurrent){var e=this.getSpreadTwin();null!==e&&e.isLoading?e.$once("loaded",(function(){t.checkHighlight()})):this.isLoading||this.isResizing||this.isPreloaderShown?this.isLoading&&this.content.length>0?this.$once("loaded",(function(){this.checkHighlight()})):this.isPreloaderShown?this.$once("preloader:off",(function(){this.checkHighlight()})):0===this.content.length&&this.$once("content:changed",(function(){this.checkHighlight()})):(this.autoHighlight&&this.highlightContent(),this.$emit("highlight"))}},highlightContent:function(){var t=this,e=this.getSpreadTwin(),i=this.$store.state.pager.singleMode;e&&this.isWide&&!i&&"right"===this.pageSide||(this.highlightTimeout=setTimeout((function(){t.isHighlighted=!0,e&&(e.isHighlighted=!0),t.highlightOffTimeout=setTimeout((function(){t.isHighlighted=!1,e&&(e.isHighlighted=!1)}),500)}),500))},contentItemReady:function(t){"link"!==t.data.type&&this.contentItemsReady++},contentError:function(){this.$store.dispatch("pages/setStatus",{value:c.default.ERROR,pageID:this.pageId})},updateCanvas:function(){var t=this,e=this.isZoomed&&this.substrateNum>1;if(!("desktop"!==this.layout||!this.isCurrent||e||this.canvasUpdated||this.contentFreezed||this.devicePixelRatio>1.5)&&(!this.isWide||"right"!==this.pageSide||this.$store.state.pager.singleMode)&&this.backgroundsCache&&this.backgroundsCache[0]){this.cancelResize("new resize",!1),this.resizeCancelled=!1;var i=new Image;this.crossOrigin&&(i.crossOrigin=this.crossOrigin),i.onload=function(){var e=document.createElement("canvas"),s=e.getContext("2d");if(e.style.transform="translateZ(0)",i.onload=null,!t.resizeCancelled)if(t.backgroundsCache.length>1){var r=new Image;t.crossOrigin&&(r.crossOrigin=t.crossOrigin),r.onload=function(){r.onload=null,t.resizeCancelled||(e.width=r.width,e.height=r.height,s.drawImage(i,0,0,r.width,r.height),s.drawImage(r,0,0,r.width,r.height),r.src="",r=null,i=null,t.resizeCanvas(e,t.$refs.bgImage),s=null,e=null)},r.src=t.backgroundsCache[1]}else e.width=i.width,e.height=i.height,s.drawImage(i,0,0,i.width,i.height),i=null,t.resizeCanvas(e,t.$refs.bgImage),s=null,e=null},i.src=this.backgroundsCache[0]}},skipResize:function(){var t=this.$store.state.workspace.userAgentInfo.browser;return t.firefox||t.ie||t.msie||t.msedge},onResize:function(){this.isCurrent&&this.updateCanvasDebounced(!0)},resizeCanvas:function(t,e){var i=this;if(!this.skipResize()&&!this.resizeCancelled){this.cancelResize("new resize",!1);var s=new Date,r=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+"."+s.getMilliseconds(),o=this.pageId+"_"+r,n=document.createElement("canvas");this.cancelResize=function(t,e){try{e&&(i.resizeCancelled=!0),o&&i.bookElement.cancelResize&&i.bookElement.cancelResize(o),n=null}catch(s){i.$emit("error",s)}},n.style.transform="translateZ(0)",n.width=this.contentSize.width*(this.wideHalf?2:1)*this.devicePixelRatio,n.height=this.contentSize.height*this.devicePixelRatio,n.getContext("2d").drawImage(t,0,0,n.width,n.height);var a={unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:166,quality:3,alpha:!0};if(!this.resizeCancelled&&this.bookElement.resizePage){var h=this;this.bookElement.resizePage(t,n,a,o,(function(i){if(i){var s=i.toDataURL();if(h.setResizedImg(e,h,s),h.isWide){var r=h.getSpreadTwin();null!==r&&h.setResizedImg(r.$refs.bgImage,r,s)}}o=null,t=null,n=null}))}}},setResizedImg:function(t,e,i){if(t){t.onload=function(){t.onload=null,setTimeout((function(){e.resizeCancelled||(e.canvasUpdated=!0)}),500)};var s=window.MSInputMethodContext&&document.documentMode?1e4:6500;i.length>s&&(t.src=i)}},leftStripeTap:function(){this.movePagerLeft({target:"page-edge-tap"})},rightStripeTap:function(){this.movePagerRight({target:"page-edge-tap"})},arrowHover:function(t,e){"function"==typeof this.bookElement.arrowHover&&this.bookElement.arrowHover(t,e)},zoomMove:function(t){"drag"===t.direction&&(this.contentActive=!!t.active)},isPointInSelection:function(t){var e=this.$el.querySelector(".select-text-canvas");if(!e)return!1;var i=e.getBoundingClientRect(),s=t.clientX-i.left,r=t.clientY-i.top,o=e.getContext("2d").getImageData(s,r,1,1).data;return o[0]+o[1]+o[2]+o[3]!==0},forceBackgroundColor:function(t){this.backgroundColor=t}},computed:{pageStyle:function(){var t="rgba(39, 47, 55, 0.03)",e=this.contentCrop?this.contentSize.height:this.pageSize.height;return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(e%2==0?e:e+1)+"px","background-color":this.bordered?t:this.backgroundColor}},zoomInBlur:function(){return!1},showPreloaderContainer:function(){return!this.isStub&&(this.thDebounced||this.preloaderVisibleCache)},showSpinner:function(){return(this.thDebounced||this.isLoadingCache||this.updatePendingCache)&&!this.contentFreezed&&this.isReady&&!this.hasError},showHighlights:function(){return this.isCurrent&&!this.contentFreezed&&(this.isMobile||this.isSearchOpened)&&!this.showPreloaderContainer},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]},isLeftFlipCorner:function(){return"left"===this.$store.getters["workspace/callToNavigation"].side},isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},flipCornerEnabled:function(){if("flip-book"!==this.bookComponent||!this.isCurrent||this.isLightboxShown)return!1;var t=this.$store.getters["workspace/callToNavigation"];return"corner"===t.type&&(this.$store.state.pager.singleMode||t.side===this.pageSide)&&!this.contentFreezed},bookStatus:function(){return this.bookElement.status||"ready"},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},bookComponent:function(){return this.$store.state.workspace.bookComponent},bookElement:function(){return"slide-book"===this.bookComponent?this.$parent.$parent:this.$parent},rawIsLoading:function(){return 0===this.$store.state.pages.size.width||null===this.$store.state.pages.size.width||!(this.isStub||!this.isReady||this.hasError)&&(this.contentItemsReady<this.sortedContent.visible.length||this.loadPending)},className:function(){return{page:!0,bordered:this.bordered,loading:this.isLoadingCache,updating:this.updatePendingCache,unready:!this.isReady&&!this.hasError,error:this.hasError,highlighted:this.isHighlighted,light:this.backgroundLuma>.5,dark:this.backgroundLuma<=.5,tapped:this.tapped,"left-stripe":"flip-book"===this.bookComponent&&"left"===this.pageSide&&!this.hideLeftStripe,"right-stripe":"flip-book"===this.bookComponent&&"right"===this.pageSide&&!this.hideRightStripe,"last-single-page":this.isLastSinglePage,"content-inactive":!this.contentActive}},isLastSinglePage:function(){return!(!this.$store.state.pager.singleMode||!this.$store.getters["pages/isLastPage"](this.pageId))&&(!this.isWide||!(this.isRTLBook&&"left"!==this.pageSide||!this.isRTLBook&&"right"!==this.pageSide))},preloaderVisible:function(){return!this.isStub&&(this.isLoading||!this.isReady||this.hasError)},vectorLayer:function(){return this.pageId&&this.isReady&&!this.hasError&&this.isSVGSupported?this.textUrl:null},backgrounds:function(){if(!this.pageId||!this.isReady||this.hasError)return[];var t=this.enforceTransparentBg?this.whitePixelUrl:this.stubUrl,e=this.substrateUrl,i=this.textUrl,s=this.isSVGSupported,r=[];if(this.isStub)r.push(t);else{var o=i;e&&r.push(e),o&&!s&&r.push(o)}return r},selectTextEnabled:function(){return!this.isIE&&this.$store.state.workspace.components.textSelection},mobileShowEffectPass:function(){return this.isMobile&&this.$store.state.text.pageID&&this.pageId===this.$store.state.text.pageID},contentPagesArray:function(){return this.$store.getters["content/pagesArray"]},content:function(){if(!this.pageId||!this.isReady||this.hasError||!this.renderContent||this.isStub)return[];var t=this.contentSize.scaleRatio;if(t<=0)return[];var e=this.pageContent;if(!e)return[];for(var i=this.pageId,s=this.pageSide,r=this.isWide,o=[],n=0;n<e.length;n++){var a=m({},e[n]);a.key=n,a.page={id:i,side:s,isWide:r},a.scaleRatio=t,a.component=this.contentCreator(a),this.isVisible(a)&&o.push(a)}return o},sortedContent:function(){var t,e={visible:[],inv:[]},i=f(this.content);try{for(i.s();!(t=i.n()).done;){var s=t.value;"link"!==s.type?e.visible.push(s):e.inv.push(s)}}catch(r){i.e(r)}finally{i.f()}return e},showInvisibleContent:function(){return this.isCurrent&&!this.contentFreezed&&!this.animationInProgress},androidIframe:function(){var t=window.location!==window.parent.location,e=this.$store.state.workspace.isEmbed,i=this.$store.state.workspace.userAgentInfo.os.android;return t&&!e&&i},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isSearchOpened:function(){return"search"===this.$store.state.sidebar.opened},layout:function(){return this.$store.state.workspace.layout},rawSearchHighlights:function(){if(!this.isCurrent)return[];var t=this.$store.getters["search/getHighlights"](this.pageId);return t&&t.ready&&0!==t.data.length?t.data:[]},highlights:function(){if(!this.pageId||this.isLoading||!this.isReady||this.hasError||!this.renderContent||this.isStub||0===this.rawSearchHighlights.length)return[];var t=[],e=this.contentSize.scaleRatio;if(e.w<=0)return[];for(var i=this.rawSearchHighlights,s=this.$store.state.search.color,r=0,o=i.length;r<o;r++){var n=i[r].rect,a={width:(n[0]*e.w).toFixed(2)+"px",height:(n[1]*e.h).toFixed(2)+"px",left:(n[2]*e.w).toFixed(2)+"px",top:(n[3]*e.h).toFixed(2)+"px",backgroundColor:s};0!==i[r].angle&&(a.transformOrigin="0px 0px 0px",a.transform="rotate("+i[r].angle+"rad)"),t.push({style:a})}return t},pageSize:function(){var t,e,i=this.isOutsideHardcover?1.03:1,s=this.size||!1,r=this.pagesSize,o=this.pageWidthMultiplier;return s&&s.width&&s.height?(t=Math.round(s.width*i),e=Math.round(s.height*i)):(t=Math.round(r.width*o*i),e=Math.round(r.height*i)),{width:t,height:e=e%2==0?e:e+1}},contentTouchLayerStyle:function(){var t=this.contentCrop?this.contentSize.height:this.pageSize.height;return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(t%2==0?t:t+1)+"px"}},thumbnailStyle:function(){var t=m({},this.contentStyle),e=Math.round(this.contentSize.width/220);return e>8&&(e=8),t.filter="blur("+e+"px)",t},wideHalf:function(){return this.isWide&&"both"!==this.pageSide},marginSide:function(){var t=this.contentCrop?0:(this.pageSize.width-this.contentSize.width)/(this.wideHalf?1:2);return t=Math.round(t),t},contentStyle:function(){var t=this.contentSize.height,e=this.contentCrop?0:(this.pageSize.height-t)/2,i={width:this.contentSize.width*(this.wideHalf?2:1)+"px",height:(t%2==0?t:t+1)+"px"};return this.zoomInBlur&&(i.filter="blur(2px)"),"right"===this.pageSide&&(i.right="0",i.marginRight=this.marginSide+"px"),this.marginSide&&"right"!==this.pageSide&&(i.marginLeft=this.marginSide+"px"),e&&(i.marginTop=e.toFixed(0)+"px"),i},substrateNum:function(){var t=this.$store.getters["pages/currentSize"](this.pageId),e=this.$store.getters["pages/contentSize"]({pageID:this.pageId,pageSize:t});return this.$store.getters["pages/imageSizes"](this.pageId,e).substrate},notesArray:function(){for(var t=[],e=this.$store.state.notes.items,i=0,s=e.length;i<s;i++)e[i].page===this.pageId&&(this.isWide?("both"===this.pageSide||"left"===this.pageSide&&"left"===e[i].side||"right"===this.pageSide&&"right"===e[i].side)&&t.push(e[i]):t.push(e[i]));return t}}}},function(t,e,i){"use strict";function s(t,e){var i=e.target,s=t.state.book.rightToLeft;t.dispatch(s?"pager/goForward":"pager/goBackward",{target:i})}function r(t,e){var i=e.target,s=t.state.book.rightToLeft;t.dispatch(s?"pager/goBackward":"pager/goForward",{target:i})}function o(t,e){var i=e.target,s=void 0===i?null:i,r=e.navTarget,o=void 0!==r&&r,n=t.state.book.rightToLeft,a=o?n?"nav-last":"nav-first":s;t.dispatch(n?"pager/goToLast":"pager/goToFirst",{target:a})}function n(t,e){var i=e.target,s=void 0===i?null:i,r=e.navTarget,o=void 0!==r&&r,n=t.state.book.rightToLeft,a=o?n?"nav-first":"nav-last":s;t.dispatch(n?"pager/goToFirst":"pager/goToLast",{target:a})}i.r(e),i.d(e,"movePagerLeft",(function(){return s})),i.d(e,"movePagerRight",(function(){return r})),i.d(e,"movePagerLeftmost",(function(){return o})),i.d(e,"movePagerRightmost",(function(){return n}))},function(t,e,i){"use strict";i.r(e);var s=i(133);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(445),r=i(16);e.default={name:"select-text",mixins:[s.default],data:function(){return{isActive:!1,isDragging:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.getPageRect()})),this.$parent.$parent.$on("highlight",this.highlight),this.$root.$on("zoomMove",this.zoomMove),this.effectOn&&this.$el.addEventListener("mousemove",this.checkMousePosition)},beforeDestroy:function(){this.resetContext(),this.$parent.$parent.$off("highlight",this.highlight),this.$root.$off("zoomMove",this.zoomMove),this.$el.removeEventListener("mousemove",this.checkMousePosition)},methods:{highlight:function(){var t=this;this.effectOn&&(this.panEnd(),this.showEffect=!0,setTimeout((function(){t.showEffect=!1,t.$store.dispatch("text/setEffect",!1)}),3e3))},reset:function(t){this.effectOn||(this.$el.removeEventListener("mousemove",this.checkMousePosition),this.$root.$emit("selectText:hidePanel"),t&&"panstart"===t.type&&(this.isActive=!0),this.$store.dispatch("text/reset"))},pan:function(t){if(this.pageRect&&this.isLoaded&&this.isCurrent&&(!this.isZoomed||!this.isDragging)&&this.isActive&&!this.selectAll&&!this.effectOn&&!this.animationInProgress){var e={top:t.deltaY>0?t.center.y-t.deltaY-this.pageRect.top:t.center.y-this.pageRect.top,left:t.deltaX>0?t.center.x-t.deltaX-this.pageRect.left:t.center.x-this.pageRect.left,width:Math.abs(t.deltaX),height:Math.abs(t.deltaY),offsetX:this.containerSize.offsetX,offsetY:this.containerSize.offsetY,cursorHSide:t.deltaX>0?"right":"left",cursorVSide:t.deltaY>0?"bottom":"top"};if(e.top=e.top/this.containerSize.scaleRatio.h,e.left/=this.containerSize.scaleRatio.w,e.width/=this.containerSize.scaleRatio.w,e.height/=this.containerSize.scaleRatio.h,this.isWide&&!this.isCrossWide){if("right"===e.cursorHSide&&"left"===this.pageSide&&e.left+e.width>this.containerSize.width/this.containerSize.scaleRatio.w)return;if("left"===e.cursorHSide&&"right"===this.pageSide&&e.left<this.containerSize.width/this.containerSize.scaleRatio.w)return}this.$store.dispatch("text/setSelectionAttributes",{pageID:this.pageId,pageSide:this.pageSide,selectionRect:e})}},selectAllPageContent:function(){var t=this.$store.getters["pages/pageProp"](this.pageId,"wide"),e="right"===this.pageSide,i="slide-book"===this.$store.state.workspace.bookComponent&&"slide"===this.$store.state.pager.mode,s=this.$store.getters["search/getSelectTextInfo"](this.pageId,e,i).isCrossWide,o=this.$store.getters["pages/pageProp"](this.pageId,"width")/(t&&!s?2:1),n={height:this.$store.getters["pages/pageProp"](this.pageId,"height"),width:o,offsetX:this.containerSize.offsetX,offsetY:this.containerSize.offsetY,cursorHSide:"left",cursorVSide:"bottom"},a=s?{top:0,left:0}:e&&t?{left:o,top:0}:{top:0,left:0},h=Object(r.default)(a,n);this.$store.dispatch("text/setSelectionAttributes",{pageID:this.pageId,pageSide:this.pageSide,selectionRect:h,selectAll:this.selectAll})},finalizePreliminarySelection:function(){var t={offsetX:this.containerSize.offsetX,offsetY:this.containerSize.offsetY},e=Object(r.default)({},t,this.$store.state.text.selectionRect);e.width*=1,e.height*=1,e.top*=1,e.left*=1,this.$store.dispatch("text/setSelectionAttributes",{pageID:this.pageId,pageSide:this.pageSide,selectionRect:e})},panEnd:function(t){t&&t.srcEvent&&0===t.srcEvent.button&&this.mouseUp(),this.isActive=!1},mouseUp:function(){var t=this;setTimeout((function(){t.selectedSymbols.length>0&&(t.$root.$emit("selectText",{action:"select",pageId:t.pageId,text:t.$store.state.text.selectedText}),t.$root.$emit("selectText:showPanel"),t.$el.addEventListener("mousemove",t.checkMousePosition))}),100)},zoomMove:function(t){"drag"===t.direction&&(this.isDragging=t.active)},checkMousePosition:function(t){this.$parent.$parent.isPointInSelection(t)?this.$root.$emit("selectText:showPanel"):this.$root.$emit("selectText:hidePanel",{forceHide:!1})}},watch:{isActive:function(t){this.$store.dispatch("text/setInProgressSelection",t)},pageSize:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},sidebar:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},wsContainerSize:function(){var t=this;this.$root.$emit("selectText:hidePanel"),this.$nextTick((function(){t.getPageRect()}))},scrollPosition:function(){var t=this;this.$nextTick((function(){t.getPageRect()}))},isLoaded:function(t){this.getPageRect()},animationInProgress:function(){this.$store.dispatch("text/reset"),this.$root.$emit("selectText:hidePanel")},pageResize:function(){var t=this;this.$nextTick((function(){t.getPageRect()}))},selectAll:function(t){t&&this.selectAllPageContent()},preliminarySelection:function(t){this.validContainerSize&&t&&this.finalizePreliminarySelection()},containerSize:function(){this.validContainerSize&&this.preliminarySelection&&this.finalizePreliminarySelection()}},computed:{inspectorMode:function(){return this.$store.state.workspace.inspectorMode},selectAll:function(){return this.$store.state.text.selectAll&&this.pageId===this.$store.state.text.pageID&&this.pageSide===this.$store.state.text.pageSide},preliminarySelection:function(){return this.$store.state.text.preliminarySelection&&this.pageId===this.$store.state.text.pageID&&this.pageSide===this.$store.state.text.pageSide},validContainerSize:function(){var t,e;return(null===(t=this.containerSize)||void 0===t?void 0:t.width)>0&&(null===(e=this.containerSize)||void 0===e?void 0:e.height)>0},textBlockSizes:function(){var t=this;return this.finalTree.map((function(e){return{width:Math.ceil(e.width*t.containerSize.scaleRatio.w),height:Math.ceil(e.height*t.containerSize.scaleRatio.h),left:Math.floor(e.left*t.containerSize.scaleRatio.w),top:Math.floor(e.top*t.containerSize.scaleRatio.h)}}))},pageSize:function(){return this.$store.state.pages.size},sidebar:function(){return this.$store.state.sidebar.opened},wsContainerSize:function(){return this.$store.state.workspace.containerSize},scrollPosition:function(){return this.$store.getters["text/holderScroll"]},isZoomed:function(){return this.$store.state.pages.size.zoomFactor>1},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]},pageResize:function(){return this.$store.getters["pages/pageProp"](this.pageId,"pageResize")}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(136);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(445);e.default={name:"select-text-mobile",mixins:[s.default],mounted:function(){var t=this;this.$nextTick((function(){t.getPageRect()})),this.$parent.$parent.$on("highlight",this.highlight)},beforeDestroy:function(){this.resetContext(),this.$parent.$parent.$off("highlight",this.highlight)},methods:{highlight:function(){var t=this;this.effectOn&&(this.showEffect=!0,setTimeout((function(){t.showEffect=!1,t.$store.dispatch("text/setEffect",!1)}),3e3))},reset:function(){this.$store.dispatch("text/reset")}},watch:{containerSize:function(){this.getAndParseXML()},animationInProgress:function(){this.$store.dispatch("text/reset")}},computed:{animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(139);e.default=s.default},function(t,e,i){"use strict";i.r(e);i(758),i(448);var s=i(8),r=i(38),o=i(39),n=i.n(o);e.default={name:"Note",props:{data:{type:Object,default:function(){return{}}},size:{type:Object,default:function(){return{}}},side:{type:String,default:""},isWide:Boolean,isOutsideHardcover:Boolean},data:function(){return{state:"mini",offsetX:0,offsetY:0,deltaX:0,deltaY:0,minDeltaX:0,minDeltaY:0,maxDeltaX:0,maxDeltaY:0,onMove:!1,position:"absolute",leftOffset:16,rightOffset:16,topOffset:28,bottomOffset:4,ieOffsetX:0,ieOffsetY:0,rectLeft:-115,rectTop:4,rectHeight:0,rectState:"view",deleteDialog:!1}},computed:{isIE:function(){return!!this.$store.state.workspace.userAgentInfo.browser.msie},showRect:function(){return this.isOpened&&"mini"===this.state},isOpened:function(){return this.$store.state.notes.opened===this.data.id},isFirstPage:function(){return this.$store.getters["pages/isFirstPage"](this.data.page)},isLastPage:function(){return this.$store.getters["pages/isLastPage"](this.data.page)},scale:function(){return{w:this.size.width/this.$store.state.book.bookSize.width/("both"===this.side?2:1),h:this.size.height/this.$store.state.book.bookSize.height}},noteStyle:function(){var t=0,e=0,i=0,s=0;if(this.isWide&&"right"===this.side&&(t=-this.size.width),this.onMove){if("right"===this.side){var r=this.slideMode&&(this.isFirstPage&&!this.rtl||this.isLastPage&&this.rtl);this.isOutsideHardcover||r||(e=this.size.width)}if("left"===this.side)this.slideMode&&(this.isLastPage&&!this.rtl||this.isFirstPage&&this.rtl)||(i=this.size.width);this.slideMode&&(this.pagerSlideMode&&"both"!==this.side||this.pagerSingleMode)&&(e=0,i=this.size.width),this.pagerSingleMode&&(this.isIE?this.isFirstPage||"right"!==this.side||this.isLastPage&&this.$store.getters["pages/pagesCount"]%2==0||(t-=this.size.width):this.rtl&&"right"===this.side?t-=this.size.width:this.rtl||"left"!==this.side||(t+=this.size.width))}(this.showRect||this.deleteDialog)&&(s=1e4);var o=this.data.pX*this.scale.w+this.deltaX+e+t;o=Math.max(this.leftOffset,Math.min(this.size.width+e+i-this.rightOffset,o));var n=this.data.pY*this.scale.h+this.deltaY;return n=Math.max(this.topOffset,Math.min(this.size.height-this.bottomOffset,n)),{"z-index":this.data.id+1e4+s,position:this.position,top:n+this.ieOffsetY+"px",left:o+this.ieOffsetX+"px"}},rectStyle:function(){var t={top:this.rectTop+"px",left:this.rectLeft+"px"};return this.miniRect&&(t.width=this.size.width-8+"px",t.height=this.rectHeight+"px"),t},rectClass:function(){var t=["note-rect",this.rectState];return this.miniRect&&t.push("mini-rect"),t},miniRect:function(){return this.size.width<238},noteBodyStyle:function(){var t={};return this.miniRect&&(t.width=this.size.width-18+"px",t.height=this.rectHeight-10+"px"),t},iconClass:function(){var t=["note-icon",this.data.color,this.state];return this.isOpened&&t.push("opened"),t},colorSetClass:function(){return["note-color-set",this.data.color]},formattedTime:function(){var t=new Date(Date.now()),e=new Date(this.data.date),i=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t.getDay()===e.getDay()&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()||(i=e.toLocaleDateString()+", "+i),i},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},rtl:function(){return this.$store.state.book.rightToLeft},placeholderText:function(){return this.$i18n.t("Notes.PLACEHOLDER")},dialogDeleteText:function(){return this.$i18n.t("Notes.DIALOG_DELETE_TEXT")},deleteTip:function(){return this.$i18n.t("Notes.DELETE_TIP")},deleteButton:function(){return this.$i18n.t("AlertWindow.BUTTON_DELETE")},cancelButton:function(){return this.$i18n.t("AlertWindow.BUTTON_CANCEL")},slideMode:function(){return"slide-book"===this.$store.state.workspace.bookComponent},pagerSlideMode:function(){return this.$store.state.pager.slideMode},pagerSingleMode:function(){return this.$store.state.pager.singleMode},currentBookHolder:function(){return this.slideMode?document.querySelector(".slide-wrapper.current .spread-wrapper"):document.getElementById("book-holder")},isFrozenOrNotReady:function(){return this.$store.state.workspace.freezed||"ready"!==this.$store.state.workspace.status||this.$store.state.workspace.isResizing||this.$store.state.pager.freezed}},watch:{isOpened:function(t){var e=this;t?(this.showEditor(),setTimeout((function(){"edit"===e.rectState&&e.forceFocus()}),100)):this.hideEditor()},state:function(t,e){var i=this;"mini"===t&&"move"===e&&this.$nextTick((function(){i.setTextareaDir()}))}},mounted:function(){this.$root.$on("note:deleteDialog",this.onDeleteDialog),this.$refs.icon.addEventListener("mousedown",this.iconMouseDown,!0),this.updateEditorParams(),this.isOpened&&this.$store.dispatch("notes/setOpenedId",{id:this.data.id}),this.data.new&&(this.rectState="edit",this.$store.dispatch("notes/setOpenedId",{id:this.data.id})),this.parentEl=this.$el.parentElement},beforeDestroy:function(){this.$refs.icon.removeEventListener("mousedown",this.iconMouseDown,!0),this.$root.$off("note:deleteDialog",this.onDeleteDialog),document.removeEventListener("keydown",this.checkKeydown),this.removeEditorEventListeners(),this.deleteDialog=!1},methods:{onNoteClick:function(t){var e=this;this.isFrozenOrNotReady||Object(s.composedPath)(t.target).some((function(t){return t===e.$refs.icon}))&&(this.isOpened?this.$store.dispatch("notes/setOpenedId",{id:null}):this.$store.dispatch("notes/setOpenedId",{id:this.data.id}))},iconMouseDown:function(t){0===t.button&&(t.stopPropagation(),this.offsetX=t.pageX,this.offsetY=t.pageY,this.$store.dispatch("notes/setMoving",!0),document.addEventListener("mousemove",this.iconMouseMove),document.addEventListener("mouseup",this.iconMouseUp))},iconMouseMove:function(t){if(t.stopPropagation(),!this.onMove){if(this.moveElementToSpreadNotes(),this.slideMode&&!this.pagerSingleMode)this.minDeltaX=this.leftOffset-this.data.pX*this.scale.w,this.maxDeltaX=this.size.width-this.data.pX*this.scale.w-this.rightOffset;else if("left"===this.side){this.minDeltaX=this.leftOffset-this.data.pX*this.scale.w;var e=!this.isWide&&(this.isLastPage&&!this.rtl||this.isFirstPage&&this.rtl)?1:2;this.maxDeltaX=this.size.width*e-this.data.pX*this.scale.w-this.rightOffset}else{var i=!this.isWide&&(this.isFirstPage&&!this.rtl||this.isLastPage&&this.rtl)?0:this.size.width;this.minDeltaX=(this.isWide?this.size.width:0)+this.leftOffset-i-this.data.pX*this.scale.w,this.maxDeltaX=this.size.width*(this.isWide?2:1)-this.data.pX*this.scale.w-this.rightOffset}if(!this.pagerSingleMode||this.isFirstPage||this.isLastPage&&this.$store.getters["pages/pagesCount"]%2==0||("left"===this.side?this.maxDeltaX-=this.size.width:"right"===this.side&&(this.minDeltaX+=this.size.width)),this.minDeltaY=this.topOffset-this.data.pY*this.scale.h,this.maxDeltaY=(this.size.height/this.scale.h-this.data.pY)*this.scale.h-this.bottomOffset,!this.isOutsideHardcover){if(this.isIE){var s=this.currentBookHolder.getBoundingClientRect(),r=this.getIEDeltaOffset();this.ieOffsetX=s.left-r,this.ieOffsetY=s.top}this.position="fixed"}this.onMove=!0,this.state="move"}this.deltaX=Math.max(this.minDeltaX,Math.min(t.pageX-this.offsetX,this.maxDeltaX)),this.deltaY=Math.max(this.minDeltaY,Math.min(t.pageY-this.offsetY,this.maxDeltaY))},getIEDeltaOffset:function(){if(this.slideMode&&this.pagerSlideMode)return 0;var t=this.$store.getters["pager/state"];return!this.isWide&&this.isLastPage&&this.rtl&&t.rightPage!==this.data.page||!this.isWide&&this.isFirstPage&&!this.rtl?this.size.width:0},iconMouseUp:function(){var t=this;if(document.removeEventListener("mousemove",this.iconMouseMove),document.removeEventListener("mouseup",this.iconMouseUp),this.$store.dispatch("notes/setMoving",!1),this.moveElementToPageContainer(),this.onMove){this.isIE&&(this.ieOffsetX=0,this.ieOffsetY=0),this.onMove=!1,this.position="absolute";var e=this.data.page,i=this.deltaX/this.scale.w+this.data.pX;this.isWide||("left"===this.side?i>this.size.width/this.scale.w&&(i-=this.size.width/this.scale.w,this.rtl?e--:e++):i<0&&(i+=this.size.width/this.scale.w,this.rtl?e++:e--),i<this.leftOffset/this.scale.w&&(i=this.leftOffset/this.scale.w),i>this.size.width/this.scale.w-this.rightOffset/this.scale.w&&(i=this.size.width/this.scale.w-this.rightOffset/this.scale.w)),this.$store.dispatch("notes/moveNote",{id:this.data.id,page:e.toString(),pX:Math.round(100*i)/100,pY:Math.round(100*(this.deltaY/this.scale.h+this.data.pY))/100}),this.state="mini",this.deltaX=0,this.deltaY=0,this.updateEditorParams(),setTimeout((function(){"edit"===t.rectState&&t.forceFocus()}),100)}},showEditor:function(){var t=this;this.updateEditorParams(),this.$store.dispatch("notes/setOpenedId",{id:this.data.id}),this.$store.dispatch("notes/setActiveItemById",this.data.id),this.$nextTick((function(){t.setTextareaDir()})),document.addEventListener("mousedown",this.hideEditorClick,!0),document.addEventListener("keydown",this.checkKeydown)},hideEditor:function(){this.deleteDialog=!1,document.activeElement===this.$refs.text&&this.$refs.text.blur(),this.saveText(),this.$store.state.notes.opened===this.data.id&&this.$store.dispatch("notes/setOpenedId",{id:null}),this.$store.dispatch("workspace/setHighlightTimeout",Date.now()+300),document.removeEventListener("keydown",this.checkKeydown),this.removeEditorEventListeners(),this.rectState="view"},updateEditorParams:function(){this.isWide&&"right"===this.side?this.miniRect||this.data.pX*this.scale.w-this.size.width<119?this.rectLeft=-this.data.pX*this.scale.w+4+this.size.width:2*this.size.width-this.data.pX*this.scale.w<119?this.rectLeft=2*this.size.width-this.data.pX*this.scale.w-234:this.rectLeft=-115:this.miniRect||this.data.pX*this.scale.w<119?this.rectLeft=-this.data.pX*this.scale.w+4:this.size.width-this.data.pX*this.scale.w<119?this.rectLeft=this.size.width-this.data.pX*this.scale.w-234:this.rectLeft=-115,this.size.height-this.data.pY*this.scale.h<133?(this.rectTop=-154,this.miniRect&&(this.size.height-this.data.pY*this.scale.h<this.data.pY*this.scale.h-24?(this.rectHeight=Math.floor(this.data.pY*this.scale.h-32),this.rectHeight>125&&(this.rectHeight=125),this.rectTop=-this.rectHeight-28):(this.rectHeight=Math.floor(this.size.height-this.data.pY*this.scale.h-8),this.rectTop=4))):(this.miniRect&&(this.rectHeight=125),this.rectTop=4),this.deleteDialog=!1},hideEditorClick:function(t){for(var e=Object(s.composedPath)(t.target),i=0,r=e.length;i<r;i++){if(e[i]===this.$refs.rect)return void t.stopPropagation();if(e[i]===this.$el)return}this.$store.dispatch("notes/setOpenedId",{id:null})},saveText:function(){this.$refs.text&&this.data.text!==this.$refs.text.value&&this.$store.dispatch("notes/changeText",{id:this.data.id,text:this.$refs.text.value})},setColor:function(t){this.data.color!==t&&this.$store.dispatch("notes/changeColor",{id:this.data.id,color:t})},focusTextArea:function(){this.rectState="edit",document.removeEventListener("keydown",this.checkKeydown)},deleteNoteCheck:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editor";""===this.data.text?this.deleteNote(t,i):(this.deleteDialog=!0,this.isOpened||document.addEventListener("mousedown",this.deleteDialogCancel),this.$nextTick((function(){document.removeEventListener("keydown",e.checkKeydown),e.$refs.cancelButton.focus()})))},onDeleteDialog:function(t){this.data.id===t&&this.deleteNoteCheck()},checkKeydown:function(t){if("Escape"===t.key&&this.$store.dispatch("notes/setOpenedId",{id:null}),"view"===this.rectState&&t.preventDefault(),"Backspace"===t.key||"Delete"===t.key){if(this.$refs.text===document.activeElement)return;this.deleteNoteCheck(t,"hotkey")}},removeEditorEventListeners:function(){document.removeEventListener("mousedown",this.hideEditorClick,!0)},deleteNote:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.removeEventListener("keydown",this.checkKeydown),this.removeEditorEventListeners(),this.$store.dispatch("notes/deleteNote",{id:this.data.id,initiator:e}),this.deleteDialogCancel()},deleteDialogCancel:function(){var t=this;this.isOpened&&document.addEventListener("keydown",this.checkKeydown),document.removeEventListener("mousedown",this.deleteDialogCancel),this.deleteDialog=!1,this.$nextTick((function(){t.$root.$emit("note:closeDeleteDialog")}))},setViewState:function(t){this.rectState="view",t.target.blur()},forceFocus:function(){var t;null===(t=this.$refs.text)||void 0===t||t.focus()},moveElementToSpreadNotes:function(){this.slideMode||this.isOutsideHardcover||(this.spreadNotesEl||(this.spreadNotesEl=this.createSpreadNotesElement()),this.spreadNotesEl.appendChild(this.$el))},moveElementToPageContainer:function(){this.slideMode||this.isOutsideHardcover||this.parentEl.appendChild(this.$el)},createSpreadNotesElement:function(){var t=document.getElementById("spread-notes");if(!t){var e=document.getElementById("book");t=r.default.createElement("div",{id:"spread-notes"},e)}return t},setTextareaDir:function(){if(this.$refs.text)if(this.$refs.text.value){var t=n.a.getDirection(this.$refs.text.value);this.$refs.text.dir=t&&"ltr"!==t?"rtl":"ltr"}else this.$refs.text.dir=this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(142);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,r,o=i(143),n=i.n(o),a=i(3),h=(s=window.getComputedStyle(document.documentElement,""),r=(Array.prototype.slice.call(s).join("").match(/-(moz|webkit|ms)-/)||""===s.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+r+")","i"))[1],lowercase:r,css:"-"+r+"-",js:r[0].toUpperCase()+r.substr(1)});e.default={name:"FlipMe",props:{pageId:{type:String,required:!0},isLeft:{type:Boolean,required:!0}},data:function(){return{angle:0,width:0,backfaceParams:null,nextPageParams:null,tween:null,crossOrigin:Object(a.default)().getCrossOrigin()}},created:function(){var t=this.$store.getters["pager/flipState"],e=this.isLeft?t.currentLeft:t.currentRight,i=e+(this.isLeft?-1:1),s=e+(this.isLeft?-2:2);this.backfaceParams=this.$store.getters["pager/flipParams"](i),this.nextPageParams=this.$store.getters["pager/flipParams"](s)},mounted:function(){var t=this,e={angle:19,width:0};this.tween=new n.a.Tween(e).to({angle:19,width:7},800).easing(n.a.Easing.Cubic.InOut).onUpdate((function(){if(t.width=e.width,t.angle=e.angle,0===e.width){var i=5*Math.random()+3,s=11*Math.random()+19;setTimeout((function(){t.tween.to({angle:s,width:i})}),10)}})).yoyo(!0).repeat(1/0).delay(2e3).repeatDelay(200).start(),this.$parent.$once("onContentContainerClick",this.stopAnimation)},beforeDestroy:function(){this.stopAnimation()},computed:{classes:function(){return{"flip-me-container":!0,left:this.isLeft,"translucent-reverse-side":this.singleMode&&this.isTranslucentReverseSide}},singleMode:function(){return this.$store.state.pager.singleMode},isRTLBook:function(){return this.$store.state.book.rightToLeft},isTranslucentReverseSide:function(){return this.$store.state.workspace.components.book.isTranslucentReverseSide},nextBackgrounds:function(){return this.getBackgroundsArray(this.nextPageParams.pageId)},backfaceBackgrounds:function(){return this.getBackgroundsArray(this.backfaceParams.pageId)},pagesSize:function(){return this.$store.getters["pages/size"]},backfaceImgStyle:function(){return this.getImageStyle(this.backfaceParams)},nextImgStyle:function(){return this.getImageStyle(this.nextPageParams)},maskStyle:function(){var t=100-this.width;return{transform:this.isLeft?"rotate3d(0,0,1,-".concat(this.angle,"deg) translate3d(-").concat(t,"%, 0%, 0)"):"rotate3d(0,0,1,".concat(this.angle,"deg) translate3d(").concat(t,"%, 50%, 0)"),transformOrigin:this.isLeft?"".concat(100-t,"% 100%"):"100% 100%"}},nextPageStyle:function(){var t=100-this.width;return{transform:this.isLeft?"rotate3d(0,0,1,".concat(this.angle,"deg)"):"rotate3d(0,0,1,-".concat(this.angle,"deg)"),transformOrigin:this.isLeft?"".concat(100-t,"% 100%"):"100% 100%",backgroundColor:this.$store.getters["pages/pageProp"](this.nextPageParams.pageId,"backgroundColor")}},shiftPageStyle:function(){var t=100-this.width;return{transform:this.isLeft?"translate3d(".concat(t,"%, 0%,0)"):"translate3d(-".concat(t,"%, -50%,0)")}},backfaceStyle:function(){var t,e,i=90-this.angle,s=this.width/Math.sin(i*Math.PI/180);if(this.isLeft){var r=s,o=100-2*s;t="rotate(-".concat(2*this.angle,"deg) translate3d(-").concat(o,"%, 0%,0)"),e="".concat(r,"% 100%")}else{var n=100-s,a=n-s;t="rotate(".concat(2*this.angle,"deg) translate3d(").concat(a,"%, 0%,0)"),e="".concat(n,"% 100%")}return{transform:t,transformOrigin:e,backgroundColor:this.$store.getters["pages/pageProp"](this.backfaceParams.pageId,"backgroundColor")}},nextGradientStyle:function(){return{background:h.css+"linear-gradient(".concat(this.isLeft?"right":"left",", rgba(0, 0, 0, ").concat((65-this.width)/100,") 0px, transparent ").concat(this.width,"%)")}},backGradientStyle:function(){var t=90-this.angle,e=this.width/Math.sin(t*Math.PI/180);return{transform:this.isLeft?"rotate(".concat(this.angle,"deg) translate3d(0, 10%, 1px)"):"rotate(-".concat(this.angle,"deg) translate3d(0, 10%, 1px)"),transformOrigin:"100% 100%",width:e+"%"}}},methods:{stopAnimation:function(){this.tween.delay(0).repeat(1)},getBackgroundsArray:function(t){var e=[];if(t){var i=this.$store.getters["pages/pageProp"](t,"textUrl"),s=this.$store.getters["pages/pageProp"](t,"substrateUrl");e.push(s),i&&e.push(i)}return e},getImageStyle:function(t){var e=t.wide,i="right"===t.pageSide,s=this.$store.state.pages.size.width,r=document.querySelector('.background[data-id="'+t.pageId+'"]');return(r&&r.style?r.style.cssText:"")+(e&&i?" transform: translate3d(-".concat(s,"px,0,0);"):"")}}}},,function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(146);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},r=16,o=0,n=0;e.default={props:{size:{default:32},"line-size":{type:Number,default:3},"line-bg-color":{type:String,default:"#eee"},"line-fg-color":{type:String,default:"#2196f3"},speed:{type:Number,default:.8},sync:{type:Boolean,default:!1},spacing:{type:Number,default:4},message:{type:String,default:""},"font-size":{type:Number,default:13},"text-fg-color":{type:String,default:"#555"}},data:function(){return{syncAngle:null}},mounted:function(){this.sync&&(this.syncAngle=o,requestAnimationFrame(this.rotate),n++)},beforeDestroy:function(){clearTimeout(this.rotateTimeoutId),--n||(o=0)},computed:{oneDegDelay:function(){return 1e3*this.speed/360},syncStep:function(){return Math.round(r/this.oneDegDelay)},spinnerSize:function(){switch(this.size){case"tiny":return 12;case"small":return 16;case"medium":return 32;case"large":return 48;case"big":return 64;case"huge":return 96;case"massive":return 128}return s(this.size)?this.size:32},spinnerBorderWidth:function(){switch(this.size){case"tiny":return 1;case"small":return 2;case"medium":case"large":return 3;case"big":case"huge":return 4;case"massive":return 5}return s(this.lineSize)?this.lineSize:4},spinnerStyle:function(){return{border:this.spinnerBorderWidth+"px solid "+this.lineBgColor,borderTop:this.spinnerBorderWidth+"px solid "+this.lineFgColor,width:this.spinnerSize+"px",height:this.spinnerSize+"px",animation:this.sync?null:"vue-simple-spinner-spin "+this.speed+"s linear infinite",transition:this.sync?null:"all  0.3s linear",transform:this.sync?"rotate("+this.syncAngle+"deg)":null}},textStyle:function(){var t,e;switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":t=Math.min(Math.max(Math.ceil(this.spinnerSize/8),3),12),e=Math.min(Math.max(Math.ceil(.4*this.spinnerSize),11),32);break;default:t=s(this.spacing)?this.spacing:4,e=s(this.fontSize)?this.fontSize:13}return{marginTop:t+"px",fontSize:e+"px",color:this.textFgColor}}},methods:{rotate:function(){var t=this;this.rotateTimeoutId=setTimeout((function(){t.syncAngle===o?(t.syncAngle=t.syncAngle+t.syncStep,t.syncAngle=t.syncAngle>360?t.syncAngle-360:t.syncAngle,o=t.syncAngle):t.syncAngle=o,requestAnimationFrame(t.rotate)}),r)}}}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(150);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(443),r=i(14),o=i(772),n=i(3),a=0,h=3;e.default={mixins:[s.default],mounted:function(){this.resizeTimer=null},data:function(){return{pageResize:null,widthCache:0}},watch:{isZoomed:function(t){t||this.setCursor("inherit")},isCurrent:function(t){var e=this;this.lastIsCurrent!==t&&(this.alreadyLoaded&&this.getProperties(),this.lastIsCurrent=t,t&&(a=0,this.shouldRenderCanvas?this.renderCanvas():function t(){a!==h&&(setTimeout((function(){e.shouldRenderCanvas?e.renderCanvas():e.isCurrent&&t()}),200),!e.$store.state.workspace.animationInProgress&&e.thumbnailUrl&&a++)}()))},pageSize:function(){this.rerenderCanvas(!0)},pageResize:function(){this.rerenderCanvas()},backgroundColor:function(){this.rerenderCanvas()}},methods:{renderCanvas:function(){if(!this.$store.state.pager.zoomMode){var t=this.$refs.canvas;if(t){var e=t.getContext("2d"),i=new Image;i.crossOrigin=Object(n.default)().getCrossOrigin();var s=this.pageSize.width;this.widthCache=s;var r=this.pageSize.height,a="right"===this.pageSide&&this.isWide?-this.contentSize.width:this.contentSize.offsetX,h=this.contentSize.offsetY,l=this.contentSize.width*(this.isWide?2:1),c=this.contentSize.height,d=20,u=(c+=d)/this.contentSize.height,f=Math.floor(s*u)-s;l+=f,a-=d/2,h-=Math.floor(f/2),t.height=Math.floor(r*u),t.width=Math.floor(s*u);var g=t.width-s;t.style.top="-".concat(d/2,"px"),"right"===this.pageSide&&this.isWide?t.style.right="".concat(-Math.floor(g/2),"px"):t.style.left="".concat(-Math.floor(g/2),"px"),e.fillStyle=this.backgroundColor,e.fillRect(0,0,s,r),i.onload=function(){e.save(),e.translate(s,0),e.scale(-1,1),e.drawImage(i,a,h,l,c),e.restore(),Object(o.default)(e,0,0,t.width,t.height,2,1),t=null},i.src=this.thumbnailUrl}}},rerenderCanvas:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.widthCache===this.pageSize.width||this.showCanvas&&this.isCurrent&&(null!==this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){t.renderCanvas(),t.resizeTimer=null}),350))},getProperties:function(){this.thumbnailUrl=this.isStub&&this.enforceTransparentBg?this.whitePixelUrl:this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.isReady=this.$store.getters["pages/pageProp"](this.pageId,"status")===r.default.READY,this.loadPending=this.$store.getters["pages/pageProp"](this.pageId,"loadPending"),this.hasError=this.$store.getters["pages/hasError"](this.pageId)},getAPIProperties:function(){this.isWide=this.$store.getters["pages/pageProp"](this.pageId,"wide"),this.isStub=this.$store.getters["pages/pageProp"](this.pageId,"stub"),this.pageResize=this.$store.getters["pages/pageProp"](this.pageId,"pageResize"),this.isHardcoverFirstPage?this.backgroundColor="rgba(255, 255, 255, .15)":this.backgroundColor=null===this.pageId?this.backgroundColor:this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor")}},computed:{showCanvas:function(){return this.showThumbnail&&!this.isHardcoverFirstPage&&!!this.thumbnailUrl},shouldRenderCanvas:function(){return this.showCanvas&&this.$refs.canvas&&!this.$store.state.workspace.animationInProgress},className:function(){return{page:!0,"page-reverse-side":!0,bordered:this.bordered,unready:!this.isReady&&!this.hasError,error:this.hasError,light:this.backgroundLuma>.5,dark:this.backgroundLuma<=.5}},isHardcoverFirstPage:function(){return this.$store.getters["book/hasHardcover"]&&this.$store.getters["pages/isFirstPage"](this.id)},pageSize:function(){var t=this.isOutsideHardcover&&!this.isHardcoverFirstPage?1.03:1,e=this.size||!1,i=this.pagesSize,s=this.pageWidthMultiplier;return e&&e.width&&e.height?{width:Math.round(e.width*t),height:Math.round(e.height*t)}:{width:Math.round(i.width*s*t),height:Math.round(i.height*t)}},pageStyle:function(){return{width:this.pageSize.width+"px",height:this.pageSize.height+"px","background-color":this.backgroundColor}}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(153);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(40);e.default={extends:s.default,name:"ContentBlock",data:function(){return{itemId:this.data.type+"_"+this.data.itemId}},methods:{zoomToBLock:function(){this.$emit("block:zoomed",this.data.rect)}}}},function(t,e,i){"use strict";i.r(e);var s=i(155);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,r,o=i(5),n=i(34);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=.16,d={large:64,medium:48,small:32},u={large:.6,medium:.45,small:.3},f={image:{size:"large",position:"center",visibility:"hover"},video:{size:"large",position:"center",visibility:"always"},gif:{size:"large",position:"center",visibility:"always"},gallery:{size:"large",position:"center",visibility:"always"}};e.default={name:"ContentBase",props:{contentMargin:{type:Number,required:!0},data:{type:Object,required:!0},isCurrent:{type:Boolean,required:!1}},data:function(){return{crossWideItem:null,isHighlighted:!1,thumbnailBlob:null,blobCache:{}}},computed:{singleMode:function(){return this.$store.state.pager.singleMode},pageWidth:function(){return this.$store.getters["pages/size"].width},iconSize:function(){var t;return(null===(t=this.data.icon)||void 0===t?void 0:t.size)||f[this.data.type].size},iconPosition:function(){var t;return(null===(t=this.data.icon)||void 0===t?void 0:t.position)||f[this.data.type].position},iconVisibility:function(){var t,e=(null===(t=this.data.icon)||void 0===t?void 0:t.visibility)||f[this.data.type].visibility;if("gif"===this.data.type&&(!this.rawThumbnailUrl||!this.showThumbnail||this.isLoading||!this.isLoaded&&!this.isIdle))return{display:"none"};switch(e){case"hover":return{opacity:"0"};case"never":return{display:"none"};case"always":default:return{opacity:"0.7"}}},iconActualSize:function(){var t=this.singleMode&&this.data.crossWide?this.containerRect.width-this.contentElementNonVisibleWidth:this.containerRect.width,e=Math.min(t*u[this.iconSize],this.containerRect.height*u[this.iconSize],d[this.iconSize]);return Math.round(e)},iconSizes:function(){return{width:this.iconActualSize+"px",height:this.iconActualSize+"px"}},iconPadding:function(){return Math.floor(this.iconActualSize*c)},iconPositions:function(){var t=this.iconPadding+Math.floor(this.iconActualSize/2),e=this.iconPadding-Math.floor(this.iconActualSize/2);switch(this.iconPosition){case"top-left":return{top:t+"px",left:t+"px"};case"bottom-left":return{bottom:e+"px",left:t+"px"};case"top-right":return{top:t+"px",left:"calc(100% - "+t+"px)"};case"bottom-right":return{bottom:e+"px",left:"calc(100% - "+t+"px)"};default:return{top:"50%",left:"50%"}}},crossWideContentMargin:function(){return this.singleMode&&this.data.crossWide?this.contentMargin:null},contentElementNonVisibleWidth:function(){if(!this.singleMode||!this.data.crossWide)return null;var t=this.pageWidth-this.containerRect.left-this.crossWideContentMargin;return"left"===this.data.page.side&&(t=this.containerRect.width-t),t},crossWideCenterIconLeft:function(){if(!this.singleMode||!this.data.crossWide)return null;var t;if("left"===this.data.page.side)t=Math.floor((this.pageWidth-this.containerRect.left-this.crossWideContentMargin)/2);else{var e=this.containerRect.width-this.contentElementNonVisibleWidth;t=Math.floor(e/2+this.contentElementNonVisibleWidth)}return t},crossWideCenterIconPositions:function(){return this.crossWideCenterIconLeft||0===this.crossWideCenterIconLeft?{left:this.crossWideCenterIconLeft+"px"}:{}},crossWideIconLeft:function(){if(!this.singleMode||!this.data.crossWide)return null;switch(this.iconPosition){case"bottom-left":case"top-left":return"left"===this.data.page.side?null:Math.floor(this.contentElementNonVisibleWidth+this.iconPadding+this.iconActualSize/2);case"bottom-right":case"top-right":if("right"===this.data.page.side)return null;var t=this.pageWidth-this.containerRect.left-this.crossWideContentMargin;return Math.floor(t-this.iconPadding-this.iconActualSize/2);default:return this.crossWideCenterIconLeft}},crossWideIconPositions:function(){return this.crossWideIconLeft||0===this.crossWideIconLeft?{left:this.crossWideIconLeft+"px"}:{}},iconStyles:function(){return h(h(h(h({},this.iconVisibility),this.iconSizes),this.iconPositions),this.crossWideIconPositions)},containerRect:function(){return{width:Math.round(this.data.rect[0]*this.data.scaleRatio.w),height:Math.round(this.data.rect[1]*this.data.scaleRatio.h),left:Math.round(this.data.rect[2]*this.data.scaleRatio.w),top:Math.round(this.data.rect[3]*this.data.scaleRatio.h)}},containerStyle:function(){var t={};return this.data.style?t=this.data.style:(t={width:this.containerRect.width+"px",height:this.containerRect.height+"px",left:this.containerRect.left+"px",top:this.containerRect.top+"px"},this.data.zIndex&&(t.zIndex=this.data.zIndex),Object(o.isUndefined)(this.data.angle)||0!==this.data.angle&&(t.transformOrigin="0px 0px 0px",t.transform="rotate("+this.data.angle+"rad)")),t},rawThumbnailUrl:function(){return this.data.previewUrl?/^https?:\/\//.test(this.data.previewUrl)?this.data.previewUrl:"assets/pages/content/"+encodeURIComponent(this.data.previewUrl):null},thumbnailStyle:function(){return this.getThumbnailStyle(this.thumbnailBlob)},isCurrentPage:function(){return this.$store.getters["pager/isCurrentPage"]({pageId:this.data.page.id,pageSide:this.data.page.side})},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isFrozenOrNotReady:function(){return this.$store.state.workspace.freezed||"ready"!==this.$store.state.workspace.status||this.$store.state.pager.freezed},isResizing:function(){return this.$store.state.workspace.isResizing}},created:function(){var t=this;this.data.crossWide&&"both"!==this.data.page.side&&(this.$on("crossWideRegistered",(function(e){t.crossWideItem=e})),this.$contentRegistry.registerContentItem(this.data.itemId,this.data.page.side,this))},beforeMount:function(){this.rawThumbnailUrl&&this.loadThumbnail()},mounted:function(){var t=this;this.rawThumbnailUrl||this.$emit("ready",this),this.data.crossWide&&(s=function(){t.isHighlighted=!0,t.crossWideItem&&(t.crossWideItem.isHighlighted=!0)},r=function(){t.isHighlighted=!1,t.crossWideItem&&(t.crossWideItem.isHighlighted=!1)},this.$el.addEventListener("mouseover",s),this.$el.addEventListener("mouseout",r))},beforeDestroy:function(){var t=this;this.data.crossWide&&(this.$el.removeEventListener("mouseover",s),this.$el.removeEventListener("mouseout",r),this.$contentRegistry.deregisterContentItem(this.data.itemId,this.data.page.side)),this.thumbnailBlob&&(this.thumbnailBlob=null),this.blobCache&&(Object.keys(this.blobCache).forEach((function(e){return window.URL.revokeObjectURL(t.blobCache[e])})),this.blobCache=null)},watch:{rawThumbnailUrl:function(t){t?this.loadThumbnail():this.thumbnailBlob&&(this.thumbnailBlob=null)},isCurrentPage:function(t){t||(this.isHighlighted=!1,this.crossWideItem&&(this.crossWideItem.isHighlighted=!1))}},methods:{loadThumbnail:function(){var t=this,e=this.blobCache[this.rawThumbnailUrl];e?this.thumbnailBlob=e:Object(n.default)({url:this.rawThumbnailUrl,autofillCrossOrigin:!1,callback:function(e){t.ready||(t.ready=!0,-1===["gallery","image"].indexOf(t.data.type)&&t.$emit("ready",t)),t.thumbnailBlob=e,Object(o.isObject)(t.blobCache)&&(t.blobCache[t.rawThumbnailUrl]=t.thumbnailBlob)},errorback:function(e){t.error=!0,t.$emit("error",t,e)}})},getThumbnailStyle:function(t){var e={};return this.thumbnailBlob&&(e.backgroundImage='url("'+t+'")'),e}}}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(159);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(40),r=i(26);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={extends:s.default,name:"ContentLink",computed:{title:function(){return this.data.url?0===this.data.url.indexOf("geo:")||0===this.data.url.indexOf("geopoint:")||0===this.data.url.indexOf("callto:")||0===this.data.url.indexOf("wtai:")||0===this.data.url.indexOf("tel:")||0===this.data.url.indexOf("sms:")||0===this.data.url.indexOf("mailto:")||0===this.data.url.indexOf("skype:")?this.data.url.split("?")[0]:this.$t("TopMenu.EXTERNAL_LINK_TIP",{0:this.url.split("?")[0]}):this.data.id?this.$t("AlertMessage.LINK_PAGE_TIP")+" "+this.$store.getters["pages/pageCaptionById"]({id:this.data.id}):""},url:function(){return this.data.url?0===this.data.url.indexOf("geo:")?this.data.url.split(";")[0].replace(" ","").replace("geo:","http://maps.apple.com/?ll="):0===this.data.url.indexOf("geopoint:")?this.data.url.split(";")[0].replace(" ","").replace("geopoint:","http://maps.apple.com/?ll="):this.data.url:null},target:function(){return this.data.url?this.data.target||this.props.target:null},props:function(){return this.$store.state.book.links},backgroundColor:function(){var t=this.data.color||this.props.color;return-1!==t.indexOf("#")&&(t="rgba("+Object(r.parseColor)(t).join(",")+",0.6)"),t},linkStyle:function(){var t=o({},this.containerStyle);return t.backgroundColor=this.backgroundColor,t},classes:function(){var t;return{link:!0,flip:this.props.highlightOnFlip,hover:null!==(t=this.data.highlightOnHover)&&void 0!==t?t:this.props.highlightOnHover,highlighted:this.isHighlighted,"content-element":!0}},isVisible:function(){return!this.$store.state.text.inProgress&&this.isCurrent}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(162);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(40),r=i(3),o=i(12),n=i(72);i(782);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={extends:s.default,name:"ContentImage",props:[],data:function(){return{width:null,height:null,tapTimeout:0,cachedThumbnails:[]}},mounted:function(){this.data.originalSize?(this.width=this.data.originalSize[0],this.height=this.data.originalSize[1]):(this.width=this.containerRect.width,this.height=this.containerRect.height),this.data.preview?this.previewLoad(this.thumbnailBlob):this.$emit("ready",this)},computed:{hasPopup:function(){return!1!==this.data.popup},rawThumbnailUrl:function(){return this.previewFileName?/^https?:\/\//.test(this.previewFileName)?this.previewFileName:"assets/pages/content/"+this.previewFileName:null},containerClasses:function(){return{highlighted:this.isHighlighted,"cross-wide":!!this.crossWideItem,inline:!this.hasPopup}},isEmbed:function(){return this.$store.state.workspace.isEmbed},previewFileName:function(){var t=this.data;if(!(t.preview&&t.name&&t.sizes&&this.width&&this.height))return null;var e=Object(o.fill)({width:this.width,height:this.height},this.containerRect),i=Math.max(e.width,e.height);if((!this.$store.getters["pager/isCurrentPage"]({pageId:t.page.id,pageSide:t.page.side})||this.$store.state.workspace.animationInProgress)&&this.$store.state.pages.size.zoomFactor>1)return null;var s=Object(n.getImageInfo)({data:t,maxSize:i});return Object(r.default)().getImageFileName(s)},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}},methods:{onImageClick:function(){!this.hasPopup||this.animationInProgress||this.isResizing||(Date.now()>this.tapTimeout&&setTimeout(this.imageClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},imageClick:function(){this.isFrozenOrNotReady||this.isEmbed||this.$store.dispatch("lightbox/openLightbox",{itemId:this.data.itemId,target:"content-click"})},preventDefault:function(t){t.preventDefault()},previewLoad:function(t){var e=this;if(t){var i=document.createElement("img");i.onload=function(){e.$emit("ready",e),e.addHiddenThumbnail(t),setTimeout((function(){e.makeThumbnailVisible(t)}),100)},i.onerror=function(t){e.$emit("error",e,t)},i.src=t}},addHiddenThumbnail:function(t){if(!this.cachedThumbnails.some((function(e){return e.id===t}))){var e={visibility:"visible",zIndex:-1},i={id:t,style:a({},this.getThumbnailStyle(t),e)};this.cachedThumbnails.push(i)}},makeThumbnailVisible:function(t){this.cachedThumbnails.forEach((function(e){e.id===t?(e.style.visibility="visible",e.style.zIndex=null):e.style.visibility="hidden"}))}},watch:{thumbnailBlob:function(t){t&&this.previewLoad(t)}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(165);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(40),r=i(3),o=i(12),n=i(72);i(785);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}e.default={extends:s.default,name:"ContentGallery",props:[],data:function(){return{width:null,height:null,tapTimeout:0,cachedThumbnails:[]}},mounted:function(){this.previewData.originalSize?(this.width=this.previewData.originalSize[0],this.height=this.previewData.originalSize[1]):(this.width=this.containerRect.width,this.height=this.containerRect.height),this.previewLoad(this.thumbnailBlob)},computed:{previewData:function(){return this.data.items[0]},rawThumbnailUrl:function(){return this.previewFileName?/^https?:\/\//.test(this.previewFileName)?this.previewFileName:"assets/pages/content/"+this.previewFileName:null},containerClasses:function(){return{highlighted:this.isHighlighted,"cross-wide":!!this.crossWideItem}},isEmbed:function(){return this.$store.state.workspace.isEmbed},previewFileName:function(){var t=this.previewData;if(!(t.name&&t.sizes&&this.width&&this.height))return null;var e=Object(o.fill)({width:this.width,height:this.height},this.containerRect),i=Math.max(e.width,e.height);if((!this.$store.getters["pager/isCurrentPage"]({pageId:this.data.page.id,pageSide:this.data.page.side})||this.$store.state.workspace.animationInProgress)&&this.$store.state.pages.size.zoomFactor>1)return null;var s=Object(n.getImageInfo)({data:t,maxSize:i});return Object(r.default)().getImageFileName(s)},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}},methods:{onGalleryClick:function(){this.animationInProgress||this.isResizing||(Date.now()>this.tapTimeout&&setTimeout(this.galleryClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},galleryClick:function(){this.isFrozenOrNotReady||this.isEmbed||this.$store.dispatch("lightbox/openLightbox",{itemId:this.data.itemId,target:"content-click"})},preventDefault:function(t){t.preventDefault()},previewLoad:function(t){var e=this;if(t){var i=document.createElement("img");i.onload=function(){e.$emit("ready",e),e.addHiddenThumbnail(t),setTimeout((function(){e.makeThumbnailVisible(t)}),100)},i.onerror=function(t){e.$emit("error",e,t)},i.src=t}},addHiddenThumbnail:function(t){if(!this.cachedThumbnails.some((function(e){return e.id===t}))){var e={visibility:"visible",zIndex:-1},i={id:t,style:a({},this.getThumbnailStyle(t),e)};this.cachedThumbnails.push(i)}},makeThumbnailVisible:function(t){this.cachedThumbnails.forEach((function(e){e.id===t?(e.style.visibility="visible",e.style.zIndex=null):e.style.visibility="hidden"}))}},watch:{thumbnailBlob:function(t){t&&this.previewLoad(t)}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(168);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(8),r=i(40),o=i(3),n=i(23),a=(i(788),i(789),8);e.default={extends:r.default,name:"ContentGif",props:[],data:function(){return{crossOrigin:Object(o.default)().getCrossOrigin(),isIdle:!0,isLoading:!1,isPlaying:!1,isLoaded:!1,isEnded:!1,isAutoplay:this.data.autoplay,imgWidth:null,imgHeight:null,imgRatio:null,imageSrcCache:null,preloaderTimeout:null,loopTimeout:null,tapTimeout:0}},computed:{spreadMode:function(){return this.$store.state.pager.spreadMode},replayPositions:function(){var t=this.singleMode&&this.data.crossWide&&"right"!==this.data.page.side?this.contentElementNonVisibleWidth+a:a;return{bottom:a+"px",right:t+"px"}},containerClasses:function(){return{autoplay:this.isAutoplay,loading:this.isLoading,playing:this.isPlaying,ended:this.isEnded,highlighted:this.isHighlighted}},imageStyle:function(){return{width:Math.round(this.imgWidth*this.imgRatio*this.data.scaleRatio.w)+"px",height:Math.round(this.imgHeight*this.imgRatio*this.data.scaleRatio.h)+"px"}},imageSrc:function(){var t=!1===this.data.loop?"?rand="+this.rand:"";this.$store.state.workspace.policiesUpdated;return/^https?:\/\//.test(this.data.url)?Object(o.default)().translatePath(this.data.url+t):Object(o.default)().translatePath("assets/pages/content/"+encodeURIComponent(this.data.url)+t)},rand:function(){return this.$store.state.content.rands[this.data.itemId]},isEmbed:function(){return this.$store.state.workspace.isEmbed},showThumbnail:function(){return!this.isEnded&&!this.isPlaying},animationInProgress:function(){return this.$store.state.workspace.animationInProgress},isLoadedAndVisible:function(){return this.isLoaded&&!this.$store.state.workspace.preloader}},mounted:function(){(!this.data.crossWide&&!this.rand||this.data.crossWide&&!this.crossWideItem&&!1===this.data.loop)&&this.newRand(),this.updateSrcCache(),this.$nextTick(this.checkAutoplay)},watch:{isCurrentPage:"currentPageChanged",isLoadedAndVisible:function(t){t&&(!this.crossWideItem||this.crossWideItem.isLoaded||this.singleMode)&&(this.isLoading=!1,this.playGif(this),this.crossWideItem&&!this.singleMode&&(this.crossWideItem.isLoading=!1,this.playGif(this.crossWideItem)),this.$emit("gif:loaded",this),this.$root.$emit("gif",{action:"loaded",url:this.data.url}))},imageSrc:"updateSrcCache",animationInProgress:function(t){t||this.$emit("pageAnimationEnded")}},methods:{playGif:function(t){t.isPlaying=!0,!1===t.data.loop&&t.data.duration&&(t.loopTimeout=setTimeout((function(){t.isPlaying=!1,t.isEnded=!0}),t.data.duration+300))},onGifClick:function(t){var e=this;this.isResizing||(Date.now()>this.tapTimeout&&setTimeout((function(){e.gifClick(t)}),this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},gifClick:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isFrozenOrNotReady&&!this.isEmbed){if(this.data.url&&this.isIdle&&!this.isLoading)this.$emit("gif:click",this),this.$root.$emit("gif",{action:"click",url:this.data.url}),this.loadGif();else if(!1===this.data.loop&&this.isEnded){var i=this.isMobile&&document.activeElement!==this.$el&&!this.isHighlighted,r=this.isMobile&&this.isHighlighted;if(!e&&!r&&(i||-1===Object(s.classPath)(t.target).indexOf("replay")))return void(i&&(this.isHighlighted=!0,this.crossWideItem&&(this.crossWideItem.isHighlighted=!0)));this.unloadGif(!e),this.$nextTick(this.loadGif),this.isMobile&&this.isHighlighted&&(this.isHighlighted=!1,this.crossWideItem&&(this.crossWideItem.isHighlighted=!1))}else(this.isPlaying||this.isLoading)&&this.unloadGif(!e&&!1===this.data.loop);this.crossWideItem&&!e&&this.crossWideItem.gifClick(null,!0)}},loadGif:function(){var t=this;this.img||(this.img=document.createElement("img")),this.img.onload=function(){clearTimeout(t.preloaderTimeout),t.imgWidth=t.img.naturalWidth,t.imgHeight=t.img.naturalHeight,t.imgRatio=Math.max(t.data.rect[0]/t.imgWidth,t.data.rect[1]/t.imgHeight),t.isLoaded=!0},this.img.onerror=function(e){t.$emit("gif:error",t,e)},this.crossOrigin&&(this.img.crossOrigin=this.crossOrigin),this.img.src=this.imageSrcCache,this.isIdle=!1,this.preloaderTimeout=setTimeout((function(){t.isLoading=!0}),this.data.loop?200:0)},unloadGif:function(t){var e;this.rawThumbnailUrl&&(clearTimeout(this.preloaderTimeout),clearTimeout(this.loopTimeout),this.isLoading=!1,this.isEnded=!1,this.img&&(this.img.onload=null,this.img.onerror=null,this.img.src=""),null===(e=this.$refs.gifImg)||void 0===e||e.removeAttribute("src"),this.isLoaded=!1,this.isPlaying=!1,this.isAutoplay=!1,this.isIdle=!0,t&&this.newRand(),this.$emit("gif:stop",this),this.$root.$emit("gif",{action:"stop",url:this.data.url}))},checkAutoplay:function(){this.data.autoplay&&(this.data.fileSize<1048576||!this.isMobile?this.isCurrentPage&&this.loadGif():this.isAutoplay=!1)},currentPageChanged:function(t){var e=this;t?this.animationInProgress?this.$once("pageAnimationEnded",(function(){e.checkAutoplay()})):this.checkAutoplay():(this.unloadGif(!0),this.data.autoplay&&(this.isAutoplay=!0))},newRand:function(){this.$store.dispatch("content/newRand",{itemId:this.data.itemId})},updateSrcCache:function(){this.imageSrcCache===this.imageSrc||this.isLoaded||(this.imageSrcCache=this.imageSrc)}},components:{spinner:n.default}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(171);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(40),r=i(12),o=i(3),n=i(792),a=i(806),h=i(809),l=i(811),c=(i(814),i(469),i(16));e.default={extends:s.default,name:"ContentVideo",data:function(){var t;return{playerPromise:new Promise((function(e){t=e})),resolvePlayer:t,isModalShown:!1,isPlayerShown:!1,playerLoaded:!1,isPlaying:!1,volumeEnabled:!1,isEnded:!1,isMutedByPlayer:!1,tapTimeout:0,hasError:!1,videoData:null,showPreventer:!0,currentTime:null,lastProgressId:null,originalStartFrom:null}},beforeMount:function(){this.data.originalUrl?this.videoData=this.getVideoInfo(this.data.originalUrl):this.videoData=this.data,this.originalStartFrom=this.videoData.startFrom},beforeDestroy:function(){this.saveTime(this.currentTime),this.unbindEvents()},watch:{isCurrentPage:"currentPageChanged",isPlaying:"setPlayingWithSound",isMutedByPlayer:"setPlayingWithSound",shouldAutoplay:function(t){t&&!this.isPlayerShown&&this.startInline()},data:function(t){t.originalUrl?this.videoData=this.getVideoInfo(t.originalUrl):this.videoData=t},isInline:function(t,e){e&&!t&&this.isPlayerShown&&(this.isPlayerShown=!1,this.playerLoaded=!1)},currentTime:function(t){this.saveTime(t)}},mounted:function(){this.shouldAutoplay&&this.startInline()},computed:{isInline:function(){var t=this.$store.state.workspace.userAgentInfo;return"dialog"!==this.data.mode&&!this.data.crossWide&&!t.browser.safari&&!this.isPublisher&&this.data.rect[0]*this.data.scaleRatio.w>144&&this.data.rect[1]*this.data.scaleRatio.h>100},shouldAutoplay:function(){return!this.isFrozenOrNotReady&&!this.isEmbed&&!this.hasError&&!this.isPublisher&&!this.isMobile&&this.isInline&&(this.$store.state.caniuse.video.inlineMutedAutoplay||this.$store.state.caniuse.video.inlineAutoplay)&&this.data.autoplay},isThumbnailShown:function(){return("dialog"!==this.data.mode||this.data.showImage)&&!this.playerLoaded},isIos:function(){return this.$store.state.workspace.userAgentInfo.os.ios},isModalSmall:function(){return this.modalRect.height<=200},isPublisher:function(){return this.$store.state.workspace.userAgentInfo.browser.publisher},apiVideoUrl:function(){var t="";switch(this.data.provider){case"youtube":t="https://www.youtube.com/watch?v="+this.data.id;break;case"vimeo":t="https://vimeo.com/"+this.data.id,this.data.accessKey?t="https://vimeo.com/"+this.data.id+"/"+this.data.accessKey:this.data.originalUrl&&(t=this.data.originalUrl.split("#")[0].split("?")[0]);break;case"wistia":t=this.data.account?"https://"+this.data.account+".wistia.com/medias/"+this.data.id:this.data.originalUrl?this.data.originalUrl.split("#")[0].split("?")[0]:"https://fast.wistia.net/embed/iframe/"+this.data.id;break;default:t=this.data.originalUrl||this.data.id}return t},modalRect:function(){var t=Object(r.fit)({width:this.data.width?this.data.width:this.data.rect[0],height:this.data.height?this.data.height:this.data.rect[1]},{width:.8*this.workspaceSize.width,height:.8*this.workspaceSize.height});return{width:Math.round(t.width),height:Math.round(t.height)}},workspaceSize:function(){return this.$store.getters["workspace/size"]},modalVideoStyle:function(){return"youtube"===this.data.provider?null:{width:this.modalRect.width+"px",height:this.modalRect.height+"px"}},containerClasses:function(){return{error:this.hasError,highlighted:this.isHighlighted}},isMuted:function(){return this.$store.state.sound.muteSound||this.isInline&&!this.$store.state.caniuse.video.inlineAutoplay&&this.$store.state.caniuse.video.inlineMutedAutoplay},isEmbed:function(){return this.$store.state.workspace.isEmbed},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]},rawThumbnailUrl:function(){return this.data.image?/^https?:\/\//.test(this.data.image)?this.data.image:"assets/pages/content/"+this.data.image:null}},methods:{onVideoClick:function(){this.animationInProgress||this.isResizing||(Date.now()>this.tapTimeout&&setTimeout(this.videoClick,this.$store.state.workspace.doubletapInterval+1),this.tapTimeout=Date.now()+this.$store.state.workspace.doubletapInterval)},videoClick:function(){this.isFrozenOrNotReady||this.isEmbed||this.hasError||(this.isPublisher?this.$root.$emit("video",{action:"publisher",url:this.apiVideoUrl}):(this.$emit("video:click",this),this.isInline?this.startInline():this.openinModal()))},startInline:function(){var t,e=this;this.currentTime=this.loadTime(),this.videoData.startFrom=null!==(t=this.currentTime)&&void 0!==t?t:this.originalStartFrom,this.playerPromise.then((function(){"youtube"===e.data.provider&&(e.playerLoaded=!0)})),this.isPlayerShown=!0,this.$nextTick((function(){this.bindEvents()}))},openinModal:function(){var t;this.currentTime=this.loadTime(),this.videoData.startFrom=null!==(t=this.currentTime)&&void 0!==t?t:this.originalStartFrom,this.isModalShown=!0,this.$nextTick((function(){var t=this;this.$refs.modalWindow.show(),this.$nextTick((function(){this.bindEvents()})),this.$refs.modalWindow.$once("hidden",(function(){t.isModalShown=!1,t.isPlaying=!1,t.$emit("video:close",t),t.$root.$emit("video",{action:"close",url:t.apiVideoUrl}),t.unbindEvents()}))}))},playPause:function(t){t.preventDefault(),this.isPlaying?this.$refs.player.pause():this.$refs.player.play()},getVideoInfo:function(t){var e=t.split("?"),i=e[0],s=e[1],r=i.split("#")[0],o=/(?:(?:https?:)?\/\/)?(?:[^.]+\.)?(\w+)(\.|\-)/.exec(r),n=o?o[1]:null,a=r.split("/"),h={provider:n,id:a[a.length-1]};switch(n){case"youtu":case"youtube":if(h.provider="youtube","watch"===h.id){var l=/v=([^&]+)/.exec(s);h.id=l?l[1]:null}break;case"vimeo":var d=/user[0-9]+\/\w+/,u=/^\d+$/;h.customUrl=d.exec(r)?r:null,h.customUrl||u.exec(h.id)||(h.accessKey=h.id,h.id=a[a.length-2]);break;case"wistia":var f=/https?:\/\/(.*)?(?:\.wistia\.com|fast\.wistia\.net)/.exec(r);h.account=f?f[1]:null}return Object(c.default)(this.data,h)},currentPageChanged:function(t){t?!this.isMobile&&this.data.autoplay&&this.$emit("play"):this.$emit("pause")},bindEvents:function(){var t=this;this.$refs.player.$on("play",(function(e,i,s){"youtube"!==t.data.provider&&t.isInline&&(t.playerLoaded=!0);var r=0===e||0===(null==e?void 0:e.seconds);t.isEnded&&r&&t.originalStartFrom&&t.$refs.player.setCurrentTime(t.originalStartFrom),t.isMutedByPlayer=s,t.isEnded=!1,t.isPlaying=!0,t.showPreventer=!0,t.$emit("video:play",e,t,i),t.$root.$emit("video",{action:"play",url:t.apiVideoUrl,time:e})})),this.$refs.player.$on("pause",(function(e,i,s){t.isPlaying=!1,t.isMutedByPlayer=s,t.currentTime=e,t.$emit("video:pause",e,t,i),t.$root.$emit("video",{action:"pause",url:t.apiVideoUrl,time:e})}));var e=function(e,i,s){t.isEnded=!0,t.isMutedByPlayer=s,t.isPlaying=!1,t.currentTime=t.originalStartFrom,t.$emit("video:end",e,t,i),t.$root.$emit("video",{action:"stop",url:t.apiVideoUrl,time:e})};this.$refs.player.$on("end",e),this.$refs.player.$on("ended",e);var i=function(e,i,s){t.currentTime=e,t.isMutedByPlayer=s,t.$emit("video:seek",e,t,i),t.$root.$emit("video",{action:"seekTo",url:t.apiVideoUrl,time:e})};this.$refs.player.$on("seek",i),this.$refs.player.$on("seeked",i),this.$refs.player.$on("timeupdate",(function(e,i,s){t.isMutedByPlayer=s,t.currentTime=e})),this.$refs.player.$on("secondchange",(function(e,i,s){"wistia"===t.data.provider&&t.isEnded||(t.currentTime=e),t.isMutedByPlayer=s})),this.$refs.player.$on("error",(function(e,i,s){"PasswordError"!==e.name&&"PrivacyError"!==e.name?(t.$emit("video:error",e,t,i),t.isModalShown=!1,t.isPlayerShown=!1,t.playerLoaded=!1,t.isPlaying=!1,t.hasError=!0,t.isMutedByPlayer=s):t.showPreventer=!1})),this.$refs.player.$on("loaded",(function(e,i,s){t.showPreventer=!0,"youtube"!==t.data.provider&&t.isInline&&(t.playerLoaded=!0),t.isMutedByPlayer=s,t.$emit("video:loaded",e,t,i)})),this.$refs.player.$on("ready",(function(){t.$nextTick((function(){t.resolvePlayer()}))}))},unbindEvents:function(){this.$refs.player&&(this.$refs.player.$off("play"),this.$refs.player.$off("pause"),this.$refs.player.$off("end"),this.$refs.player.$off("ended"),this.$refs.player.$off("seek"),this.$refs.player.$off("seeked"),this.$refs.player.$off("error"),this.$refs.player.$off("loaded"),this.$refs.player.$off("ready"))},setPlayingWithSound:function(){this.$store.state.caniuse.userInteractions.firstClick||this.isMutedByPlayer||this.$store.dispatch("caniuse/setFirstClick"),this.$store.dispatch("content/setVideoPlayingWithSound",{playing:this.isPlaying&&!this.isMutedByPlayer,itemId:this.data.itemId})},getVideoHash:function(t){return[[this.videoData.page.id,this.videoData.page.isWide?"wide":this.videoData.page.side].join("_"),this.videoData.provider,this.videoData.id,t].join("_")},saveTime:function(t){var e=this.getVideoHash("time"),i=this.getVideoHash("id"),s=Object(o.default)().getSessionStorage().getItem(i);this.data.crossWide&&s&&s!=this.lastProgressId||(this.lastProgressId=Date.now(),Object(o.default)().getSessionStorage().setItem(e,t),Object(o.default)().getSessionStorage().setItem(i,this.lastProgressId))},loadTime:function(){var t=this.getVideoHash("time"),e=Object(o.default)().getSessionStorage().getItem(t),i=e?parseInt(e,10):null,s=this.getVideoHash("id");return this.lastProgressId=Object(o.default)().getSessionStorage().getItem(s),null===i||isNaN(i)?null:i}},components:{youtube:n.default,vimeo:a.default,wistia:h.default,"modal-window":l.default}}},function(t,e,i){"use strict";i.r(e);var s=i(173);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s,r=i(794),o=i.n(r);function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h=0,l=-1,c=0,d=1,u=2,f=3,g=5,p=(a(s={},l,"unstarted"),a(s,d,"play"),a(s,u,"pause"),a(s,c,"ended"),a(s,f,"buffering"),a(s,g,"cued"),s);e.default={name:"YoutubePlayer",props:{id:{type:[String],required:!0,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},height:{type:[Number,String],default:null},width:{type:[Number,String],default:null},mute:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1},isIos:{type:Boolean,default:!1}},watch:{id:"update",width:"setSize",height:"setSize",mute:"setMute",isCurrentPage:function(t){t&&!this.isPaused&&this.play()}},data:function(){return{elementId:"youtube-player-".concat(h+=1),player:{},isPaused:!1}},methods:{play:function(){return this.player.playVideo()},pause:function(){return this.isPaused=!0,this.player.pauseVideo()},stop:function(){return this.player.stopVideo()},update:function(t){this.player.loadVideoById({videoId:t})},setSize:function(){this.player.setSize(this.width,this.height)},setMute:function(t){t?this.player.mute():this.player.unMute()},setVolume:function(t){this.player.setVolume(100*t)},setCurrentTime:function(t){this.player.seekTo(t)},onReady:function(t){var e=this;this.$emit("ready",t.target),this.setMute(this.mute),this.isIos&&this.start&&this.$once("play",(function(){e.player.seekTo(e.start,!0)})),this.$on("play",this.startEmmitingTime),this.$on("pause",this.stopEmmitingTime),this.$on("ended",this.stopEmmitingTime),this.player.getPlayerState().then((function(t){var i=[d,u,f];e.isCurrentPage&&-1===i.indexOf(t)&&e.isMobile&&!e.isIos&&e.play()}))},emitStateChange:function(t){var e=this;if(null!==t.data&&t.data!==l){var i,s=this.player.getCurrentTime(),r=this.player.isMuted();"function"==typeof s.then?s.then((function(s){i=Math.round(s),r.then((function(s){e.$emit(p[t.data],i,e.player,s)}))})):(i=Math.round(s),this.$emit(p[t.data],i,this.player,r))}},emitError:function(t){var e=this;this.player.isMuted().then((function(i){e.$emit("error",t,e.player,i)}))},startEmmitingTime:function(){var t=this;this.timeInterval=setInterval((function(){if(t.player){var e,i=t.player.getCurrentTime(),s=t.player.isMuted();"function"==typeof i.then?i.then((function(i){e=Math.round(i),s.then((function(i){t.$emit("timeupdate",e,t.player,i)}))})):(e=Math.round(i),t.$emit("timeupdate",e,t.player,s))}}),1e3)},stopEmmitingTime:function(){clearInterval(this.timeInterval)}},computed:{isMobile:function(){return"mobile"===this.$store.state.workspace.layout}},mounted:function(){window.YTConfig={host:"https://www.youtube.com"};var t={autoplay:this.isCurrentPage?1:0,rel:0,modestbranding:1,mute:this.mute?1:0};!this.isIos&&this.start&&(t.start=this.start),this.player=o()(this.$refs.playerMount,{videoId:this.id,width:this.width,height:this.height,playerVars:n(t,this.options)}),this.player.on("ready",this.onReady),this.player.on("stateChange",this.emitStateChange),this.player.on("error",this.emitError),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){null!==this.player&&this.player.destroy&&(this.player.destroy(),delete this.player),this.$off("play",this.startEmmitingTime),this.$off("pause",this.stopEmmitingTime),this.$off("ended",this.stopEmmitingTime),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){"use strict";i.r(e);var s=i(175);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(807);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var o=0;function n(t){var e=this;this.player.on(t,(function(i,s){var r=i.seconds?Math.floor(i.seconds):i;"error"!==t?e.player.getMuted().then((function(i){e.$emit(t,r,e.player,i)})):console.log(t,i)}))}var a=["play","pause","ended","seeked","error","loaded","timeupdate","volumechange"];e.default={name:"VimeoPlayer",props:{id:{type:[String],required:!1,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1},customUrl:{type:String,default:null}},render:function(t){return t("div",{attrs:{class:"vimeo-player player",id:this.elementId}})},watch:{id:"update",mute:"setMute",width:"setSize",height:"setSize",isCurrentPage:function(t){t&&!this.isPaused&&this.play()}},data:function(){return{elementId:"vimeo-player-".concat(o+=1),player:null,isPaused:!1,volume:1}},methods:{play:function(){var t=this;return this.playPromise=this.player.play().catch(this.error),this.playPromise.then((function(){t.playPromise=null})),this.playPromise},pause:function(){var t=this;return this.playPromise?this.playPromise.then((function(){return t.doPause()})):this.doPause()},doPause:function(){return this.isPaused=!0,this.player.pause().catch(this.error)},stop:function(){return this.player.pause().catch(this.error)},update:function(t){return this.player.loadVideo(t).catch(this.error)},setMute:function(t){var e=this;t?(this.player.getVolume().then((function(t){e.volume=t>.1?t:.3})).catch(this.error),this.player.setMuted(!0).catch(this.error)):(this.player.setMuted(!1).catch(this.error),this.player.setVolume(this.volume).catch(this.error))},setVolume:function(t){this.player.setVolume(t).catch(this.error)},setSize:function(){this.player.element&&(this.player.element.width=this.width,this.player.element.height=this.height)},setCurrentTime:function(t){this.player.setCurrentTime(t)},init:function(){var t=this;this.player.ready().then((function(){t.start&&t.player.setCurrentTime(t.start),t.$emit("ready",t.player),t.setMute(t.mute),a.forEach((function(e){return n.call(t,e)}))})).catch(this.error)},error:function(t){var e=this;if(-1!==t.message.indexOf("is not embeddable")&&this.$el.querySelector("iframe"))return;"PasswordError"!==t.name&&"PrivacyError"!==t.name||this.player.element&&(this.$nextTick((function(){e.player.element.focus()})),setTimeout((function(){e.player.element.focus()}),100)),this.$emit("error",t,this.player)}},mounted:function(){var t={width:this.width,height:this.height,autoplay:this.isCurrentPage,autopause:0,muted:this.mute,transparent:!1,playsinline:!0};this.customUrl?(t.url=this.url,t.url+=this.accessKey?"/"+this.accessKey:""):this.embedUrl?t.url=this.embedUrl:this.accessKey?t.url="https://www.vimeo.com/"+this.id+"/"+this.accessKey:t.id=this.id,this.player=new s.default(this.$el,r(t,this.options)),this.init(),this.$parent.$on("play",this.play),this.$parent.$on("stop",this.stop),this.$parent.$on("pause",this.pause)},beforeDestroy:function(){this.player&&this.player.unload().catch((function(){})),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(178);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(55),r=i(11),o=i(3),n=i(5);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var h=0;function l(t){var e=this;this.player.bind(t,(function(){var i=Math.floor(e.player.time());e.$emit(t,i,e.player,e.player.isMuted())}))}var c=["play","pause","end","seek","secondchange","volumechange"];e.default={name:"WistiaPlayer",props:{id:{type:[String],required:!1,default:null},url:{type:[String],required:!1,default:null},embedUrl:{type:[String],required:!1,default:null},accessKey:{type:[String],required:!1,default:null},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},mute:{type:Boolean,default:!1},start:{type:Number,default:null},options:{type:Object,default:function(){return{}}},isCurrentPage:{type:Boolean,default:!1}},watch:{id:"update",mute:"setMute",isCurrentPage:function(t){t&&!this.isPaused&&this.safePlay()},height:function(t){var e;null===(e=this.player)||void 0===e||e.height(t)},width:function(t){var e;null===(e=this.player)||void 0===e||e.width(t)}},data:function(){return{elementId:this.generateElementId(),player:null,isPaused:!1,autoplayMissed:!1,tryNumber:0}},methods:{generateElementId:function(){return"wistia-player-".concat(h+=1)},play:function(){return this.player.play()},safePlay:function(){if(this.player)return this.play();this.autoplayMissed=!0},pause:function(){return this.isPaused=!0,this.player.pause()},stop:function(){return this.player.pause()},update:function(t){return this.player.replaceWith(t)},setMute:function(t){var e,i,s,r;t?(null===(e=this.player)||void 0===e||e.mute(),null===(i=this.player)||void 0===i||i.volume(0)):(null===(s=this.player)||void 0===s||s.unmute(),null===(r=this.player)||void 0===r||r.volume(1))},setVolume:function(t){this.player.volume(t)},setCurrentTime:function(t){this.player.time(t)},onAPILoaded:function(){var t=this,e=this,i={autoPlay:this.isCurrentPage,silentAutoPlay:!1,googleAnalytics:!1,videoFoam:!1,resumable:!1,muted:this.mute};this.start&&(i.time=Object(r.secondToTimeFormat)(this.start));var s={id:this.elementId,options:a(i,this.options),onEmbedded:function(t){e.player=t,c.forEach((function(t){return l.call(e,t)})),s.onEmbedded=function(){},s.initPlayerSkipped&&s.initPlayer()},onReady:function(t){var r=t.options,o=r.autoPlay!==i.autoPlay||r.time!==i.time;s.onReady=function(){},o&&e.shouldRetry()?setTimeout((function(){e.disposePlayer(),e.elementId=e.generateElementId(),e.increaseTryNumber(),e.$nextTick((function(){e.onAPILoaded()}))}),e.getTryTimeout()):t.embedded()?s.initPlayer():s.initPlayerSkipped=!0},initPlayer:function(){var i,s;e.resetTryNumber(),null===(i=e.player)||void 0===i||i.width(e.width),null===(s=e.player)||void 0===s||s.height(e.height),e.$parent.$on("play",e.play),e.$parent.$on("stop",e.stop),e.$parent.$on("pause",e.pause),e.$emit("ready",e.player),e.setMute(t.mute),e.autoplayMissed&&e.play()}};window._wq=window._wq||[],window._wq.push(s)},increaseTryNumber:function(){this.tryNumber++},resetTryNumber:function(){this.tryNumber=0},shouldRetry:function(){return this.tryNumber<2},getTryTimeout:function(){return 500*(this.tryNumber+2)},disposePlayer:function(){this.player&&"function"==typeof this.player.remove&&(this.player.remove(),this.player=null)},removeMutePrefs:function(){var t=Object(o.default)().getLocalStorage().getItem("wistia-viewer-preferences");if(!Object(n.isEmpty)(t)){var e=JSON.parse(t);delete e.muted,t=JSON.stringify(e),Object(o.default)().getLocalStorage().setItem("wistia-viewer-preferences",t)}}},beforeMount:function(){this.removeMutePrefs()},mounted:function(){window.Wistia?this.onAPILoaded():Object(s.default)("https://fast.wistia.com/assets/external/E-v1.js",this.onAPILoaded)},beforeDestroy:function(){this.disposePlayer(),this.$parent.$off("play",this.play),this.$parent.$off("stop",this.stop),this.$parent.$off("pause",this.pause)}}},function(t,e,i){"use strict";i.r(e);var s=i(180);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(23),r=i(5),o=i(8),n=i(16);i(181);e.default={props:{rect:{type:Object,required:!1,default:null},width:{type:[Number,String],default:"80%"},height:{type:[Number,String],default:"auto"},bgColor:{type:String,default:null},styles:{type:Object,required:!1,default:null},classes:{type:[Object,Array,String],required:!1,default:null},delay:{type:Number,default:0},preloader:{type:Boolean,default:!1},showCloseIcon:{type:Boolean,default:!0}},data:function(){return{isVisible:!1,visibility:{modal:!1,overlay:!1},isLoaded:!this.preloader,hasError:!1,androidKeyboardShift:0,historyEnabled:!!window.history&&!!window.history.pushState&&window.location===window.parent.location,windowWidth:window.innerWidth,windowHeight:window.innerHeight}},watch:{isVisible:function(t){var e=this;t?(this.visibility.overlay=!0,setTimeout((function(){e.visibility.modal=!0}),this.delay)):(this.visibility.modal=!1,setTimeout((function(){e.visibility.overlay=!1}),this.delay))},workspaceBookSize:function(){this.hide()}},computed:{modalStyle:function(){var t,e={};if(this.bgColor&&this.isLoaded&&!(null===(t=this.styles)||void 0===t?void 0:t.backgroundColor)&&(e.backgroundColor=this.bgColor),this.rect)e.width=this.rect.width+"px",e.height=this.rect.height+"px",e.left=this.rect.left+"px",e.top=this.rect.top+this.androidKeyboardShift+"px";else{var i=Object(r.isNumeric)(this.width),s=Object(r.isNumeric)(this.height);e.width=i?this.width+"px":this.width,e.height=s?this.height+"px":this.height,e.top=s?Math.round((this.windowHeight-this.height)/2)+this.androidKeyboardShift+"px":"50%",e.left=i?Math.round((this.windowWidth-this.width)/2)+"px":"50%",e.transform=i?"":"translateX(-50%)",e.transform+=s?"":" translateY(-50%)"}return this.styles&&Object(n.default)(e,this.styles),e},isAndroid:function(){return!0===this.$store.state.workspace.userAgentInfo.os.android},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},workspaceBookSize:function(){return this.$store.state.workspace.bookSize}},methods:{show:function(){var t=this;this.historyEnabled&&window.addEventListener("popstate",this.hide),this.isVisible=!0,this.$store.dispatch("workspace/setModalOpened",!0),setTimeout((function(){t.$emit("shown"),t.historyEnabled&&window.history.pushState({lightbox:!0},null,window.location.href)}),this.delay)},hide:function(){var t=this;this.historyEnabled&&window.removeEventListener("popstate",this.hide),this.isVisible=!1,this.$store.dispatch("workspace/setModalOpened",!1),setTimeout((function(){t.$emit("hidden")}),this.delay)},onOverlayTap:function(t){t.preventDefault(),t&&t.target&&(Object(r.isString)(t.target.className)&&t.target.className.indexOf("modal-window-overlay")>=0||Object(o.classPath)(t.target).indexOf("modal-close")>=0)&&(this.historyEnabled&&0!==window.history.length?window.history.back():this.hide())},loading:function(){this.isLoaded=!1},loaded:function(){this.isLoaded=!0},error:function(){this.hasError=!0},onResize:function(){if(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.isAndroid){var t=document.activeElement;if(0!==this.androidKeyboardShift||"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase())0!==this.androidKeyboardShift&&(this.androidKeyboardShift=0);else{var e,i=t.getBoundingClientRect();i.top>this.windowHeight/2&&this.windowHeight<((null===(e=this.rect)||void 0===e?void 0:e.height)||this.height)&&(this.androidKeyboardShift=-i.top/4)}}},onKeydown:function(t){"Escape"===t.key&&this.hide()}},mounted:function(){this.onResizeDebounced=Object(o.debounce)(this.onResize,100,!1),window.addEventListener("resize",this.onResizeDebounced),window.addEventListener("keydown",this.onKeydown),this.$root.$el.appendChild(this.$el)},beforeDestroy:function(){var t=this;window.removeEventListener("resize",this.onResizeDebounced),window.removeEventListener("keydown",this.onKeydown),this.$store.dispatch("workspace/setModalOpened",!1),setTimeout((function(){var e,i;null===(e=(i=t.$el).remove)||void 0===e||e.call(i)}),this.delay)},components:{spinner:s.default}}},function(t,e,i){i(0).register({"rounded-close":{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" d="M8.003 1.007A6.996 6.996 0 1015 8.003a6.988 6.988 0 00-6.98-6.996h-.016zm2.881 8.89a.312.312 0 010 .493l-.494.494a.312.312 0 01-.494 0L8.003 8.991 6.11 10.884a.312.312 0 01-.494 0l-.493-.494a.312.312 0 010-.494l1.893-1.893L5.123 6.11a.304.304 0 010-.494l.493-.493a.304.304 0 01.494 0l1.893 1.893 1.893-1.893a.312.312 0 01.494 0l.494.493a.312.312 0 010 .494L8.991 8.003l1.893 1.893z"/>'}})},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(185);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(16);e.default={name:"select-text-panel",data:function(){return{showPanel:!1,forceShow:!1,panelStyle:{},panelRect:{},vertical:null,rightOffset:!1,showPanelTimeout:null,pointerTransform:{}}},mounted:function(){this.$root.$on("selectText:hidePanel",this.hide),this.$root.$on("selectText:showPanel",this.show)},beforeDestroy:function(){this.$root.$off("selectText:hidePanel",this.hide),this.$root.$off("selectText:showPanel",this.show)},computed:{userRect:function(){return this.$store.state.text.selectionRect},pageId:function(){return this.$store.state.text.pageID},pageSide:function(){return this.$store.state.text.pageSide},inProgress:function(){return this.$store.state.text.inProgress},pageSize:function(){return this.$store.state.pages.size},cornerSymbols:function(){return this.$store.state.text.cornerSymbols},holderSize:function(){return this.$store.getters["workspace/holderSize"]},bookComponent:function(){return this.$store.state.workspace.bookComponent},locale:function(){return this.$store.getters["i18n/getCurrent"]},blockDirection:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":null},isRtl:function(){return this.$store.state.book.rightToLeft},panelClass:function(){return this.vertical+(this.rightOffset?" right-side":"")+(this.contextMenuVisible?" quick-leave":"")},pages:function(){var t=this.$store.getters["pager/currentPages"].length;return this.$store.getters["pages/pageProp"](this.pageId,"wide")?2:t},hardcoverTopPadding:function(){return this.$store.getters["book/hasHardcover"]?this.$store.state.pager.spreadMode?1===this.pages&&(this.$store.getters["pages/isFirstPage"](this.pageId)||this.$store.getters["pages/isLastPage"](this.pageId))?-.03*this.pageSize.height/2:0:this.$store.state.pager.singleMode&&this.$store.getters["pages/isFirstPage"](this.pageId)?-.03*this.pageSize.height/2:0:0},hardcoverLeftPadding:function(){return this.$store.getters["book/hasHardcover"]&&(this.$store.state.pager.spreadMode&&1===this.pages&&(!this.isRtl&&this.$store.getters["pages/isLastPage"](this.pageId)||this.isRtl&&this.$store.getters["pages/isFirstPage"](this.pageId))||this.$store.state.pager.singleMode&&this.isRtl&&this.$store.getters["pages/isFirstPage"](this.pageId))?-.03*this.pageSize.width:0},pageLeftPadding:function(){var t=this.$store.getters["pages/pageProp"](this.pageId,"wide");return this.$store.getters["pager/isFirstSpread"]||"right"!==this.pageSide||(this.isRtl&&this.$store.getters["pages/isLastPage"](this.pageId)||t)&&!this.$store.state.pager.singleMode?0:this.$store.state.pager.spreadMode?this.pageSize.width:this.$store.state.pager.singleMode&&t?-this.pageSize.width:0},contextMenuVisible:function(){return this.$store.state.workspace.contextMenuVisible},isOnline:function(){return!this.$store.getters["workspace/isOffline"]}},watch:{showPanel:function(t){var e=this;t&&this.$nextTick((function(){e.setPosition()}))}},methods:{hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceHide:!0};this.showPanel=!1,t.forceHide&&(this.forceShow=!1)},show:function(){null===this.userRect||this.showPanel||(this.showPanel=!0)},setPosition:function(){var t=this.calculatePanelPosition();this.panelRect.left=t.left,this.panelRect.top=t.top,this.vertical=t.vertical,this.panelStyle={left:this.panelRect.left+"px",top:this.panelRect.top+"px"}},calculatePanelPosition:function(){var t;t=this.cornerSymbols.first.top===this.cornerSymbols.last.top?"left"===this.userRect.cursorHSide?{vertical:"top",horizontal:"first"}:{vertical:"bottom",horizontal:"last"}:"top"===this.userRect.cursorVSide?{vertical:"top",horizontal:"first"}:{vertical:"bottom",horizontal:"last"};var e=this.calculatePanelCoordinates(t);return e.top<50?(t.vertical="bottom",e=this.calculatePanelCoordinates(t)):e.top>this.holderSize.height-50&&(t.vertical="top",e=this.calculatePanelCoordinates(t)),t=Object(s.default)(t,e)},calculatePanelCoordinates:function(t){var e,i,s,r=null!==(e=null===(i=this.userRect)||void 0===i?void 0:i.offsetX)&&void 0!==e?e:0,o=null!==(s=this.userRect.offsetY)&&void 0!==s?s:0,n=this.cornerSymbols[t.horizontal],a=this.cornerSymbols.first.top!==this.cornerSymbols.last.top,h=this.cornerSymbols.first.isRtlSelection&&a,l=t.horizontal===(h?"last":"first")&&n.collisions.left||t.horizontal===(h?"first":"last")&&!n.collisions.right?n.width:0,c="bottom"===t.vertical?n.height:0;return{left:this.pageLeftPadding+this.hardcoverLeftPadding+n.left+l+r,top:this.hardcoverTopPadding+n.top+c+o}},copyText:function(){this.$root.$emit("contextMenu:copyText"),this.hide()},copyTextLink:function(){this.$root.$emit("contextMenu:copyTextLink"),this.hide()},onMouseEnter:function(){this.forceShow=!0},onMouseLeave:function(){this.forceShow=!1}}}},function(t,e,i){},function(t,e,i){i(0).register({"add-note":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 3v13h6l3 5 3-5h6V3H3zm5 6h3V6h2v3h3v2h-3v3h-2v-3H8V9z"/>'}})},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(190);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(143),r=i.n(s),o=i(12),n=i(5),a=i(474),h=i(41),l=i.n(h),c=i(128),d=i(454),u=i(456),f=i(458),g=i(460),p=i(462),m=i(464),v=i(470),b=i(472),S=i(473),w=i(29);i(824),i(825),i(187);function y(t){return z(t)||P(t)||x(t)||k()}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,e){if(t){if("string"==typeof t)return $(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$(t,e):void 0}}function P(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function z(t){if(Array.isArray(t))return $(t)}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var C={"content-block":d.default,"content-link":u.default,"content-image":f.default,"content-gallery":g.default,"content-gif":p.default,"content-video":m.default};e.default={name:"SlideBook",mixins:[b.default,S.default,w.default],props:{containerSize:{type:Object,required:!0},pageSize:{type:Object,required:!0}},components:{page:c.default,selectTextPanel:v.default},data:function(){return{status:"ready",zoomFactor:1,scaleFactor:1,slideScrollTop:0,slideScrollLeft:0,slideScrollY:0,slideScrollX:0,scaleOrigin:{x:0,y:0},delta:0,slidesCache:{},outputSlidesCache:[],horizontalScale:1,fastAnimation:!1,dragActive:!0,lastZoomFactor:null,lastWheelTime:0,propCache:{},dragging:!1,noteIconClass:["hidden"],noteIconStyle:null,isFastSliding:!1,fastSlidingCancelTimeout:null}},beforeMount:function(){this.lastZoomFactor=this.defaultZoomFactor,this.zoomFactor=this.$store.state.pages.size.zoomFactor},mounted:function(){this.slidesCacheUpdate(),this.status="ready",this.pendingSlide=null,this.$root.$on("contextMenu:zoomIn",this.zoomIn),this.$root.$on("contextMenu:zoomOut",this.zoomOut),this.$root.$on("bottomMenu:zoomIn",this.zoomIn),this.$root.$on("bottomMenu:zoomOut",this.zoomOut),this.$root.$on("zoomPanel",this.changeZoom),this.$root.$on("zoomMove",this.zoomMove),this.$root.$on("wheel",this.onWheel),this.$root.$on("nav:goRight",this.checkFastSlide),this.$root.$on("nav:goLeft",this.checkFastSlide),this.updateNoteIcon(),requestAnimationFrame(this.animationLoop),this.zoomFactor>1&&this.refreshScroll()},beforeDestroy:function(){this.tween&&r.a.remove(this.tween),this.$root.$off("contextMenu:zoomIn",this.zoomIn),this.$root.$off("contextMenu:zoomOut",this.zoomOut),this.$root.$off("bottomMenu:zoomIn",this.zoomIn),this.$root.$off("bottomMenu:zoomOut",this.zoomOut),this.$root.$off("zoomPanel",this.changeZoom),this.$root.$off("zoomMove",this.zoomMove),this.$root.$off("wheel",this.onWheel),this.$root.$off("nav:goRight",this.checkFastSlide),this.$root.$off("nav:goLeft",this.checkFastSlide)},watch:{pageSize:function(t){var e={width:t.width*this.zoomFactor,height:t.height*this.zoomFactor,zoomFactor:this.zoomFactor};this.$store.dispatch("pages/changePageSize",e),this.slidesCacheUpdate()},isSingleMode:function(){this.slidesCacheUpdate()},isSlideMode:function(){this.slidesCacheUpdate()},isRtl:function(){this.slidesCacheUpdate()},zoomFactor:function(t,e){var i=this,s={width:this.pageSize.width*t,height:this.pageSize.height*t,zoomFactor:t};if(this.$store.dispatch("pages/changePageSize",s),t>1&&1===e){var r=y(this.slidesCache.current.map((function(t){return t.id}))).filter((function(t){return null!==t})).some((function(t){return i.$store.getters["pages/pageProp"](t,"textBlocks")}),this);this.selectTextEnabled&&r&&this.showSelectTextTip()}this.refreshScroll()},status:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){"sliding"===t?this.$store.dispatch("pager/isPageChanging",!0):this.$store.state.pager.isMoveWatcherActive||this.$store.dispatch("pager/isPageChanging",!1),this.refreshScroll(),this.$store.dispatch("workspace/setStatus",t);var e=["sliding","pan"].indexOf(status)>=0?"inProgress":"pending";this.$store.dispatch("pager/setFlipState",{newState:e}),"ready"!==t||this.isFastSliding?this.$store.dispatch("workspace/setAnimationProgress",{animationType:"pagerMove"}):this.$store.dispatch("workspace/unsetAnimationProgress"),this.updateNoteIcon()})),slides:function(t,e){var i=this;if(this.scrollLock)this.scrollLock=!1;else{var s=e.current[0].state,r=t.current[0].state;if(s.mode===r.mode){this.isSlideMode||this.isSingleMode||this.updateHorizontalScale(t.current[0],e.current[0]);var o=this.$store.getters["pager/getDeltaTurns"](s,r),n=Math.abs(o)>1;r.zoomMode===s.zoomMode||o?!this.isRtl&&o>0||this.isRtl&&o<0?(n&&this.replaceCachedSlide("right",t.current),this.isZoomed?(this.pendingSlide="right",this.zoomOut()):this.$nextTick((function(){i.animateSlides("right",!1,!0)}))):(!this.isRtl&&o<0||this.isRtl&&o>0)&&(n&&this.replaceCachedSlide("left",t.current),this.isZoomed?(this.pendingSlide="left",this.zoomOut()):this.$nextTick((function(){i.animateSlides("left",!1,!0)}))):r.zoomMode?this.zoomIn():this.zoomOut()}}},workspaceSize:function(t,e){if(this.isMobile&&e.width&&e.height&&(t.width!==e.width||t.height!==e.height))this.zoomOut(!0);else if(1!==this.zoomFactor){var i,s,r={x:(i=this.isInitialZoom?{x:this.isRTLBook?this.spreadSizes.current.width:0,y:0}:{x:t.width/2,y:t.height/2}).x-this.spreadSizes.current.left,y:i.y-this.spreadSizes.current.top};this.scaleFactor=1,s=this.isInitialZoom?Object(a.getNewCenteredBounds)(this.containerSize,this.spreadSizes.current,this.scaleFactor,r):Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,r),s=Object(a.normalizeBounds)(s,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,s,this.scaleFactor),this.slideScrollLeft=s.left,this.slideScrollTop=s.top,this.isInitialZoom&&(this.$store.dispatch("workspace/clearInitialZoom"),this.refreshScroll())}},containerSize:function(){1===this.zoomFactor||this.isMobile||this.refreshScroll()},pageSizes:function(t){var e=this,i=this.slidesCache;Object.keys(i).forEach((function(s){for(var r=0;r<i[s].length;r++){var o=i[s][r].id,n=e.getPageProp(o,"wide"),a=t[s].width*(e.isSingleMode&&n?2:1),h=t[s].height;e.$store.dispatch("pages/setCurrentSize",{pageID:o,value:{width:a,height:h}})}}))},spreadSizes:function(t){this.$store.dispatch("workspace/setHolderSize",t.current),this.updateNoteIcon()},isLocaleRtl:function(){this.updateNoteIcon()},notesEnabled:function(){this.updateNoteIcon()},dragActive:function(t){t?this.$refs.holder.$el.classList.remove("nodrag"):this.$refs.holder.$el.classList.add("nodrag")},isMini:function(){this.zoomOut(!0),this.updateNoteIcon()},orientationChanged:function(t,e){e&&this.zoomOut(!0)}},computed:{isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){return this.$store.getters["pager/isFirstSpread"]},isLastPage:function(){return this.$store.getters["pager/isLastSpread"]},isRightmostPage:function(){return this.isFirstPage&&this.isRtl||this.isLastPage&&!this.isRtl},isLeftmostPage:function(){return this.isLastPage&&this.isRtl||this.isFirstPage&&!this.isRtl},isRtl:function(){return this.$store.state.book.rightToLeft},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isSingleMode:function(){return this.$store.state.pager.singleMode},isSpreadMode:function(){return this.$store.state.pager.spreadMode},isSlideMode:function(){return this.$store.state.pager.slideMode},isContentCropMode:function(){return this.isSlideMode&&this.$store.state.book.contentCrop},isZoomed:function(){return 1!==this.zoomFactor},isInitialZoom:function(){return this.$store.state.workspace.initialZoom},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},slides:function(){var t=this,e={},i=this.isRtl?"right":"left",s=this.isRtl?"left":"right",r=this.$store.getters["pager/state"],o=this.$store.getters["pager/nextState"],n=this.$store.getters["pager/prevState"],a=this.$store.getters["pager/secondNextState"],h=this.$store.getters["pager/secondPrevState"],l=this.isRtl?o:n,c=this.isRtl?n:o,d=this.isRtl?a:h,u=this.isRtl?h:a,f=function(i,s,o,n,a,h){if(h||(e[i]=[]),s){var l=t.$store.getters["pages/pageIndexById"](s);n&&o===(t.isRtl?"left":"right")&&l++;var c=t.$store.getters["pages/pageCaptionByIndex"](l),d=t.$store.getters["pages/pageProp"](s,"backgroundColor"),u=t.isSlideMode&&n?"page-wide":"page",f={backgroundColor:d};t.isFastSliding&&(f["font-size"]=Math.min(Math.floor(t.containerSize.height/20),20)+"px"),e[i].push({id:s,side:o,caption:c,icon:u,style:f,wide:n,position:a,state:r})}};if(r.singleMode)f("current",r.currentPage,r.pageSide,r.wide,""),l&&f("left",l.currentPage,l.pageSide,l.wide,""),c&&f("right",c.currentPage,c.pageSide,c.wide,""),d&&f("second-left",d.currentPage,d.pageSide,d.wide,""),u&&f("second-right",u.currentPage,u.pageSide,u.wide,"");else if(r.slideMode){if(e.current=[],r.currentPage){var g=r.wide?"both":i;f("current",r.currentPage,g,r.wide,i)}if(l){var p=l.wide?"both":i;f("left",l.currentPage,p,l.wide,i)}if(c){var m=c.wide?"both":i;f("right",c.currentPage,m,c.wide,i)}if(d){var v=d.wide?"both":i;f("second-left",d.currentPage,v,d.wide,i)}if(u){var b=u.wide?"both":i;f("second-right",u.currentPage,b,u.wide,i)}}else if(r.spreadMode){var S=function(e,r){var o=t.getPageProp(r.leftPage,"wide"),n=o?"both":i;if(f(e,r.leftPage,n,o,i),r.rightPage&&r.leftPage!==r.rightPage){var a=o?"both":s;f(e,r.rightPage,a,o,s,!0)}};S("current",r),l&&S("left",l),c&&S("right",c),d&&S("second-left",d),u&&S("second-right",u)}return e},fitPageSize:function(){return Object(o.fit)(this.pageSize,this.containerSize)},fitDoublePageSize:function(){return Object(o.fit)({width:2*this.pageSize.width,height:this.pageSize.height},this.containerSize)},fitSinglePageSize:function(){return{width:this.fitDoublePageSize.width/2,height:this.fitDoublePageSize.height,top:this.fitDoublePageSize.top,left:(this.containerSize.width-this.fitDoublePageSize.width/2)/2}},pageSizes:function(){var t={},e=this.fitPageSize,i=this.fitDoublePageSize,s=this.fitSinglePageSize;for(var r in this.slidesCache){if(!this.slidesCache.hasOwnProperty(r))return;var o="current"===r?this.zoomFactor:1;if(this.isSingleMode)t[r]={width:Math.round(e.width*o),height:Math.round(e.height*o)};else if(this.isContentCropMode){var n=this.getContentSize(this.slidesCache[r][0].id);t[r]={width:Math.round(n.width*o),height:Math.round(n.height*o),left:n.left,top:n.top}}else{var a=this.slidesCache[r][0].wide;t[r]={width:Math.round((a?i.width:s.width)*o),height:Math.round((a?i.height:s.height)*o)}}}return t},spreadSizes:function(){var t={};for(var e in this.slidesCache){if(!this.slidesCache.hasOwnProperty(e))return;if(t[e]={width:this.pageSizes[e].width*this.slidesCache[e].length,height:this.pageSizes[e].height},this.isZoomed&&"current"===e)t[e].left=this.slideScrollLeft,t[e].top=this.slideScrollTop;else if(this.isSingleMode)t[e].left=this.fitPageSize.left,t[e].top=this.fitPageSize.top;else if(this.isContentCropMode)t[e].left=this.pageSizes[e].left,t[e].top=this.pageSizes[e].top;else{var i=2===this.slidesCache[e].length||this.slidesCache[e][0].wide;t[e].left=i?this.fitDoublePageSize.left:this.fitSinglePageSize.left,t[e].top=i?this.fitDoublePageSize.top:this.fitSinglePageSize.top}}return t},holderClasses:function(){return{zoomed:this.isZoomed,"drag-active":this.dragging,single:this.isSingleMode}},spreadStyles:function(){var t={};return t.current={width:this.spreadSizes.current.width+"px",height:this.spreadSizes.current.height+"px",left:this.isZoomed?this.containerSize.width>=this.spreadSizes.current.width?Math.round((this.containerSize.width-this.spreadSizes.current.width)/2)+"px":0:Math.round(this.spreadSizes.current.left)+"px",top:this.isZoomed?this.containerSize.height>=this.spreadSizes.current.height?Math.round((this.containerSize.height-this.spreadSizes.current.height)/2)+"px":0:Math.round(this.spreadSizes.current.top)+"px",transformOrigin:Math.round(this.scaleOrigin.x)+"px "+Math.round(this.scaleOrigin.y)+"px",transition:"animating"===this.status?["-webkit-transform "+(this.fastAnimation?1:this.zoomAnimationSpeed)+"ms cubic-bezier(0.215, 0.61, 0.355, 1)","transform "+(this.fastAnimation?1:this.zoomAnimationSpeed)+"ms cubic-bezier(0.215, 0.61, 0.355, 1)"]:["-webkit-transform 0ms","transform 0ms"]},"pinch"!==this.status&&"scale"!==this.status&&"animating"!==this.status?t.current.transform="":0!==this.slideScrollTop||0!==this.slideScrollLeft?t.current.transform="translate3d("+(this.containerSize.width<this.spreadSizes.current.width?Math.round(this.slideScrollLeft):0)+"px,"+(this.containerSize.height<this.spreadSizes.current.height?Math.round(this.slideScrollTop):0)+"px, 0) scale("+this.scaleFactor.toFixed(2)+")":t.current.transform="scale("+this.scaleFactor.toFixed(2)+")",this.slidesCache.left&&(t.left={width:this.spreadSizes.left.width+"px",height:this.spreadSizes.left.height+"px",left:Math.round(this.spreadSizes.left.left)+"px",top:Math.round(this.spreadSizes.left.top)+"px"}),this.slidesCache.right&&(t.right={width:this.spreadSizes.right.width+"px",height:this.spreadSizes.right.height+"px",left:Math.round(this.spreadSizes.right.left)+"px",top:Math.round(this.spreadSizes.right.top)+"px"}),this.slidesCache["second-left"]&&(t["second-left"]={width:this.spreadSizes["second-left"].width+"px",height:this.spreadSizes["second-left"].height+"px",left:Math.round(this.spreadSizes["second-left"].left)+"px",top:Math.round(this.spreadSizes["second-left"].top)+"px"}),this.slidesCache["second-right"]&&(t["second-right"]={width:this.spreadSizes["second-right"].width+"px",height:this.spreadSizes["second-right"].height+"px",left:Math.round(this.spreadSizes["second-right"].left)+"px",top:Math.round(this.spreadSizes["second-right"].top)+"px"}),t},slideStyles:function(){var t={};return t.current={transform:"translate3d("+Math.round(this.slideOffsets.current)+"px, 0, 0)"},this.slidesCache.left&&(t.left={transform:"translate3d("+Math.round(this.slideOffsets.left)+"px, 0, 0)"}),this.slidesCache.right&&(t.right={transform:"translate3d("+Math.round(this.slideOffsets.right)+"px, 0, 0)"}),this.slidesCache["second-left"]&&(t["second-left"]={transform:"translate3d("+Math.round(-this.maxDelta)+"px, 0, 0)",display:"none"}),this.slidesCache["second-right"]&&(t["second-right"]={transform:"translate3d("+Math.round(this.maxDelta)+"px, 0, 0)",display:"none"}),t},slideOffsets:function(){return{current:this.delta,left:-this.maxDelta+this.delta,right:this.maxDelta+this.delta}},maxDelta:function(){return parseInt(this.containerSize.width,10)},minZoom:function(){return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(2*this.$store.state.pages.size.width/this.$store.state.pages.size.zoomFactor))},maxZoom:function(){return this.$store.state.workspace.maxZoom},zoomAnimationSpeed:function(){return this.scaleFactor<1?400:600},slideAnimationSpeed:function(){return this.isMobileApp?650:400},slideEasing:function(){return this.isMobileApp?r.a.Easing.Quartic.Out:r.a.Easing.Sinusoidal.Out},isWorkspaceFrozen:function(){return this.$store.state.workspace.freezed},isPagerFrozen:function(){return this.$store.getters["pager/isFrozen"]},workspaceSize:function(){return this.$store.state.workspace.size},isMobileApp:function(){return"mobile-app"===this.$store.getters["info/version"]},isMini:function(){return this.$store.state.workspace.mini},isEmbed:function(){return this.$store.state.workspace.isEmbed},blockPan:function(){return this.$store.state.notes.isMoving},selectTextEnabled:function(){return!this.isMobile&&!this.isIE&&this.$store.state.workspace.components.textSelection},isIE:function(){return!0===this.$store.state.workspace.userAgentInfo.browser.msie},wheelScroll:function(){return this.$store.state.workspace.wheelScroll},notesEnabled:function(){return this.$store.state.workspace.components.notes},addNoteTitleText:function(){return this.$t("NotesToolWindow.ADD_NOTE")},noteIconShown:function(){return this.notesEnabled&&!this.isMobile&&!this.isMini&&!this.isZoomed&&"ready"===this.status&&this.spreadSizes.current},orientationChanged:function(){return this.$store.getters["workspace/orientation"]}},methods:{animationLoop:function(t){this._isDestroyed||(r.a.update(t),requestAnimationFrame(this.animationLoop))},getContentSize:function(t){var e=this.getPageProp(t,"width"),i=this.getPageProp(t,"height");return Object(o.fit)({width:e,height:i},this.containerSize)},getPageProp:function(t,e){if(!Object(n.isUndefined)(this.propCache[t])&&!Object(n.isUndefined)(this.propCache[t][e]))return this.propCache[t][e];Object(n.isUndefined)(this.propCache[t])&&(this.propCache[t]={});var i=this.$store.getters["pages/pageProp"](t,e);return this.propCache[t][e]=i,i},zoomMove:function(t){if(t&&t.direction)if("ready"===this.status){var e;switch(t.direction){case"left":case"right":e=this.getScrollAmount(t,this.iscroll.x,0,this.containerSize,this.spreadSizes.current),this.iscroll.scrollBy(e,0);break;case"up":case"down":e=this.getScrollAmount(t,0,this.iscroll.y,this.containerSize,this.spreadSizes.current),this.iscroll.scrollBy(0,e);break;case"drag":this.dragActive=t.active,this.iScrollInit(this.dragActive)}this.iscroll&&(this.holderScrollX=this.iscroll.x,this.holderScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.holderScrollX,y:this.holderScrollY}))}else"drag"===t.direction&&(this.dragActive=t.active)},onDoubleTap:function(t){this.onTap("tap",t)},onTap:function(t,e){var i,s,r;if(t&&this.$store.dispatch("pager/setLastTarget",t),!this.isWorkspaceFrozen&&"ready"===this.status&&!this.isMini&&!(null===(i=e)||void 0===i||null===(s=i.target)||void 0===s||null===(r=s.classList)||void 0===r?void 0:r.contains("note-article"))){e||(e={center:{x:this.isRTLBook?this.workspaceSize.width:0,y:0},target:null});var o,n=!1,h=this.getTappedZoomBlock(e);if(this.isMobile&&h.id){n=this.lastZoomBlockID!==h.id;var l=this.$refs.current[0].$el.getBoundingClientRect();o=this.getBlockRect(h.rect,l)}if(this.lastZoomBlockID=n?h.id:null,n){var c=1.5,d=40,u=2,f=this.containerSize.width-d*u,g=1*(.96*f/o.width).toFixed(2),p=this.spreadSizes.current.width-o.width-o.left;(o.left*g<d||p*g<d)&&(u=1,g=1*(.96*(f=this.containerSize.width-d*u)/o.width).toFixed(2)),this.updateSlideScroll(),this.scaleFactor=this.checkScaleFactorForZoom(g,this.zoomFactor,this.maxZoom),this.scaleFactor*this.zoomFactor<c&&(this.scaleFactor=c/this.zoomFactor)}else{var m=!(this.isFirstPage||this.isLastPage||!this.slidesCache.current[0].wide&&1===this.slidesCache.current.length)||this.isSingleMode||this.isContentCropMode?1:2,v=this.containerSize.width/this.spreadSizes.current.width*m*this.horizontalScale;this.scaleFactor=1!==this.zoomFactor||this.zoomPanel?Math.min(v,this.containerSize.height/this.spreadSizes.current.height):this.lastZoomFactor,this.horizontalScale=1}var b=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,{x:e.center.x-this.spreadSizes.current.left,y:e.center.y-this.spreadSizes.current.top});if(n){var S=o.left*this.scaleFactor,w=o.width*this.scaleFactor;b.left=-S+(this.containerSize.width-w)/2}b=Object(a.normalizeBounds)(b,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,b,this.scaleFactor),this.newBounds=b,this.status="animating",this.refreshScroll(),this.scaleFactor>1?this.$root.$emit("zoomed"):(this.scaleFactor<1||this.zoomPanel&&1===this.scaleFactor)&&this.$root.$emit("unzoomed")}},setZoom:function(t,e){if(!this.isWorkspaceFrozen&&"ready"===this.status){this.scaleFactor=t/this.zoomFactor,this.updateSlideScroll(!1);var i=e||{x:this.workspaceSize.width/2,y:this.workspaceSize.height/2},s={x:i.x-this.spreadSizes.current.left,y:i.y-this.spreadSizes.current.top},r=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,s);r=Object(a.normalizeBounds)(r,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,r,this.scaleFactor),this.newBounds=r,this.fastAnimation=!0,this.status="animating",this.refreshScroll()}},setScaleStart:function(){this.minScale=Math.min(this.containerSize.width/this.spreadSizes.current.width,this.containerSize.height/this.spreadSizes.current.height),this.maxScale=this.maxZoom/this.zoomFactor,this.scaleFactor=1,this.updateSlideScroll(!1),this.scaleOrigin={x:this.workspaceSize.width/2-this.slideScrollLeft,y:this.workspaceSize.height/2-this.slideScrollTop},this.status="scale"},setScale:function(t){if("scale"===this.status){var e=this.minScale+(this.maxScale-this.minScale)*t,i=Object(a.getNewBounds)(this.spreadSizes.current,e,{x:this.workspaceSize.width/2-this.slideScrollLeft,y:this.workspaceSize.height/2-this.slideScrollTop});i=Object(a.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,i,e);var s=Math.min(this.maxScale,Math.max(this.minScale,e));this.scaleFactor=this.checkScaleFactorForZoom(s,this.zoomFactor,this.maxZoom)}},setScaleFinish:function(){if("scale"===this.status){var t=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,this.scaleOrigin);t=Object(a.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.slideScrollLeft=this.isZoomed?t.left:0,this.slideScrollTop=this.isZoomed?t.top:0,this.status="ready"}},onTransitionEnd:function(t){t&&"transform"===t.propertyName&&("animating"===this.status&&(this.fastAnimation=!1,this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.slideScrollLeft=this.isZoomed?this.newBounds.left:0,this.slideScrollTop=this.isZoomed?this.newBounds.top:0,this.status="ready"),this.pendingSlide&&(this.updatePendingSlide(),this.animateSlides(this.pendingSlide,!1,!0),this.pendingSlide=null))},onPinchStart:function(t){this.isWorkspaceFrozen||"ready"!==this.status||this.isMini||(this.$store.dispatch("pager/setLastTarget","pinch-zoom"),this.minScale=Math.min(this.containerSize.width/this.spreadSizes.current.width,this.containerSize.height/this.spreadSizes.current.height),this.scaleFactor=1,this.pinchCenter=t.center,this.isZoomed?(this.updateSlideScroll(!1),this.scaleOrigin={x:t.center.x-this.slideScrollLeft,y:t.center.y-this.slideScrollTop}):this.scaleOrigin={x:t.center.x-this.spreadSizes.current.left,y:t.center.y-this.spreadSizes.current.top},this.status="pinch")},onPinchMove:function(t){if("pinch"===this.status){var e=this.minScale<t.scale?t.scale:this.minScale;if(this.scaleFactor=this.checkScaleFactorForZoom(e,this.zoomFactor,this.maxZoom),1!==this.scaleFactor){var i=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,{x:this.pinchCenter.x-this.slideScrollLeft,y:this.pinchCenter.y-this.slideScrollTop});i=Object(a.normalizeBounds)(i,this.containerSize),this.scaleOrigin=Object(a.getOrigin)(this.spreadSizes.current,i,this.scaleFactor)}}},onPinchFinish:function(){if("pinch"===this.status){var t=Object(a.getNewBounds)(this.spreadSizes.current,this.scaleFactor,this.scaleOrigin);t=Object(a.normalizeBounds)(t,this.containerSize),this.zoomFactor=1*(this.zoomFactor*this.scaleFactor).toFixed(2),this.scaleFactor=1,this.slideScrollLeft=this.isZoomed?t.left:0,this.slideScrollTop=this.isZoomed?t.top:0,this.status="ready",this.zoomFactor<=1.1?this.zoomOut():this.scaleFactor>1?this.$root.$emit("zoomed"):this.scaleFactor<1&&this.$root.$emit("unzoomed")}},changeZoom:function(t){switch(this.$store.dispatch("pager/setLastTarget","change-zoom"),t.action){case"setZoom":this.setZoom(t.zoomFactor);break;case"startScale":this.setScaleStart();break;case"changeScale":this.setScale(t.scalePosition);break;case"endScale":this.setScaleFinish();break;case"zoomIn":this.onTap();break;case"zoomOut":this.zoomOut()}},onPanStart:function(t){var e,i;if(!(this.blockPan||this.isFastSliding||this.isWorkspaceFrozen||this.isZoomed||"ready"!==this.status||t.srcEvent&&(t.srcEvent.metaKey||t.srcEvent.ctrlKey)||(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article")))){var s=document.elementFromPoint(t.center.x-t.deltaX,t.center.y-t.deltaY);s&&"select-text-block"===s.getAttribute("data-set")||(this.status="pan",this.$root.$emit("turnStart"))}},onPanMove:function(t){var e,i,s=this;if(!(this.blockPan||this.isFastSliding||this.isWorkspaceFrozen||"pan"!==this.status||this.isZoomed||(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article")))){var r=1;(t.deltaX<0&&this.isRightmostPage||t.deltaX>0&&this.isLeftmostPage)&&(r=.3),window.requestAnimationFrame((function(){s.delta=t.deltaX*r}))}},onPanEnd:function(t){var e,i;if((this.isFastSliding||!(this.isWorkspaceFrozen||"pan"!==this.status&&"sliding"!==this.status||this.isZoomed))&&!(null==t||null===(e=t.target)||void 0===e||null===(i=e.classList)||void 0===i?void 0:i.contains("note-article"))){var s=Math.abs(t.overallVelocityX).toPrecision(2),r=Math.abs(t.deltaX),o=t.deltaX>0?"left":t.deltaX<0?"right":"center";("sliding"===this.status||this.isFastSliding)&&this.checkFastSlide(o),"left"===o&&!this.isLeftmostPage&&(r>this.maxDelta/3||s>.5)?this.animateSlides("left"):"right"===o&&!this.isRightmostPage&&(r>this.maxDelta/3||s>.5)?this.animateSlides("right"):this.animateSlides("center")}},zoomIn:function(t){this.zoomFactor>1||this.onTap(t)},zoomOut:function(t,e){if(1!==this.zoomFactor){if(this.lastZoomFactor=Math.max(this.zoomFactor,this.defaultZoomFactor),t)return this.status="calculating",this.zoomFactor=1,this.refreshScroll(),this.slideScrollLeft=0,this.slideScrollTop=0,this.status="ready",void this.$root.$emit("unzoomed");this.onTap(e,{center:{x:0,y:0}})}},goRight:function(){this.scrollLock=!0,this.movePagerRight({target:"slide-swipe"}),this.$root.$emit("render:finish")},goLeft:function(){this.scrollLock=!0,this.movePagerLeft({target:"slide-swipe"}),this.$root.$emit("render:finish")},checkFastSlide:function(t){var e,i=this;"left"===t&&this.isLeftmostPage||"right"===t&&this.isRightmostPage||("sliding"===this.status&&(null===(e=this.tween)||void 0===e?void 0:e._isPlaying)&&this.isPagerFrozen&&(this.isFastSliding=!0,this.tween.stop()),this.isFastSliding&&(clearTimeout(this.fastSlidingCancelTimeout),this.fastSlidingCancelTimeout=setTimeout((function(){i.isFastSliding=!1,i.$store.dispatch("workspace/unsetAnimationProgress")}),300)))},animateSlides:function(t){var e,i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={x:this.delta};switch(t){case"left":e={x:this.maxDelta};break;case"right":e={x:-this.maxDelta};break;case"center":e={x:0}}o&&this.$root.$emit("turnStart"),this.status="sliding",this.$store.dispatch("pager/freeze",{target:"slide-book"}),this.tween=new r.a.Tween(n).to(e,s||this.isFastSliding?150:this.slideAnimationSpeed).easing(this.slideEasing).onUpdate((function(t){i.delta=t.x})).onComplete((function(){i.$root.$emit("turnStop"),i.$store.dispatch("pager/unfreeze",{target:"slide-book"}),o?i.$root.$emit("render:finish"):"left"===t?i.goLeft():"right"===t&&i.goRight(),i.slidesCacheUpdate(),i.status="ready","center"!==t&&i.$root.$emit("turned")})).onStop((function(){i.slidesCacheUpdate(),i.$store.dispatch("pager/unfreeze",{target:"slide-book"})})).start()},updateHorizontalScale:function(t,e){var i=0;(e.wide||2===e.length)&&i--,(t.wide||2===t.length)&&i++,this.horizontalScale=i>0?2:i<0?.5:1},convertToOutputSlides:function(t){var e=function(e){return{position:e,pages:t[e]||[]}};return[e("current")].concat([e("left")]).concat([e("right")]).concat([e("second-left")]).concat([e("second-right")]).filter((function(t){return t.pages.length>0}))},getSlidesWithAllPages:function(t,e){var i=[].concat.apply([],t.map((function(t){return t.pages}))),s=[].concat.apply([],e.map((function(t){return t.pages}))).filter((function(t){return!i.some((function(e){return e.id===t.id}))}));return t.forEach((function(t){t.pages=t.pages.filter((function(t){return!s.some((function(e){return t.id===e.id}))}))})),s.length>0&&s.forEach((function(e){var i={position:"hidden page_"+e.id,pages:[e]};t=t.concat([i])})),t.sort((function(t,e){return t.pages[0].id-e.pages[0].id}))},getNonHiddenSlides:function(t){return t.filter((function(t){return t.position.indexOf("hidden")<0}))},updateOutputSlides:function(){var t=this,e=this.convertToOutputSlides(this.slidesCache);this.outputSlidesCache=this.getSlidesWithAllPages(e,this.outputSlidesCache),this.$nextTick((function(){t.outputSlidesCache=t.getNonHiddenSlides(t.outputSlidesCache)}))},slidesCacheUpdate:function(){this.slidesCache=this.slides,this.delta=0,this.updateOutputSlides()},updatePendingSlide:function(){this.pendingSlide&&this.replaceCachedSlide(this.pendingSlide,this.slides.current)},replaceCachedSlide:function(t,e){this.slidesCache[t]=e,this.updateOutputSlides()},contentCreator:function(t){return C["content-"+t.type]},refreshScroll:function(){var t=this;this.isInitialZoom||(this.cancelDragging(),this.$nextTick((function(){t.isZoomed&&"ready"===t.status?(t.iScrollInit(t.dragActive),t.iscroll.refresh()):t.iscroll&&(t.slideScrollX=0,t.slideScrollY=0,t.$store.dispatch("text/setHolderScroll",{x:t.slideScrollX,y:t.slideScrollY}),t.iscroll.refresh(),t.iscroll.destroy(),delete t.iscroll)})))},iScrollInit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1!==this.zoomFactor&&(this.iscroll?(this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.iscroll.off("beforeScrollStart",this.setDragging),this.iscroll.off("scrollCancel",this.cancelDragging),this.iscroll.off("scroll",this.onScrollBegin),this.iscroll.off("scrollEnd",this.onScrollEnd),this.iscroll.destroy(),delete this.iscroll):(this.slideScrollX=this.containerSize.width<this.spreadSizes.current.width?Math.round(this.slideScrollLeft):0,this.slideScrollY=this.containerSize.height<this.spreadSizes.current.height?Math.round(this.slideScrollTop):0),this.iscroll=new l.a(this.$refs.wrapper[0],{mouseWheel:t,scrollbars:!1,freeScroll:!this.isMobile,scrollX:this.containerSize.width<this.spreadSizes.current.width,scrollY:this.containerSize.height<this.spreadSizes.current.height,probeType:1,bindToWrapper:this.isMobile,bounce:!1,useTransition:!0,startX:this.slideScrollX,startY:this.slideScrollY,disablePointer:!0,disableTouch:!1,disableMouse:!t}),this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY}),this.iscroll.on("beforeScrollStart",this.setDragging),this.iscroll.on("scrollCancel",this.cancelDragging),this.iscroll.on("scroll",this.onScrollBegin),this.iscroll.on("scrollEnd",this.onScrollEnd))},onScrollEnd:function(){this.cancelDragging(),this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY})},onScrollBegin:function(){this.slideScrollX=this.iscroll.x,this.slideScrollY=this.iscroll.y,this.$store.dispatch("text/setHolderScroll",{x:this.slideScrollX,y:this.slideScrollY})},setDragging:function(){1!==this.zoomFactor&&(this.dragging=!0)},cancelDragging:function(){this.dragging=!1},onWheel:function(t){if(!(!this.wheelScroll||this.isMini||Date.now()-this.lastWheelTime<200||t.target&&"note-article"===t.target.className)){if(t.ctrlKey||t.metaKey){if("ready"!==this.status)return;var e=-1*t.deltaY,i=this.getSuitableZoomFactor(this.zoomFactor,e,this.minZoom,this.maxZoom);e<0&&!i&&this.zoomOut(!1,"wheel-zoom"),i&&(this.$store.dispatch("pager/setLastTarget","wheel-zoom"),this.setZoom(i,{x:t.clientX,y:t.clientY}))}else{if(this.zoomFactor>1||this.scaleFactor>1)return;this.$store.state.notes.opened&&this.$store.dispatch("notes/setOpenedId",{id:null}),t.deltaY>0&&(this.$store.getters["pager/nextPageId"]||0===this.$store.getters["pager/nextPageId"])?(this.checkFastSlide(this.isRTLBook?"left":"right"),this.$store.dispatch("pager/goForward",{target:"wheel"})):t.deltaY<0&&(this.$store.getters["pager/prevPageId"]||0===this.$store.getters["pager/prevPageId"])&&(this.checkFastSlide(this.isRTLBook?"right":"left"),this.$store.dispatch("pager/goBackward",{target:"wheel"}))}this.lastWheelTime=Date.now()}},updateSlideScroll:function(t){t&&!this.isZoomed||(this.containerSize.width<this.spreadSizes.current.width&&(this.slideScrollLeft=this.slideScrollX),this.containerSize.height<this.spreadSizes.current.height&&(this.slideScrollTop=this.slideScrollY))},addNote:function(){var t=this.$store.getters["pager/state"],e=t.spreadMode,i=this.slides.current[0].id;e&&this.slides.current[1]&&this.isRtl===this.isLocaleRtl&&(i=this.slides.current[1].id);var s=e&&!(this.isLocaleRtl&&t.leftPage===t.rightPage),r=this.isSingleMode&&this.slides.current[0].wide&&"right"===this.slides.current[0].side,o=this.isSlideMode&&this.slides.current[0].wide,n=s||r;this.$store.dispatch("notes/addNote",{pageId:i,wide:o,wideRight:n})},updateNoteIcon:function(){if(!this.noteIconShown)return this.noteIconClass=[],void(this.noteIconStyle=null);var t={},e=[];if(this.isLocaleRtl){e.push("left");var i=this.spreadSizes.current.left-30;t.left=Math.max(i,0)+"px",i>0&&e.push("outside")}else{e.push("right");var s=this.spreadSizes.current.left+this.spreadSizes.current.width;t.left=Math.min(s,this.containerSize.width-30)+"px",s<this.containerSize.width-30&&e.push("outside")}t.top=this.spreadSizes.current.top+"px",this.noteIconStyle=t,this.noteIconClass=e}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(193);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(3),r=i(34),o=i(5);i(477);e.default={name:"Logo",data:function(){return{isReady:!1,crossOrigin:Object(s.default)().getCrossOrigin(),originalWidth:0,originalHeight:0,globalPadding:10,minimalSize:60,maxWidthLimit:200,bottomMenu:null,customLogoUrl:null}},mounted:function(){this.logoLoad(),this.setSvgTransform(),this.setBottomMenu()},beforeDestroy:function(){this.destroyImgBlob()},computed:{target:function(){return this.$store.state.logo.target},logoLinkUrl:function(){return this.$store.state.logo.url||null},position:function(){return this.$store.state.logo.position},level:function(){return-1===this.position.indexOf("bottom")?"top":"bottom"},side:function(){return-1===this.position.indexOf("left")?"right":"left"},miniState:function(){return this.$store.state.workspace.mini},rawCustomLogoUrl:function(){return this.$store.getters["logo/customLogoUrl"]},hasDefaultLogo:function(){return this.$store.getters["logo/hasDefaultLogo"]},svgLogoColor:function(){return this.allowOpaqueBar&&"menuRect"===this.optimalRect.name?this.$store.state.skin.styles["main-icon-color"]:this.$store.state.skin.styles[(this.top?"top":"bottom")+"-"+(this.left?"left":"right")+"-icon-color"]},allowOpaqueBar:function(){return this.$store.state.logo.allowOpaqueBar},showLogo:function(){return this.$store.getters["logo/showLogo"]},containerSize:function(){return this.$store.getters["workspace/containerSize"]},holderSize:function(){return this.$store.getters["workspace/holderSize"]},workspaceSize:function(){return this.$store.getters["workspace/size"]},bottomMenuEnabled:function(){return this.$store.getters["workspace/desktopBottomBarVisible"]},maxWidth:function(){return Math.max(this.maxWidthLimit,this.containerSize.width/(this.bookMode?4:6))},bookMode:function(){return"flip-book"===this.$store.state.workspace.bookComponent},sideRect:function(){var t={};return t.width=(this.containerSize.width-this.holderSize.width)/2-2*this.globalPadding,t.height=this.containerSize.height/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.name="sideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},levelRect:function(){var t={};return t.width=this.containerSize.width/2-2*this.globalPadding,t.height=(this.containerSize.height-this.holderSize.height)/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.name="levelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuLevelRect:function(){if("top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-2*this.globalPadding,t.height=(this.workspaceSize.height-this.holderSize.height)/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.lockWidth=!0,t.name="menuLevelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuSideRect:function(){if("top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-Math.max(this.holderSize.width,e.width))/2-2*this.globalPadding,t.height=this.workspaceSize.height/2-2*this.globalPadding,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.lockWidth=!0,t.name="menuSideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},menuRect:function(){if("top"===this.level||this.opaqueBottom&&!this.allowOpaqueBar||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-10,t.height=e.height-10,t[this.side]=10,t[this.level]=8-e.height,t.lockWidth=!0,t.lockHeight=!0,t.name="menuRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},slideRect:function(){if(this.bookMode)return{scale:0};var t={};return t.width=this.containerSize.width/2,t.height=this.containerSize.height/2,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding,t.sizeOverride=!0,t.name="slideRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},slideLevelRect:function(){if(this.bookMode||"top"===this.level||this.opaqueBottom||!this.bottomMenu)return{scale:0};var t={},e=this.bottomMenu.getBoundingClientRect();return t.width=(this.containerSize.width-e.width)/2-2*this.globalPadding,t.height=this.containerSize.height/2,t[this.side]=this.globalPadding,t[this.level]=this.globalPadding-e.height,t.sizeOverride=!0,t.lockWidth=!0,t.name="slideLevelRect",this.applySizeConstraints(t),t.scale=this.calculateScale(t),t},optimalRect:function(){var t=[this.menuRect];return this.bookMode?t.push(this.menuLevelRect,this.menuSideRect,this.levelRect,this.sideRect):t.push(this.slideLevelRect,this.slideRect),t.reduce((function(t,e){return e.scale>t.scale?e:t}))},containerClasses:function(){return{overlap:!!this.optimalRect.sizeOverride}},containerStyles:function(){if(!this.optimalRect.scale)return{display:"none"};var t={opacity:this.isReady?1:0,width:this.originalWidth*this.optimalRect.scale+"px",height:this.originalHeight*this.optimalRect.scale+"px"};return t.top=Object(o.isUndefined)(this.optimalRect.top)?null:this.optimalRect.top+"px",t.bottom=Object(o.isUndefined)(this.optimalRect.bottom)?null:this.optimalRect.bottom+"px",t.left=Object(o.isUndefined)(this.optimalRect.left)?null:this.optimalRect.left+"px",t.right=Object(o.isUndefined)(this.optimalRect.right)?null:this.optimalRect.right+"px","0px"!==t.width&&"0px"!==t.height||(t.display="none"),t},logoStyles:function(){return this.hasDefaultLogo?{fill:this.svgLogoColor}:{}},imageStyles:function(){return{width:this.originalWidth*this.optimalRect.scale+"px",height:this.originalHeight*this.optimalRect.scale+"px"}},opaqueBottom:function(){return this.$store.state.skin&&this.$store.state.skin.styles&&Object(o.isString)(this.$store.state.skin.styles.classes)?-1!==this.$store.state.skin.styles.classes.indexOf("opaqueBottom"):null}},watch:{bottomMenuEnabled:function(){this.setBottomMenu()},rawCustomLogoUrl:"logoLoad",hasDefaultLogo:"logoLoad",side:"setSvgTransform",optimalRect:function(t){this.$store.dispatch("logo/setFitRectName",t.name)}},methods:{setBottomMenu:function(){this.bottomMenu=this.bottomMenuEnabled?document.getElementsByClassName("bottom-toolbar")[0]:null},logoLoad:function(){var t=this;this.isReady=!1,!this.hasDefaultLogo&&this.rawCustomLogoUrl?this.preloadImg(this.customLogoUrl):this.hasDefaultLogo&&(this.originalWidth=119,this.originalHeight=30,this.customLogoUrl=null,this.isReady=!0,this.$nextTick((function(){return t.setSvgTransform()})))},preloadImg:function(){var t=this;Object(r.default)({url:this.rawCustomLogoUrl,callback:function(e){var i=document.createElement("img");i.onload=function(){t.originalWidth=i.naturalWidth,t.originalHeight=i.naturalHeight,t.destroyImgBlob(),t.customLogoUrl=e,t.isReady=!0},i.onerror=function(){},i.src=e,i.style.width="100%"}})},destroyImgBlob:function(){this.customLogoUrl&&window.URL.revokeObjectURL(this.customLogoUrl)},calculateScale:function(t){if(0===this.originalWidth||0===this.originalHeight)return 0;if(t.width<0||t.height<0)return 0;var e=1,i=1;return this.originalHeight>t.height&&(e=t.height/this.originalHeight),this.originalWidth>t.width&&(i=t.width/this.originalWidth),Math.min(i,e,1)},applySizeConstraints:function(t){this.hasDefaultLogo?(t.width=t.lockWidth?t.width:this.originalWidth,t.height=t.lockHeight?t.height:this.originalHeight):(!t.lockWidth&&t.width<this.originalWidth&&t.width<this.minimalSize&&(t.width=Math.max(this.minimalSize,t.width),t.sizeOverride=!0),!t.lockHeight&&t.height<this.originalHeight&&t.height<this.minimalSize&&(t.height=Math.max(this.minimalSize,t.height),t.sizeOverride=!0),t.width=Math.min(this.maxWidth,t.width))},onClick:function(){var t=this.$store.state.pager.currentPage;this.$root.$emit("link",{type:"external",source:"logo",url:this.logoLinkUrl,target:this.target,pageId:t})},setSvgTransform:function(){var t;if(this.hasDefaultLogo){var e=null===(t=this.$refs.svgLogo)||void 0===t?void 0:t.$el.querySelector(".made-with");e&&("right"===this.side?e.setAttribute("transform","translate(62, 0)"):e.removeAttribute("transform"))}}},components:{}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(196);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(29),r=i(30);i(479),i(480),i(69),i(70);e.default={mixins:[s.default],props:{show:Boolean},data:function(){return{timeout:0}},computed:{isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){var t=null===this.$store.getters["pager/prevNonStubPageId"],e=null===this.$store.getters["pager/nextPageId"];return this.isRTLBook?e:t},isLastPage:function(){var t=null===this.$store.getters["pager/nextPageId"],e=null===this.$store.getters["pager/prevNonStubPageId"];return this.isRTLBook?e:t},isEmbed:function(){return this.$store.state.workspace.isEmbed},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")}},methods:{leftButtonKeyHandler:function(t){t.keyCode!==r.default.SPACE&&t.keyCode!==r.default.RETURN||this.goLeft(t)},rightButtonKeyHandler:function(t){t.keyCode!==r.default.SPACE&&t.keyCode!==r.default.RETURN||this.goRight(t)},goRight:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$root.$emit("nav:goRight"),this.$store.state.pager.freezed||(setTimeout((function(){e.movePagerRight({target:i?"nav-swipe":"nav-tap"})}),0),this.timeout=Date.now()+150))},goLeft:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$root.$emit("nav:goLeft"),this.$store.state.pager.freezed||(setTimeout((function(){e.movePagerLeft({target:i?"nav-swipe":"nav-tap"})}),0),this.timeout=Date.now()+150))}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(199);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(29);i(479),i(480),i(69),i(70);e.default={mixins:[s.default],props:{show:Boolean},data:function(){return{timeout:0,classes:{"nav-arrows":!0,start:!0}}},mounted:function(){var t=this;setTimeout((function(){t.classes.start=!1}),8e3)},computed:{isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},isRTLBook:function(){return this.$store.state.book.rightToLeft},isFirstPage:function(){var t=null===this.$store.getters["pager/prevNonStubPageId"],e=null===this.$store.getters["pager/nextPageId"];return this.isRTLBook?e:t},isLastPage:function(){var t=null===this.$store.getters["pager/nextPageId"],e=null===this.$store.getters["pager/prevNonStubPageId"];return this.isRTLBook?e:t},isEmbed:function(){return this.$store.state.workspace.isEmbed},leftArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.NEXT_PAGE_TIP"):this.$t("NavigationPanel.PREV_PAGE_TIP")},rightArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.PREV_PAGE_TIP"):this.$t("NavigationPanel.NEXT_PAGE_TIP")},leftMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.LAST_PAGE_TIP"):this.$t("NavigationPanel.FIRST_PAGE_TIP")},rightMostArrowTitle:function(){return this.isRTLBook?this.$t("NavigationPanel.FIRST_PAGE_TIP"):this.$t("NavigationPanel.LAST_PAGE_TIP")},animationInProgress:function(){return this.$store.state.workspace.animationInProgress}},watch:{animationInProgress:function(){this.classes.start=!1}},methods:{goRight:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$root.$emit("nav:goRight"),this.movePagerRight({target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)},goLeft:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.timeout>Date.now()||(this.$root.$emit("nav:goLeft"),this.movePagerLeft({target:e?"nav-swipe":"nav-tap"}),this.timeout=Date.now()+150)},rightToTheLast:function(){this.timeout>Date.now()||(this.movePagerRightmost({navTarget:!0}),this.timeout=Date.now()+150)},leftToTheLast:function(){this.timeout>Date.now()||(this.movePagerLeftmost({navTarget:!0}),this.timeout=Date.now()+150)}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(202);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(5);i(838),i(839);e.default={name:"ZoomPanel",data:function(){return{scalePosition:0,savedScalePosition:null,lineWidth:90,forceOpacity:!1,forceVisibility:!1,opacityTimer:null,isGrabbing:!1}},mounted:function(){window.addEventListener("keydown",this.keyDownHandler),this.$root.$on("unzoomed",this.hide),this.updateScalePosition(this.zoomFactor)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDownHandler),this.$root.$off("unzoomed",this.hide)},watch:{zoomFactor:"updateScalePosition",minZoom:function(t){this.zoomFactor>t?this.scalePosition=1*((this.zoomFactor-t)/(this.maxZoom-t)).toFixed(2):this.scalePosition=0},scalePosition:function(){var t=this;this.forceOpacity=!0,clearTimeout(this.opacityTimer),this.opacityTimer=setTimeout((function(){t.forceOpacity=!1}),2e3)},pagerState:function(){this.forceVisibility=!1},visible:function(t){this.$store.dispatch("workspace/setZoomPanel",t)},zoomPanel:function(t){t||(this.forceVisibility=!1)}},computed:{zoomFactor:function(){return this.$store.state.pages.size.zoomFactor},isRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},dir:function(){return this.isRtl?"rtl":"ltr"},pagerState:function(){return[this.$store.state.pager.currentPage]},visible:function(){return this.zoomFactor>this.minZoom||this.forceVisibility},zoomPanel:function(){return this.$store.state.workspace.zoomPanel},minZoom:function(){if("slide-book"===this.$store.state.workspace.bookComponent||this.$store.state.pager.singleMode)return 1;var t=this.isHardcover&&(this.isFirstPage||this.isLastPage)?1.03:1;return Math.min(this.$store.state.workspace.containerSize.height/(this.$store.state.pages.size.height*t/this.$store.state.pages.size.zoomFactor),this.$store.state.workspace.containerSize.width/(this.$store.state.pages.size.width*t*2/this.$store.state.pages.size.zoomFactor))},isFirstPage:function(){return this.$store.getters["pager/isFirstSpread"]},isLastPage:function(){return this.$store.getters["pager/isLastSpread"]},maxZoom:function(){return this.$store.state.workspace.maxZoom},sliderStyle:function(){var t={},e=6;return this.isRtl?t.right=Math.round((this.lineWidth-e)*this.scalePosition)+"px":t.left=Math.round((this.lineWidth-e)*this.scalePosition)+"px",t},panelClass:function(){return{grabbing:this.isGrabbing}},panelStyle:function(){return{opacity:this.forceOpacity?.9:null,visibility:this.visible?"visible":"hidden"}}},methods:{zoomOut:function(){if(!this.$store.state.workspace.animationInProgress&&(!1!==this.forceVisibility||0!==this.scalePosition)){if(this.scalePosition>.1)this.scalePosition-=.1;else{if(!0===this.forceVisibility&&0===this.scalePosition)return this.forceVisibility=!1,void this.$root.$emit("zoomPanel",{action:"zoomOut"});this.forceVisibility=!0,this.scalePosition=0}this.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom).toFixed(2),fast:!0})}},zoomOutFull:function(){this.$store.state.workspace.animationInProgress||(this.forceVisibility=!1,this.$root.$emit("zoomPanel",{action:"zoomOut"}))},zoomIn:function(){this.$store.state.workspace.animationInProgress||(0!==this.scalePosition||this.visible?(this.scalePosition<0&&(this.scalePosition=0),this.scalePosition<.9?this.scalePosition+=.1:this.scalePosition=1,this.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom).toFixed(2),fast:!0})):this.$root.$emit("zoomPanel",{action:"zoomIn"}))},lineClick:function(t){var e=this;if(!this.$store.state.workspace.animationInProgress){var i=this.$refs.zoomLine.getBoundingClientRect();this.isRtl?this.scalePosition=(this.lineWidth-t.clientX+i.left)/this.lineWidth:this.scalePosition=(t.clientX-i.left)/this.lineWidth,this.scalePosition<=0&&(this.scalePosition=0),0===this.scalePosition&&(this.forceVisibility=!0),this.$nextTick((function(){e.$root.$emit("zoomPanel",{action:"setZoom",zoomFactor:1*(e.scalePosition*(e.maxZoom-e.minZoom)+e.minZoom).toFixed(2),fast:!1})}))}},onPanStart:function(){this.savedScalePosition=this.scalePosition,this.isGrabbing=!0,this.$root.$emit("zoomPanel",{action:"startScale"})},onPanMove:function(t){var e=1*(this.isRtl?-t.deltaX/this.lineWidth:t.deltaX/this.lineWidth).toFixed(2);this.scalePosition=this.savedScalePosition+e,this.scalePosition>1&&(this.scalePosition=1),this.scalePosition<=0&&(this.scalePosition=0);var i=this.scalePosition/this.savedScalePosition;this.$root.$emit("zoomPanel",{action:"changeScale",scalePosition:this.scalePosition,scaleRatio:i})},onPanEnd:function(t){this.isGrabbing=!1;var e=1*(this.isRtl?-t.deltaX/this.lineWidth:t.deltaX/this.lineWidth).toFixed(2);this.scalePosition+=e,this.scalePosition>1&&(this.scalePosition=1),this.scalePosition<=0&&(this.scalePosition=0),0===this.scalePosition?this.forceVisibility=!0:this.forceVisibility=!1,this.$root.$emit("zoomPanel",{action:"endScale",zoomFactor:this.scalePosition*(this.maxZoom-this.minZoom)+this.minZoom})},keyDownHandler:function(t){if(Object(s.isNull)(t.target)||Object(s.isUndefined)(t.target)||"input"!==t.target.tagName.toLowerCase()&&"textarea"!==t.target.tagName.toLowerCase()&&"select"!==t.target.tagName.toLowerCase()&&"option"!==t.target.tagName.toLowerCase()){var e="+",i="-",r="=",o="_",n="0",a="Add",h="Subtract",l=107,c=109,d=187,u=189,f=48;switch(t.key){case r:case e:case a:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomIn());break;case o:case i:case h:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOut());break;case n:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOutFull());break;case"Unidentified":switch(t.keyCode){case d:case l:(t.metaKey||t.ctrlKey)&&(this.zoomIn(),t.preventDefault());break;case u:case c:(t.metaKey||t.ctrlKey)&&(this.zoomOut(),t.preventDefault());break;case f:(t.metaKey||t.ctrlKey)&&(t.preventDefault(),this.zoomOutFull())}}}},hide:function(){this.forceVisibility=!1,this.$store.dispatch("workspace/setZoomPanel",!1)},updateScalePosition:function(t){t>this.minZoom?this.scalePosition=1*((t-this.minZoom)/(this.maxZoom-this.minZoom)).toFixed(2):this.scalePosition=0}}}},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(238);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(23),r=i(3),o=i(12);e.default={name:"Thumb",props:{id:{type:[String,Number],required:!0},side:{type:String,required:!1,default:"both",validator:function(t){return-1!==["left","right","both"].indexOf(t)}},size:{type:Object,required:!1,default:null},contentCrop:{type:Boolean,default:!1}},data:function(){return{isReady:!0,pageId:this.id,pageSide:this.side,crossOrigin:Object(r.default)().getCrossOrigin(),isWide:!1,isStub:!1,hasError:!1,backgroundColor:"#ffffff",thumbnailUrl:null,pageResize:null,contentWidth:0,contentHeight:0,whitePixelUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="}},components:{spinner:s.default},beforeMount:function(){this.getProperties()},watch:{id:function(t){this.pageId=t},side:function(t){this.pageSide=t},changeProperty:function(t){t.pageID===this.pageId&&this.getProperties()},pageId:function(){this.getProperties()}},methods:{getProperties:function(){this.isWide=this.$store.getters["pages/pageProp"](this.pageId,"wide"),this.isStub=this.$store.getters["pages/pageProp"](this.pageId,"stub"),this.hasError=-1===this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.backgroundColor=this.$store.getters["pages/pageProp"](this.pageId,"backgroundColor"),this.thumbnailUrl=this.$store.getters["pages/pageProp"](this.pageId,"thumbnailUrl"),this.pageResize=this.$store.getters["pages/pageProp"](this.pageId,"pageResize"),this.contentWidth=this.$store.getters["pages/pageProp"](this.pageId,"width")/this.contentWidthMultiplier,this.contentHeight=this.$store.getters["pages/pageProp"](this.pageId,"height")}},computed:{imageAlt:function(){return this.$i18n.t("AlertMessage.LINK_PAGE_TIP")+" "+this.pageCaption+" ("+this.$i18n.t("ThumbnailsToolWindow.TITLE")+")"},pageCaption:function(){return this.$store.getters["pages/pageCaptionById"]({id:this.id})},className:function(){return{thumb:!0,double:this.bookMode&&this.isWide&&"both"===this.pageSide,loading:this.isLoading,unready:!this.isReady,error:this.hasError}},preloaderVisible:function(){return!this.isStub&&(this.isLoading||!this.isReady||this.hasError)},rightPreloaderVisible:function(){return this.preloaderVisible&&this.bookMode&&this.isWide&&"both"===this.pageSide},preloaderSize:function(){var t=2,e=Math.min(this.size.width,this.size.height)-2*t;return Math.min(24,e)},preloaderLineSize:function(){return 2},enforceWhiteBg:function(){return this.$store.state.workspace.alteredSVGColors&&this.$store.state.workspace.userAgentInfo.browser.samsung},background:function(){if(!this.pageId||!this.isReady||this.hasError)return null;if(this.isStub){this.$store.state.workspace.policiesUpdated;return this.enforceWhiteBg?this.whitePixelUrl:Object(r.default)().translatePath("assets/pages/pagestub.png")}return this.thumbnailUrl?this.thumbnailUrl:null},isLoading:function(){return!this.thumbnailUrl||(0===this.$store.state.pages.size.width||null===this.$store.state.pages.size.width)},pageWidthMultiplier:function(){return this.isWide&&"both"===this.pageSide?2:1},contentWidthMultiplier:function(){return this.isWide&&"both"!==this.pageSide?"2":"1"},pagesSize:function(){return this.$store.getters["pages/size"]},pageSize:function(){return this.size&&this.size.width&&this.size.height?{width:this.size.width,height:this.size.height}:{width:this.pagesSize.width*this.pageWidthMultiplier,height:1*this.pagesSize.height}},singleMode:function(){return this.$store.state.pager.singleMode},bookMode:function(){return this.$store.state.pager.spreadMode},pageStyle:function(){return{width:(this.contentCrop?this.contentSize.width:this.pageSize.width)+"px",height:(this.contentCrop?this.contentSize.height:this.pageSize.height)+"px","background-color":this.enforceWhiteBg?null:this.backgroundColor}},contentSize:function(){if(this.pageId){var t,e=this.pageResize,i=this.contentWidth,s=this.contentHeight;return t="FIT"===e?Object(o.fit)({width:i,height:s},this.pageSize):Object(o.fill)({width:i,height:s},this.pageSize),{width:Math.ceil(t.width),height:Math.ceil(t.height),scaleRatio:{w:t.width/i,h:t.height/s}}}return{width:0,height:0,scaleRatio:{w:0,h:0}}},contentStyle:function(){var t=this.contentCrop?0:(this.pageSize.width-this.contentSize.width)/(this.isWide&&"both"!==this.pageSide?1:2),e=this.contentCrop?0:(this.pageSize.height-this.contentSize.height)/2,i={width:this.contentSize.width*this.contentWidthMultiplier+"px",height:this.contentSize.height+"px"};return"right"===this.pageSide?(i.right="0",t&&(i.marginRight=t+"px")):(i.left="0",t&&(i.marginLeft=t+"px")),e&&(i.marginTop=e+"px"),i},changeProperty:function(){return this.$store.state.pages.changeInPage}}}},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({cancel:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M3 4.414L10.586 12 3 19.586 4.414 21 12 13.414 19.586 21 21 19.586 13.414 12 21 4.414 19.586 3 12 10.586 4.414 3z"/>'}})},,function(t,e,i){"use strict";i.r(e);var s=i(270);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(520),r=i(933),o=i(939),n=i(72);i(942),i(943);e.default={components:{LightboxImage:s.default,LightboxNavDots:r.default,LightboxThumbnails:o.default},data:function(){return{lightboxRect:{width:null,height:null},itemsArray:[],textWidth:0}},computed:{isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},isLightboxActive:{get:function(){return this.$store.state.lightbox.isLightboxActive},set:function(t){this.$store.commit("lightbox/SET_LIGHTBOX_ACTIVE",t,{root:!0})}},isSpreadMode:function(){return this.$store.state.pager.spreadMode},currentItemNumber:function(){return this.$store.getters["lightbox/currentItemIndex"]+1},itemsCount:function(){return this.$store.getters["content/currentContent"].length},showNav:function(){return this.$store.state.workspace.lightboxNeighborsNavEnabled&&this.itemsCount>1},currentItem:function(){return this.$store.getters["lightbox/currentItem"]},currentGalleryItem:function(){return this.$store.getters["lightbox/currentGalleryItem"]},currentLightboxItem:function(){return this.currentItem?"gallery"===this.currentItem.type?this.currentGalleryItem:this.currentItem:null},isRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},lightboxSizeStyle:function(){return this.lightboxRect.width&&this.lightboxRect.height?{width:(this.isMobile?this.lightboxRect.width:Math.max(this.textWidth,this.lightboxRect.width))+"px",height:this.lightboxRect.height+"px"}:{}},localization:function(){var t=this.isSpreadMode?"Lightbox.PAGER_SPREAD_TITLE":"Lightbox.PAGER_PAGE_TITLE",e=this.$t("Lightbox.NEXT_BUTTON_TEXT"),i=this.$t("Lightbox.PREV_BUTTON_TEXT");return{pager:this.$tc(t,this.itemsCount,{0:this.currentItemNumber,1:this.itemsCount}),closeButton:this.$t("Lightbox.CLOSE_BUTTON_TEXT"),leftButton:this.isRtl?e:i,rightButton:this.isRtl?i:e}},workspaceDir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},isMobile:function(){return this.$store.getters["workspace/isMobile"]},isSmallWorkspace:function(){return this.$store.getters["workspace/isSmallWorkspace"]}},mounted:function(){this.$root.$on("lightbox-go-right",this.goRight),this.$root.$on("lightbox-go-left",this.goLeft),this.$root.$on("lightbox-close",this.close)},updated:function(){var t;this.textWidth=(null===(t=this.$refs["lightbox-pager"])||void 0===t?void 0:t.clientWidth)||0},watch:{isLightboxShown:{handler:function(t,e){var i=this;t&&!e?this.$nextTick((function(){i.isLightboxActive=!0})):t||this.close()},immediate:!0},isLightboxActive:function(t,e){t&&!e?(this.emitLightboxEvent("open"),this.emitLightboxEvent("show_content")):!t&&e&&this.emitLightboxEvent("close")},currentLightboxItem:function(t){var e,i,s;t&&(null===(e=this.itemsArray)||void 0===e||null===(i=e[0])||void 0===i||null===(s=i.data)||void 0===s?void 0:s.itemId)!==t.itemId&&(this.itemsArray=[{component:this.getElementComponent(t),data:t}])}},beforeDestroy:function(){this.$root.$off("lightbox-go-right",this.goRight),this.$root.$off("lightbox-go-left",this.goLeft),this.$root.$off("lightbox-close",this.close)},methods:{close:function(){this.$store.dispatch("lightbox/closeLightbox")},goRight:function(t){this.isRtl?this.$store.dispatch("lightbox/lightboxGoPrev",t):this.$store.dispatch("lightbox/lightboxGoNext",t),this.emitLightboxEvent("show_content")},goLeft:function(t){this.isRtl?this.$store.dispatch("lightbox/lightboxGoNext",t):this.$store.dispatch("lightbox/lightboxGoPrev",t),this.emitLightboxEvent("show_content")},emitLightboxEvent:function(t){this.currentLightboxItem&&this.$root.$emit("lightbox",{action:t,openTarget:"open"===t||"show_content"===t?this.$store.state.lightbox.target:null,itemType:this.currentLightboxItem.type,itemId:this.$store.state.lightbox.currentItemId,galleryItemIndex:this.$store.state.lightbox.currentGalleryItemIndex,itemUrl:Object(n.getApiFileName)(this.currentLightboxItem),lightboxUrl:window.location.href,pageId:this.currentItem.pageId})},setLightboxRect:function(t){this.lightboxRect.width=t.width,this.lightboxRect.height=t.height},setFocusTraps:function(t){var e=t.reset,i=this.$refs["first-trap"],s=this.$refs["last-trap"],r=this.$refs["nav-btn-right"],o=this.$refs["nav-btn-left"],n=this.$refs["btn-close"];n&&(this.showNav?(this.isRtl?o.focus():r.focus(),e||(i.addEventListener("focusin",(function(t){t.relatedTarget!==o?r.focus():n.focus()})),s.addEventListener("focusin",(function(t){n.focus()})))):n.focus())},getElementComponent:function(t){switch(t.type){case"image":return"lightbox-image"}return null}}}},function(t,e,i){"use strict";i.r(e);var s=i(272);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(23),r=i(34),o=i(3),n=i(72),a=i(12);i(469);e.default={components:{Spinner:s.default},props:{currentItem:{type:Object,required:!1},thumbnail:{type:Boolean,default:!1}},data:function(){return{crossOrigin:Object(o.default)().getCrossOrigin(),blobUrl:null,naturalWidth:null,naturalHeight:null,hasError:null}},computed:{workspaceSize:function(){return this.$store.getters["workspace/size"]},isPortrait:function(){return this.$store.getters["workspace/isPortrait"]},wrapperRect:function(){if(this.thumbnail)return{width:105,height:70};if(!this.currentItem||!this.workspaceSize.width)return null;var t,e;if(t=this.currentItem.originalSize?{width:this.currentItem.originalSize[0],height:this.currentItem.originalSize[1]}:this.naturalWidth?{width:this.naturalWidth,height:this.naturalHeight}:{width:Math.round(this.currentItem.rect[0]*this.currentItem.scaleRatio.w),height:Math.round(this.currentItem.rect[1]*this.currentItem.scaleRatio.h)},this.isSmallWorkspace){var i=this.getSafeAreaInset("top"),s=this.getSafeAreaInset("right"),r=this.getSafeAreaInset("bottom"),o=this.getSafeAreaInset("left");e=this.isPortrait?{width:this.workspaceSize.width-8,height:this.workspaceSize.height-144-i-r}:{width:this.workspaceSize.width-96-2*(this.isLocaleRtl?o:s),height:this.workspaceSize.height-48-r-8}}else e={width:this.workspaceSize.width-168,height:this.workspaceSize.height-120};var n=Object(a.fit)(t,e,!0);return n.width=Math.round(n.width),n.height=Math.round(n.height),this.$emit("lightbox-rect",n),n},rawUrl:function(){return this.currentItem&&this.fileName?/^https?:\/\//.test(this.fileName)?this.fileName:"assets/pages/content/"+this.fileName:null},fileName:function(){var t=this.currentItem;if(!(t&&t.name&&t.sizes&&this.wrapperRect))return null;var e=Math.max(this.wrapperRect.width,this.wrapperRect.height),i=Object(n.getImageInfo)({data:t,maxSize:e});return Object(o.default)().getImageFileName(i)},isSmallWorkspace:function(){return this.$store.getters["workspace/isSmallWorkspace"]},isMobile:function(){return this.$store.getters["workspace/isMobile"]},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]},isPublisher:function(){return this.$store.state.workspace.userAgentInfo.browser.publisher}},watch:{rawUrl:{handler:function(t){this.clear(),t&&this.load()},immediate:!0}},methods:{clear:function(){this.blobUrl=null,this.naturalWidth=null,this.naturalHeight=null,this.hasError=null},load:function(){var t=this;Object(r.default)({url:this.rawUrl,callback:function(e){var i=document.createElement("img");i.onload=function(){t.blobUrl=e,t.naturalWidth=i.naturalWidth,t.naturalHeight=i.naturalHeight,t.currentItem.itemId&&t.$root.$emit("image",{action:"loaded",pageId:t.currentItem.pageId,url:Object(n.getApiFileName)(t.currentItem),lightboxUrl:window.location.href})},i.onerror=function(e){console.error("Image loading error from LightboxImage component."),t.hasError=!0},i.src=e,i.style.width="100%"},errorback:function(e){console.error("Image loading error from LightboxImage component."),t.hasError=!0}})},getSafeAreaInset:function(t){return!this.isMobile||this.isPublisher?0:Number(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-inset-"+t).trim().slice(0,-2))}}}},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(275);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(935);e.default={components:{LightboxNavDot:s.default},computed:{currentContent:function(){return this.$store.getters["content/currentContent"]}}}},function(t,e,i){"use strict";i.r(e);var s=i(277);e.default=s.default},function(t,e,i){"use strict";i.r(e),e.default={name:"lightbox-nav-dot",props:{item:{type:Object,required:!0},galleryItemIndex:{type:Number}},computed:{navDotClass:function(){return{"nav-dot":!this.isGallery,gallery:this.isGallery,active:this.isGalleryItem?this.galleryItemIndex===this.currentGalleryItemIndex:this.item.itemId===this.currentItemId,"gallery-item":this.isGalleryItem}},isGallery:function(){return"gallery"===this.item.type},isGalleryItem:function(){return this.galleryItemIndex||0===this.galleryItemIndex},currentItemId:function(){return this.$store.state.lightbox.currentItemId},currentGalleryItemIndex:function(){return this.$store.state.lightbox.currentGalleryItemIndex}}}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(281);e.default=s.default},function(t,e,i){"use strict";i.r(e);var s=i(520),r=12;e.default={components:{LightboxImage:s.default},computed:{currentContent:function(){return this.$store.getters["content/currentContent"]},currentItemId:function(){return this.$store.state.lightbox.currentItemId},currentGalleryItemIndex:function(){return this.$store.state.lightbox.currentGalleryItemIndex},thumbnailsWidths:function(){return this.$store.getters["lightbox/thumbnailsWidths"]}},methods:{lightboxGoTo:function(t,e){var i=e.index,s=e.galleryItemIndex;if("img"===t.target.tagName.toLowerCase()){var r=this.currentContent[i].itemId;this.$store.dispatch("lightbox/lightboxGoTo",{itemId:r,galleryItemIndex:s,target:"th-click"})}},getThStyles:function(t){var e,i=this.currentContent[t],s=0===t,o=t===this.currentContent.length-1;if(s){switch(i.type){case"gallery":e=this.thumbnailsWidths[i.itemId][0];break;case"image":e=this.thumbnailsWidths[i.itemId]}return{marginLeft:"calc(50vw - "+Math.floor(r+e/2)+"px)"}}if(o){switch(i.type){case"gallery":e=this.thumbnailsWidths[i.itemId][this.thumbnailsWidths[i.itemId].length-1];break;case"image":e=this.thumbnailsWidths[i.itemId]}return{marginRight:"calc(50vw - "+Math.floor(r+e/2)+"px)"}}}}}},function(t,e,i){},function(t,e,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(0).register({thumbnails:{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M9 3c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h5zM9 14c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5zm11 0c.6 0 1 .4 1 1v5c0 .6-.4 1-1 1h-5c-.6 0-1-.4-1-1v-5c0-.6.4-1 1-1h5z"/>'}})},,,,function(t,e,i){"use strict";i.r(e);var s=i(730),r=i(108),o=(i(731),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"549b1d19",null);n.options.__file="src/components/common/flash-message/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"flash-message",style:t.messageData.style,attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[t._v("\n        "+t._s(t.messageData.text)+"\n    ")])])},r=[];s._withStripped=!0},,,,,,function(t,e,i){"use strict";i.r(e);var s=i(744),r=i(124),o=(i(841),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"1e94cca4",null);n.options.__file="src/components/common/book-container/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"book-container",class:t.containerClass},[t.hasPages?i(t.bookComponent,{ref:"bookComponent",tag:"component",attrs:{"container-size":t.containerSize,"page-size":t.bookSize,dir:"ltr"}}):t._e(),t._v(" "),t.showPrevSubstrate?i("div",{staticClass:"book-substrate-prev",style:t.substrateStyle,attrs:{"aria-hidden":"true"},on:{click:t.goToLeftPage,mouseover:function(e){return t.arrowHover("prev",!0)},mouseout:function(e){return t.arrowHover("prev",!1)}}}):t._e(),t._v(" "),t.showNextSubstrate?i("div",{staticClass:"book-substrate-next",style:t.substrateStyle,attrs:{"aria-hidden":"true"},on:{click:t.goToRightPage,mouseover:function(e){return t.arrowHover("next",!0)},mouseout:function(e){return t.arrowHover("next",!1)}}}):t._e(),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[t.showSimpleArrows?i("nav-buttons",{attrs:{show:!0}}):t._e(),t._v(" "),t.showSmartArrows?i("slide-nav-buttons",{attrs:{show:!0}}):t._e()],1),t._v(" "),"html"===t.version?i("logo",{key:t.logoKey,ref:"logoComponent"}):t._e(),t._v(" "),i("transition",{attrs:{name:"slide-fade"}},["html"===t.version?i("zoom-panel"):t._e()],1),t._v(" "),i("transition",{attrs:{name:t.ctrFade},on:{"after-enter":t.afterFade}},[t.miniState&&!t.miniFullScreen?i("div",{key:"maxi",class:t.clickToReadClass,on:{click:t.wsToggleFullscreen}},[t._v("\n            "+t._s(t.clickToReadText)+"\n        ")]):t._e(),t._v(" "),t.miniState&&t.miniFullScreen?i("div",{key:"mini",class:t.miniClickToReadClass,attrs:{title:t.$t("BottomMenu.FULLSCREEN_BUTTON_TIP")},on:{click:t.wsToggleFullscreen}},[i("div",{staticClass:"fullscreen-button-mini-holder"},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"fullscreen"}})],1)]):t._e()])],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flip-book",class:t.flipBookClass},[i("v-touch",t._g({ref:"bookHolder",staticClass:"book-holder",style:[t.bookHolderStyle],attrs:{tag:"div",id:"book-holder","data-frozen-by":t.frozenBy},nativeOn:{transitionend:function(e){return t.transitionEnd(e)}}},t.eventHandlers),[t.selectTextEnabled?i("select-text-panel"):t._e(),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftButtons,expression:"showLeftButtons"}],staticClass:"previous-button",on:{mouseover:function(e){return t.arrowHover("prev",!0)},mouseout:function(e){return t.arrowHover("prev",!1)}}},[t.notesEnabled&&!t.showRightAddNote?i("button",{staticClass:"icon-add-note left-add-note stripe-btn",attrs:{tabindex:"0","aria-label":t.addNoteTitleText,title:t.addNoteTitleText,"data-nav-name":"notes-left"},on:{click:function(e){return e.stopPropagation(),t.btnAddNote("left")},mousedown:function(t){t.preventDefault()},mouseover:function(e){return e.stopPropagation(),t.arrowHover("prev",!1)}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e(),t._v(" "),i("button",{staticClass:"icon-book-prev stripe-btn",attrs:{tabindex:"0","aria-label":t.leftArrowTitle,title:t.leftArrowTitle,"data-nav-name":"go-left"},on:{click:function(e){return e.stopPropagation(),t.leftPage(e)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-prev"}})],1),t._v(" "),i("button",{staticClass:"icon-book-first stripe-btn",attrs:{tabindex:"0","aria-label":t.leftMostArrowTitle,title:t.leftMostArrowTitle,"data-nav-name":"go-last-left"},on:{click:function(e){return e.stopPropagation(),t.leftmostPage(e)},mouseover:function(e){return e.stopPropagation(),t.arrowHover("prev",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-first"}})],1)])]),t._v(" "),i("transition",{attrs:{name:"bars-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRightButtons,expression:"showRightButtons"}],staticClass:"next-button",on:{mouseover:function(e){return t.arrowHover("next",!0)},mouseout:function(e){return t.arrowHover("next",!1)}}},[t.notesEnabled&&t.showRightAddNote?i("button",{staticClass:"icon-add-note right-add-note stripe-btn",attrs:{tabindex:"0","aria-label":t.addNoteTitleText,title:t.addNoteTitleText,"data-nav-name":"notes-right"},on:{click:function(e){return e.stopPropagation(),t.btnAddNote("right")},mouseover:function(e){return e.stopPropagation(),t.arrowHover("next",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e(),t._v(" "),i("button",{staticClass:"icon-book-next stripe-btn",attrs:{tabindex:"0","aria-label":t.rightArrowTitle,title:t.rightArrowTitle,"data-nav-name":"go-right"},on:{click:function(e){return e.stopPropagation(),t.rightPage(e)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-next"}})],1),t._v(" "),i("button",{staticClass:"icon-book-last stripe-btn",attrs:{tabindex:"0","aria-label":t.rightMostArrowTitle,title:t.rightMostArrowTitle,"data-nav-name":"go-last-right"},on:{click:function(e){return e.stopPropagation(),t.rightmostPage(e)},mouseover:function(e){return e.stopPropagation(),t.arrowHover("next",!1)},mousedown:function(t){t.preventDefault()}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"book-last"}})],1)])])],1)],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle,attrs:{"data-page-id":t.pageId,"aria-hidden":!t.isCurrent},on:{mousedown:function(e){return e.preventDefault(),t.onMouseDown(e)}}},[i("transition",{attrs:{name:"page-fade"}},[t.showPreloaderContainer?i("div",{staticClass:"page-preloader",style:{backgroundColor:t.backgroundColor}},[t.isCurrent?i("div",{staticClass:"preloader-container"},[t.showSpinner?i("spinner",{staticClass:"preloader-spinner",attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e(),t._v(" "),i("div",{staticClass:"preloader-bg"}),t._v(" "),i("div",{staticClass:"preloader-header",attrs:{dir:t.dir}},[t._v(t._s(t.preloaderHeader))]),t._v(" "),i("div",{staticClass:"preloader-text",attrs:{dir:t.dir}},[t._v(t._s(t.preloaderText))])],1):t._e(),t._v(" "),t.showThumbnail?i("div",{staticClass:"preloader-th",style:t.thumbnailStyle},[i("img",{attrs:{crossOrigin:t.crossOrigin,src:t.thumbnailUrl}})]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"background",style:t.contentStyle,attrs:{"data-id":t.pageId}},[i("img",{ref:"bgImage",staticClass:"bg-layer",attrs:{crossOrigin:t.crossOrigin,src:"","aria-hidden":"true"}}),t._v(" "),t._l(t.backgroundsCache,(function(e,s){return t.canvasUpdated?t._e():i("img",{key:s,attrs:{"data-img":"backgroundsCache",crossOrigin:t.crossOrigin,src:e,"aria-hidden":"true"},on:{load:function(i){return t.bgCacheImageLoaded(e)}}})})),t._v(" "),t.vectorLayerCache?i("img",{ref:"bgSVG",class:"svg-layer"+(t.isCurrent?"":" svg-layer-not-current"),attrs:{crossOrigin:t.crossOrigin,src:t.vectorLayerCache}}):t._e()],2),t._v(" "),t.showHighlights?i("div",{staticClass:"highlights",style:t.contentStyle},[t._l(t.highlights,(function(t){return[i("div",{style:t.style})]}))],2):t._e(),t._v(" "),i("v-touch",{staticClass:"touch-layer",style:t.contentTouchLayerStyle,attrs:{options:{domEvents:!0}},on:{tap:t.onContentTap}},["flip-book"===t.bookComponent?i("div",{staticClass:"flip-area"}):t._e(),t._v(" "),!t.isMobile&&t.selectTextEnabled?i("select-text",{directives:[{name:"show",rawName:"v-show",value:t.isCurrent&&!t.contentFreezed&&"animating"!==t.bookStatus&&"calculating"!==t.bookStatus,expression:"isCurrent && !contentFreezed &&\n                    bookStatus !== 'animating' && bookStatus !== 'calculating'"}],attrs:{contStyle:t.contentStyle,"page-side":t.pageSide,"is-wide":t.isWide,"page-id":t.pageId,containerSize:t.contentSize,isCurrent:t.isCurrent,isLoaded:!t.isLoadingCache}}):t._e(),t._v(" "),!t.isLoadingCache&&t.isCurrent&&t.selectTextEnabled&&t.mobileShowEffectPass?i("select-text-mobile",{attrs:{contStyle:t.contentStyle,"page-side":t.pageSide,"is-wide":t.isWide,"page-id":t.pageId,containerSize:t.contentSize,isCurrent:t.isCurrent}}):t._e(),t._v(" "),t.androidIframe||t.showInvisibleContent?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.androidIframe||t.showInvisibleContent,expression:"!androidIframe || showInvisibleContent"}],staticClass:"content inv",style:t.contentStyle},[t._l(t.sortedContent.inv,(function(e){return[i(e.component,{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingCache,expression:"!isLoadingCache"}],key:e.itemId,tag:"component",attrs:{contentMargin:t.marginSide,data:e,isCurrent:t.isCurrent},on:{ready:t.contentItemReady,error:t.contentError}})]}))],2):t._e(),t._v(" "),i("div",{staticClass:"content vis",style:t.contentStyle},[t._l(t.sortedContent.visible,(function(e){return[i(e.component,{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingCache,expression:"!isLoadingCache"}],key:e.itemId,tag:"component",attrs:{data:e,contentMargin:t.marginSide,isCurrent:t.isCurrent},on:{ready:t.contentItemReady,error:t.contentError}})]}))],2)],1),t._v(" "),t._l(t.notesArray,(function(e,s){return i("note",{key:s,attrs:{data:e,size:t.pageSize,side:t.pageSide,isWide:t.isWide,isOutsideHardcover:t.isOutsideHardcover}})})),t._v(" "),t.flipCornerEnabled?i("flip-me",{attrs:{pageId:t.pageId,isLeft:t.isLeftFlipCorner}}):t._e()],2)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(8),r=i(26),o=i(3);e.default={props:{id:{type:[String,Number],required:!0},side:{type:String,required:!1,default:"both",validator:function(t){return-1!==["left","right","both"].indexOf(t)}},bordered:{type:Boolean,default:!1},size:{type:Object,required:!1,default:null},renderContent:{type:Boolean,default:!0},contentCrop:{type:Boolean,default:!1}},data:function(){return{alreadyLoaded:!1,thDebounced:!0,isCurrent:!1,pageId:this.id,pageSide:this.side,crossOrigin:Object(o.default)().getCrossOrigin(),lastIsCurrent:!1,thumbnailUrl:null,backgroundColor:"#ffffff",isWide:!1,isWideLeft:!1,isStub:!1,isReady:!1,hasError:!1,isOutsideHardcover:!1,propWidth:null,propHeight:null,loadPending:!1,whitePixelUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="}},watch:{id:function(t){this.pageId=t},pageId:function(t,e){t&&(this.getOnceProperties(),this.getAPIProperties(),this.getProperties()),this.deregisterPage(e),this.registerPage(t)},side:function(t){this.pageSide=t},hasError:function(t){t&&this.isCurrent&&this.$root.$emit("pageLoaded"),t&&this.isZoomed&&this.setCursor("inherit")},isPreloaderShown:function(t){t||this.$emit("preloader:off",this)},changeProperty:function(t){t.pageID===this.pageId&&this.getPropertiesDebounced()},apiChange:function(){this.getAPIProperties()}},created:function(){var t=this;this.getPropertiesDebounced=Object(s.debounce)((function(){t.getProperties()}),100),this.getOnceProperties(),this.getAPIProperties(),this.getProperties(),this.registerPage(),this.loadPending||(this.loadPending=!0,this.alreadyLoaded=!0,this.getPropertiesTimeout=setTimeout((function(){t.getProperties()}),500)),this.$root.$on("render:finish",this.getIsCurrent),this.getIsCurrent();var e=this.$store.getters["pages/isFirstPage"](this.pageId),i=this.$store.getters["pages/isLastPage"](this.pageId);this.hideLeftStripe=this.isRTLBook?i:e,this.hideRightStripe=this.isRTLBook?e:i;var r=this.$store.state.workspace.userAgentInfo;r.browser.facebook&&r.os.android&&(this.noImageCache=!0)},mounted:function(){var t=this;setTimeout((function(){t.isCurrent&&!t.isReady&&t.$root.$emit("pageLoaded")}),1e3)},beforeDestroy:function(){this.getPropertiesDebounced.destroy(),clearTimeout(this.getPropertiesTimeout),this.$root.$off("render:finish",this.getIsCurrent),this.deregisterPage(),this.noImageCache&&this.$store.dispatch("pages/resetPageResources",{pageID:this.pageId})},methods:{setCursor:function(t){this.isMobile||(this.$el.style.cursor=t)},getIsCurrent:function(){this.isCurrent=this.$store.getters["pager/isCurrentPage"]({pageId:this.pageId,pageSide:this.pageSide})},getOnceProperties:function(){this.propWidth=this.$store.getters["pages/pageProp"](this.pageId,"width"),this.propHeight=this.$store.getters["pages/pageProp"](this.pageId,"height")},registerPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;this.renderContent&&this.$pageRegistry.registerPage(t,this.pageSide,this)},deregisterPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageId;this.renderContent&&this.$pageRegistry.deregisterPage(t,this.pageSide)},getSpreadTwin:function(){var t=this.$store.getters["pager/state"];return this.isCurrent&&t.spreadMode?this.pageId!==t.leftPage||this.isWide&&"right"===this.pageSide?this.pageId===t.rightPage?this.$pageRegistry.getPageComponent(t.leftPage,"left"):null:this.$pageRegistry.getPageComponent(t.rightPage,"right"):null}},computed:{showThumbnail:function(){return this.isReady&&!this.hasError},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},isRTLBook:function(){return this.$store.state.book.rightToLeft},apiChange:function(){return this.$store.state.pages.apiChange},changeProperty:function(){return this.$store.state.pages.changeInPage},contentFreezed:function(){return"pending"!==this.$store.state.pager.flipState},updatePending:function(){return!this.isMobile&&this.isZoomed&&this.$store.getters["pages/pageProp"](this.pageId,"updatePending")},preloaderHeader:function(){return this.hasError?this.$t("Other.PAGE_ERROR_TITLE"):null},preloaderText:function(){return this.hasError?this.$t("Other.PAGE_ERROR_MESSAGE"):this.isReady?null:this.$t("Other.CONVERTING_PAGE")},backgroundLuma:function(){return this.backgroundColor?Object(r.calculateLuma)(Object(r.parseColor)(this.backgroundColor)):1},enforceTransparentBg:function(){return this.$store.state.workspace.alteredSVGColors&&this.$store.state.workspace.userAgentInfo.browser.samsung},isZoomed:function(){return this.$store.state.pages.size.zoomFactor>1},dir:function(){return this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"},isResizing:function(){return this.$store.state.workspace.isResizing},isPreloaderShown:function(){return this.$store.state.workspace.preloader},pageWidthMultiplier:function(){return this.isWide&&"both"===this.pageSide?2:1},pagesSize:function(){return this.$store.getters["pages/size"]},contentSize:function(){if(this.pageId){var t=this.isOutsideHardcover&&parseInt(this.propWidth,10)===parseInt(this.$store.state.book.bookSize.width,10)&&parseInt(this.propHeight,10)===parseInt(this.$store.state.book.bookSize.height,10)?"FILL":null;return this.$store.getters["pages/contentSize"]({pageID:this.pageId,pageSide:this.pageSide,pageSize:this.pageSize,resizeOverride:t})}return{width:0,height:0,offsetX:0,offsetY:0,scaleRatio:{w:0,h:0}}}}}},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{class:"selecttext"+(t.showCanvas?" active":""),style:t.contStyle,on:{pan:t.pan,panstart:t.reset,panend:t.panEnd,pancancel:t.panEnd}},[t.showCanvas?i("canvas",{class:t.canvasClass,style:{position:"absolute",right:t.isWide&&"right"===t.pageSide?0:"none"},attrs:{width:t.containerSize.width,height:t.containerSize.height}}):t._e(),t._v(" "),t._l(t.textBlockSizes,(function(e,s){return i("div",{staticClass:"text-block",style:{width:e.width+"px",top:e.top+"px",left:e.left+"px",height:e.height+"px"},attrs:{"data-set":"select-text-block"}},[t.inspectorMode?i("span",{staticClass:"block-inspector-mode"},[t._v(t._s(s))]):t._e(),t._v(" "),t._l(t.finalTree[s].lines,(function(s,r){return t.inspectorMode?i("span",{staticClass:"line-inspector-mode",style:{top:s.top*t.containerSize.scaleRatio.h-e.top+"px",left:s.left*t.containerSize.scaleRatio.w-e.left+"px",width:s.width*t.containerSize.scaleRatio.w+"px",height:s.height*t.containerSize.scaleRatio.h+"px"}},[t._v(t._s(r))]):t._e()}))],2)}))],2)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(750),r=i(751),o=i(8);e.default={props:["containerSize","pageId","isWide","pageSide","isLoaded","isCurrent","contStyle"],data:function(){return{finalTree:[],pageRect:null,selectedSymbols:[],showEffect:!1,isCrossWide:!1}},created:function(){this.updateSelectedTextDebounced=Object(o.debounce)((function(){var t=new r.UnicodeBiDi,e=this.$store.state.book.rightToLeft,i=t.getSelectedText(this.selectedSymbols,e);this.$store.dispatch("text/setSelectedText",i)}),100),this.isCurrent&&this.getAndParseXML()},beforeDestroy:function(){this.updateSelectedTextDebounced.destroy()},methods:{initContext:function(){var t=this.$el.getElementsByTagName("canvas")[0];t&&(this.context=t.getContext("2d"))},resetContext:function(){this.context&&(this.context=null)},getAndParseXML:function(){if(this.$store.getters["search/isSelectTextInfoLoaded"](this.pageId)){var t="slide-book"===this.$store.state.workspace.bookComponent&&this.$store.state.pager.slideMode,e=this.$store.getters["search/getSelectTextInfo"](this.pageId,"right"===this.pageSide,t);this.finalTree=Object.freeze(e.finalTree),this.isCrossWide=e.isCrossWide,this.isRtlSelection=e.isRtlSelection,0!==this.userRect.width&&this.parseRect(this.$store.state.text.selectionRect)}},parseRect:function(t){if(this.isWide&&!this.isCrossWide){var e=this.$store.getters["pages/pageProp"](this.pageId,"width")/2;if("left"===this.pageSide&&t.left>=e||"right"===this.pageSide&&t.left<e)return void(this.selectedSymbols=[])}if(this.isCurrent){var i=new s.SelectorText(this.finalTree,this.isRtlSelection);this.selectedSymbols=i.selectSymbols(t,this.allowedRect),this.updateSelectedTextDebounced()}else this.selectedSymbols=[]},getPageRect:function(){this.$store.state.workspace.containerSize.width>0?this.pageRect=this.$el.getBoundingClientRect():this.pageRect=null},getBorderCollisions:function(t){return this.allowedRect?{left:t.left<this.allowedRect.left,right:t.right>this.allowedRect.left+this.allowedRect.width,top:t.top<this.allowedRect.top,bottom:t.bottom>this.allowedRect.bottom}:{}},getCornerSymbol:function(t){return{isRtlSelection:this.isRtlSelection,top:Math.round(t.top*this.containerSize.scaleRatio.h),left:Math.round(t.left*this.containerSize.scaleRatio.w),width:Math.round(t.width*this.containerSize.scaleRatio.w),height:Math.round(t.height*this.containerSize.scaleRatio.h),collisions:this.getBorderCollisions(t)}}},watch:{userRect:function(t,e){t.top===e.top&&t.left===e.left&&t.width===e.width&&t.height===e.height||this.parseRect(t)},selectedSymbols:function(t){var e=this;null!==t?(t.length>0?this.$nextTick((function(){e.context||e.initContext(),e.context.clearRect(0,0,e.containerSize.width,e.containerSize.height),e.context.fillStyle="#027bff";for(var i=0,s=t.length;i<s;i++){var r=t[i];e.context.fillRect(r.left*e.containerSize.scaleRatio.w-(e.isWide&&"right"===e.pageSide?e.pageRect.width/2:0),r.top*e.containerSize.scaleRatio.h,r.width*e.containerSize.scaleRatio.w+1,r.height*e.containerSize.scaleRatio.h)}})):this.resetContext(),this.cornerTimeout=setTimeout((function(){if(!(e.selectedSymbols.length<1)){var t,i;if(1===e.selectedSymbols.length)t=i=e.selectedSymbols[0];else if(e.isRtlSelection){var s=e.selectedSymbols.findIndex((function(t){return t.lineBreak}));t=-1===s?e.selectedSymbols[0]:e.selectedSymbols[s-1];for(var r=e.selectedSymbols.length-1;r>=0&&!e.selectedSymbols[r].lineBreak;)r-=1;i=-1===r?e.selectedSymbols[e.selectedSymbols.length-1]:r===e.selectedSymbols.length-1?e.selectedSymbols[r-1]:e.selectedSymbols[r+1]}else t=e.selectedSymbols[0],10===(i=e.selectedSymbols[e.selectedSymbols.length-1]).word.charCodeAt(0)&&(i=e.selectedSymbols[e.selectedSymbols.length-2]);e.$store.dispatch("text/setCornerSymbols",{first:e.getCornerSymbol(t),last:e.getCornerSymbol(i)})}}),50),0===this.selectedSymbols.length&&this.$root.$emit("selectText:hidePanel")):this.$root.$emit("selectText:hidePanel")},isCurrent:function(t){var e=this;t&&(0===this.finalTree.length&&this.getAndParseXML(),this.$nextTick((function(){e.getPageRect()})))},selectTextInfoLoaded:function(t){t.pageId===this.pageId&&this.getAndParseXML()},animationInProgress:function(t){t||this.$store.getters["pager/isCurrentPage"]({pageId:this.pageId,pageSide:this.pageSide})&&this.getPageRect()}},computed:{canvasClass:function(){return{"select-text-canvas":!0,"show-effect":this.showEffect,"hide-before-effect":!this.showEffect&&this.effectOn}},effectOn:function(){return this.$store.state.text.effect},userRect:function(){var t={top:0,left:0,width:0,height:0};return this.$store.state.text.selectionRect&&(this.pageId===this.$store.state.text.pageID&&this.isWide&&this.pageSide!==this.$store.state.text.pageSide||this.pageId===this.$store.state.text.pageID&&this.pageSide===this.$store.state.text.pageSide&&this.isCurrent)?this.$store.state.text.selectionRect:t},allowedRect:function(){if(this.isWide&&this.isCrossWide&&this.singleMode){var t=this.$store.getters["pages/pageProp"](this.pageId,"width")/2;return{left:"right"===this.pageSide?t:0,width:t,top:0,height:this.$store.getters["pages/pageProp"](this.pageId,"height")}}},singleMode:function(){return this.$store.state.pager.singleMode},showCanvas:function(){return this.selectedSymbols.length>0},selectTextInfoLoaded:function(){return this.$store.state.search.selectTextInfoLoaded},animationInProgress:function(){return this.$store.getters["workspace/animationInProgress"]}}}},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"selecttext",style:t.contStyle,on:{tap:t.reset}},[this.showCanvas?i("canvas",{class:t.canvasClass,style:{position:"absolute",right:"right"===t.pageSide&&t.isWide?0:"none"},attrs:{width:t.containerSize.width,height:t.containerSize.height}}):t._e()])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"publication-note",style:t.noteStyle,on:{tap:t.onNoteClick}},[i("div",{ref:"icon",class:t.iconClass},[i("svgicon",{attrs:{focusable:"false",name:"note-content"}})],1),t._v(" "),i("transition",{attrs:{name:"note-fade"}},[t.showRect?i("div",{ref:"rect",class:t.rectClass,style:t.rectStyle,attrs:{role:"dialog"}},[i("div",{staticClass:"note-body",style:t.noteBodyStyle},[i("textarea",{ref:"text",staticClass:"note-article",attrs:{role:"textbox",dir:"ltr",maxlength:"500",placeholder:t.placeholderText,tabindex:"0"},domProps:{value:t.data.text},on:{blur:t.saveText,focus:t.focusTextArea,input:t.setTextareaDir,keydown:function(e){return(e.type.indexOf("key")||13===e.keyCode)&&e.ctrlKey?t.setViewState(e):null}}})]),t._v(" "),t.miniRect?t._e():i("div",{staticClass:"note-footer",attrs:{"aria-hidden":"true"}},[i("div",{class:t.colorSetClass},[i("div",{staticClass:"note-border-color green",on:{click:function(e){return t.setColor("green")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color blue",on:{click:function(e){return t.setColor("blue")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color violet",on:{click:function(e){return t.setColor("violet")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color red",on:{click:function(e){return t.setColor("red")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color orange",on:{click:function(e){return t.setColor("orange")}}},[i("div",{staticClass:"note-color"})]),t._v(" "),i("div",{staticClass:"note-border-color gray",on:{click:function(e){return t.setColor("gray")}}},[i("div",{staticClass:"note-color"})])]),t._v(" "),i("div",{staticClass:"note-time"},[t._v(t._s(t.formattedTime))]),t._v(" "),i("span",{staticClass:"icon icon-trash-can note-button note-delete-button",attrs:{title:t.deleteTip},on:{click:t.deleteNoteCheck}},[i("svgicon",{attrs:{focusable:"false",name:"trash-can"}})],1)])]):t._e()]),t._v(" "),i("transition",{attrs:{name:"note-fade"}},[t.deleteDialog?i("div",{class:t.rectClass,style:t.rectStyle,attrs:{role:"dialog"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.deleteDialogCancel(e)}}},[i("div",{staticClass:"note-delete-dialog",attrs:{dir:t.dir,"aria-hidden":"true"}},[i("div",{staticClass:"note-delete-dialog-text"},[i("div",{staticClass:"note-delete-dialog-text-flex"},[i("span",[t._v(t._s(t.dialogDeleteText))])])]),t._v(" "),i("div",{staticClass:"note-delete-dialog-buttons"},[i("button",{ref:"cancelButton",staticClass:"note-delete-dialog-cancel",attrs:{tabindex:"0"},on:{click:t.deleteDialogCancel}},[t._v(t._s(t.cancelButton))]),t._v(" "),i("button",{staticClass:"note-delete-dialog-confirm",attrs:{tabindex:"0"},on:{click:function(e){return t.deleteNote(e,"editor")}}},[t._v(t._s(t.deleteButton))])])])]):t._e()])],1)},r=[];s._withStripped=!0},function(t,e,i){i(0).register({"trash-can":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M15.976 17.862c0 .607-.414 1.138-.885 1.138H8.893c-.47 0-.869-.513-.869-1.12L8.002 8H16l-.023 9.862zM20 6h-5V4.466C15 3.66 14.853 3 14.013 3h-3.858C9.315 3 9 3.659 9 4.466V6H4v2h2v10c0 1.843 1.153 3 2.893 3h6.198C16.84 21 18 19.852 18 18V8h2V6z"/><path pid="1" d="M13 18h1V9h-1zM10 18h1V9h-1z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes},[i("div",{staticClass:"flip-me-backface",style:t.backfaceStyle},[t.isTranslucentReverseSide?t._l(t.backfaceBackgrounds,(function(e,s){return i("img",{key:s,staticClass:"flip-me-image",style:t.backfaceImgStyle,attrs:{crossOrigin:t.crossOrigin,src:e}})})):t._e(),t._v(" "),i("div",{staticClass:"flip-me-gradient2",style:t.backGradientStyle})],2),t._v(" "),i("div",{staticClass:"flip-me-mask",style:t.maskStyle},[i("div",{staticClass:"flip-me-gradient",style:t.nextGradientStyle}),t._v(" "),i("div",{staticClass:"flip-me-shift-page",style:t.shiftPageStyle},[i("div",{staticClass:"flip-me-next-page",style:t.nextPageStyle},t._l(t.nextBackgrounds,(function(e,s){return i("img",{key:s,staticClass:"flip-me-image",style:t.nextImgStyle,attrs:{crossOrigin:t.crossOrigin,src:e}})})),0)])])])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"vue-simple-spinner",style:t.spinnerStyle}),t._v(" "),t.message.length>0?i("div",{staticClass:"vue-simple-spinner-text",style:t.textStyle},[t._v("\n        "+t._s(t.message)+"\n    ")]):t._e()])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(128),r=i(9),o=i.n(r),n=i(33),a=i(81),h=i(770);function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function c(t,e,i,r){if(-1!==e){if(this.parentVm=i,this.contentCreator=r,this.store=Object(n.getStore)(),this.data=this._getPageData(e),this.enforceWhiteBg=this.store.state.workspace.alteredSVGColors&&this.store.state.workspace.userAgentInfo.browser.samsung,this.pageDiv=document.createElement("div"),this.pageDiv.className="page",this.enforceWhiteBg){var c=document.createElement("img");c.setAttribute("class","enforce-white-bg"),c.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="),t.appendChild(c)}if(this.data&&(!this.data.isReverseSide||(t.style.opacity=0,this.store.state.workspace.components.book.isTranslucentReverseSide))){this.setPageBg(this.data.id),t.appendChild(this.pageDiv);var d=this;this._createVM=function(){if(d.store)if(d.store.state.workspace.components.book.isTranslucentReverseSide&&d.data.isReverseSide){var t=o.a.extend(l({store:d.store},h.default));d.vm=new t({i18n:a.default,propsData:d.data,parent:d.parentVm,_componentTag:"page-reverse-side"}).$mount(d.pageDiv)}else{var e=o.a.extend(l({store:d.store},s.default));d.vm=new e({i18n:a.default,propsData:d.data,parent:d.parentVm,_componentTag:"page"}).$mount(d.pageDiv)}},this.parentVm.animation?this.parentVm.$once("render:finish",this._createVM):this._createVM()}}}c.prototype.destroy=function(){delete this.store,delete this.parentVm,delete this.contentCreator},c.prototype._createVM=function(){},c.prototype._getPageData=function(t){var e=this.store.getters["pager/flipParams"](t);return null===e?{isReverseSide:!0}:{id:e.pageId,wide:e.wide,side:e.pageSide,isReverseSide:e.isReverseSide,contentCreator:this.contentCreator}},c.prototype.setPageBg=function(t){if(this.store&&!this.enforceWhiteBg){var e=this._getPageData(t);if(e.id){var i=this.store.getters["book/hasHardcover"]&&(this.store.getters["pages/isFirstPage"](e.id)||this.store.getters["pages/isLastPage"](e.id))?this.store.state.book.hardcoverColor:this.store.getters["pages/pageProp"](e.id,"backgroundColor");void 0!==this.vm&&"function"==typeof this.vm.forceBackgroundColor?this.vm.forceBackgroundColor(i):this.pageDiv.style["background-color"]=i}}},c.prototype.resetPage=function(t){if(void 0!==this.vm){var e=this._getPageData(t);e||(e={id:null,side:"left"}),this.vm.pageSide=e.side,this.vm.pageId=e.id}},e.default=c},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle,attrs:{"aria-hidden":!t.isCurrent}},[i("transition",{attrs:{name:"page-fade"}},[i("div",{staticClass:"page-preloader"},[t.showCanvas?i("canvas",{ref:"canvas"}):t._e()])])],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),e.default=function(t,e,i,s){if(e<10)return 0;if(e<=30)return t/e*(20+(e-10)/2);var r=(i.width+i.height)/2*(Math.log(e)/Math.log(10))*.03+e/100,o=Math.min(e,r);return s&&(o=Math.min(s,o)),Math.round(t/e*o)}},function(t,e,i){"use strict";i.r(e);var s=i(776),r=i(152),o=(i(778),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/block/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"block",style:t.containerStyle,attrs:{"data-id":t.itemId}})},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(779),r=i(158),o=(i(780),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/link/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],class:t.classes,style:t.linkStyle,attrs:{"data-url":t.url,"data-id":t.data.id,title:t.title,target:t.target}})},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(781),r=i(161),o=(i(783),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/image/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",t._g({staticClass:"content-element image",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onImageClick,panstart:t.preventDefault}),[t.hasPopup?i("div",{staticClass:"icon",style:t.iconStyles},[i("svgicon",{attrs:{focusable:"false",name:"image",color:"#272F37 white"}})],1):t._e(),t._v(" "),i("div",{staticClass:"thumbsContainer"},t._l(t.cachedThumbnails,(function(t){return i("div",{key:t.id,staticClass:"thumbnail",style:t.style})})),0)])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(784),r=i(164),o=(i(786),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/gallery/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({class:["content-element gallery",t.containerClasses],style:t.containerStyle},t.isEmbed?null:{tap:t.onGalleryClick,panstart:t.preventDefault}),[i("div",{staticClass:"icon",style:t.iconStyles},[i("svgicon",{attrs:{focusable:"false",name:"gallery",color:"#272F37 white"}})],1),t._v(" "),i("div",{staticClass:"thumbsContainer"},t._l(t.cachedThumbnails,(function(t){return i("div",{key:t.id,staticClass:"thumbnail",style:t.style})})),0)])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(787),r=i(167),o=(i(790),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/gif/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-touch",{staticClass:"content-element gif",class:t.containerClasses,style:t.containerStyle,on:{tap:t.onGifClick}},[i("div",{staticClass:"icon",style:t.iconStyles},[i("svgicon",{attrs:{focusable:"false",name:"gif",color:"#272F37 white"}})],1),t._v(" "),t.rawThumbnailUrl?i("div",{directives:[{name:"show",rawName:"v-show",value:t.showThumbnail,expression:"showThumbnail"}],staticClass:"thumbnail",style:t.thumbnailStyle}):t._e(),t._v(" "),t.isPlaying||t.isEnded?i("div",{staticClass:"image"},[i("img",{ref:"gifImg",style:t.imageStyle,attrs:{crossOrigin:t.crossOrigin,src:t.imageSrcCache}})]):t._e(),t._v(" "),t.isCurrentPage&&t.isLoading?i("div",{staticClass:"preloader",style:t.crossWideCenterIconPositions},[i("spinner",{attrs:{sync:t.spreadMode&&t.data.crossWide,size:18,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1):t._e(),t._v(" "),!1===t.data.loop?i("div",{staticClass:"replay",style:t.replayPositions},[i("svgicon",{attrs:{focusable:"false",name:"replay",color:"white"}})],1):t._e()])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(791),r=i(170),o=(i(815),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"content-element video",class:t.containerClasses,style:t.containerStyle},t.isEmbed?null:{tap:t.onVideoClick}),[t.isPlayerShown||t.hasError?t._e():i("v-touch",t._g({key:"content-element-icon-"+t.data.itemId,staticClass:"icon",style:t.iconStyles},t.isEmbed?null:{tap:t.onVideoClick}),[i("svgicon",{attrs:{focusable:"false",name:"video",color:"#272F37 white"}})],1),t._v(" "),t.hasError?i("div",{staticClass:"error-icon",style:[t.iconSizeLimits,t.crossWideCenterIconPositions]},[i("svgicon",{attrs:{focusable:"false",name:"error",color:"white"}})],1):t._e(),t._v(" "),i("v-touch",t._g({directives:[{name:"show",rawName:"v-show",value:t.isThumbnailShown,expression:"isThumbnailShown"}],staticClass:"thumbnail",style:t.thumbnailStyle},t.isEmbed?null:{tap:t.onVideoClick})),t._v(" "),t.isInline&&t.isPlayerShown&&!t.isModalShown?i(t.videoData.provider,{ref:"player",tag:"component",attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.containerRect.width,height:t.containerRect.height,mute:t.isMuted,start:t.videoData.startFrom,isCurrentPage:t.isCurrentPage,isIos:t.isIos,customUrl:t.videoData.customUrl}}):t._e(),t._v(" "),t.isModalShown?i("modal-window",{ref:"modalWindow",attrs:{width:t.modalRect.width,height:t.modalRect.height,bgColor:"#000",delay:150}},[t.isIos&&t.showPreventer&&"wistia"!==t.videoData.provider?i("v-touch",{ref:"touchPreventer",staticClass:"touch-preventer",class:t.videoData.provider+(t.isModalSmall?" small":""),on:{tap:t.playPause,doubletap:function(t){t.preventDefault()},pinch:function(t){t.preventDefault()}}}):t._e(),t._v(" "),i(t.videoData.provider,{ref:"player",tag:"component",style:t.modalVideoStyle,attrs:{id:t.videoData.id,url:t.videoData.originalUrl,embedUrl:t.videoData.embedUrl,accessKey:t.videoData.accessKey,width:t.modalRect.width,height:t.modalRect.height,mute:t.isMuted,start:t.videoData.startFrom,isCurrentPage:!0,isIos:t.isIos,customUrl:t.videoData.customUrl}})],1):t._e()],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"playerMount",staticClass:"youtube-player player",attrs:{id:t.elementId}})])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{key:t.elementId,class:"wistia-player player wistia_embed wistia_async_"+t.id,attrs:{id:t.elementId},on:{wheel:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()},touchstop:function(t){t.stopPropagation()},touchcancel:function(t){t.stopPropagation()},pointerdown:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()}}})},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"overlay"}},[t.visibility.overlay?i("v-touch",{staticClass:"modal-window-overlay",attrs:{dir:t.dir},on:{tap:t.onOverlayTap,pinch:function(t){t.preventDefault()},doubletap:function(t){t.preventDefault()},pinchstart:function(t){t.preventDefault()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visibility.modal,expression:"visibility.modal"}],ref:"modal",class:["modal-window",{"modal-window-emphasis":t.bgColor},t.classes],style:t.modalStyle,on:{touchstart:function(t){t.stopPropagation()}}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-content"},[t.isLoaded?t._t("default"):i("div",{staticClass:"modal-preloader"},[i("spinner",{attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}})],1),t._v(" "),t.showCloseIcon?i("div",{staticClass:"modal-close"},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"rounded-close"}})],1):t._e()],2)])],1)])],1):t._e()],1)},r=[];s._withStripped=!0},function(t,e,i){i(0).register({error:{width:16,height:16,viewBox:"0 0 128 128",data:'<path pid="0" d="M64 23.9a39.47 39.47 0 11-39.47 39.47A39.52 39.52 0 0164 23.9m0-10a49.47 49.47 0 1049.47 49.47A49.47 49.47 0 0064 13.9z"/><path pid="1" d="M30.207 90.732l60.507-60.508 7.071 7.072-60.507 60.507z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(816),r=i(184),o=(i(817),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"5a5957c5",null);n.options.__file="src/components/desktop/select-text-panel/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"panel-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:(t.showPanel||t.forceShow)&&!t.inProgress&&!t.contextMenuVisible,expression:"(showPanel || forceShow) && !inProgress && !contextMenuVisible"}],ref:"copyPanel",staticClass:"select-text-panel",class:t.panelClass,style:t.panelStyle,attrs:{dir:t.blockDirection},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[i("div",{staticClass:"pointer",style:t.pointerTransform}),t._v(" "),i("span",{staticClass:"button",on:{click:t.copyText}},[t._v(t._s(t.$t("RightClickMenu.COPY_TEXT")))]),t._v(" "),t.isOnline?i("span",{staticClass:"divider"},[t._v("|")]):t._e(),t._v(" "),t.isOnline?i("span",{staticClass:"button",on:{click:t.copyTextLink}},[t._v(t._s(t.$t("RightClickMenu.SHARE_SELECTED_TEXT")))]):t._e()])])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(818);function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}var o=i.n(s)()({features:["js","ww"],idle:1e4}),n={};e.default={methods:{resizePage:function(t,e,i,s,a){var h,l=new Promise((function(t,e){h=e})),c=function(){return delete n[s]};o.resize(t,e,r({},i,{cancelToken:l})).then(a,a).then(c,c),n[s]=h},cancelResize:function(t){var e=n[t];e&&e(),delete n[t]}}}},function(t,e,i){"use strict";i.r(e),e.default={computed:{defaultZoomFactor:function(){return this.$store.state.workspace.defaultZoomFactor}},methods:{getTappedZoomBlock:function(t){var e,i;return t.target&&"block"===t.target.className&&(e=t.target.getAttribute("data-id"),i=t.target.getBoundingClientRect()),{id:e,rect:i}},getBlockRect:function(t,e){var i={width:t.width>e.width+e.left-t.left?e.width+e.left-t.left:t.width,height:t.height,left:t.left-e.left,top:t.top-e.top};return i.left<0&&(i.width=i.width+i.left,i.left=0),i},checkScaleFactorForZoom:function(t,e,i){return 1*(e*t).toFixed(2)>i?i/e:t},getScrollAmount:function(t,e,i,s,r){if(t&&t.direction){var o,n;switch(t.direction){case"left":o=e<-100?100:-e;break;case"up":o=i<-100?100:-i;break;case"right":o=e-100>-(n=Math.max(r.width-s.width,0))?-100:-n-e;break;case"down":o=i-100>-(n=Math.max(r.height-s.height,0))?-100:-n-i}return o}},getSuitableZoomFactor:function(t,e,i,s){if(0===e)return null;var r=[1.1,1.25,1.5,1.75,2,2.5,3,3.5,4,4.5,5].filter((function(t){return t>=i&&t<=s})).filter((function(i){return e>0?i>t:i<t}));return e>0?r.shift():r.pop()},showSelectTextTip:function(){this.$store.getters["workspace/canShowSelectTextTip"]&&(this.$store.dispatch("workspace/setFlashMessage",{text:this.$tc("AlertMessage.SELECT_TEXT_TIP",0,{key:this.isMac?"⌘":"Ctrl"}),delay:1500}),this.$store.dispatch("workspace/increaseSelectTextTipShowsCount"))}}}},function(t,e,i){"use strict";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},s={};return s.width=t.width*e,s.height=t.height*e,s.top=t.top+(i.y-i.y*e),s.left=t.left+(i.x-i.x*e),s}function r(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},r={};return r.width=e.width*i,r.height=e.height*i,r.top=t.height/2-s.y*i+2*t.top,r.left=t.width/2-s.x*i+2*t.left,r}function o(t,e){return t.height<e.height?t.top=(e.height-t.height)/2:t.top>0?t.top=0:t.height+t.top<e.height&&(t.top=e.height-t.height),t.width<e.width?t.left=(e.width-t.width)/2:t.left>0?t.left=0:t.width+t.left<e.width&&(t.left=e.width-t.width),t}function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 1===i?{x:0,y:0}:{x:(t.left-e.left)/(i-1),y:(t.top-e.top)/(i-1)}}i.r(e),i.d(e,"getNewBounds",(function(){return s})),i.d(e,"getNewCenteredBounds",(function(){return r})),i.d(e,"normalizeBounds",(function(){return o})),i.d(e,"getOrigin",(function(){return n}))},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-book"},[i("v-touch",t._g({ref:"holder",staticClass:"slide-holder",class:t.holderClasses,attrs:{tag:"div",id:"slide-holder"}},t.isEmbed?null:{doubletap:t.onDoubleTap,pinchstart:t.onPinchStart,pinchmove:t.onPinchMove,pinchend:t.onPinchFinish,pinchcancel:t.onPinchFinish,panstart:t.onPanStart,panmove:t.onPanMove,panend:t.onPanEnd,pancancel:t.onPanEnd}),t._l(t.outputSlidesCache,(function(e){return i("div",{key:e.pages[0].id+"_"+e.pages[0].side,ref:"current"===e.position?"wrapper":null,refInFor:!0,class:"slide-wrapper "+e.position,style:t.slideStyles[e.position],attrs:{"data-id":e.pages[0].id+"_"+e.pages[0].side+(e.pages[1]?"-"+e.pages[1].id+"_"+e.pages[0].side:"")}},[i("div",{staticClass:"spread-wrapper",style:t.spreadStyles[e.position],on:{transitionend:t.onTransitionEnd}},[t.selectTextEnabled&&"current"===e.position?i("select-text-panel"):t._e(),t._v(" "),t.isFastSliding?[i("div",{staticClass:"spread-filler"},t._l(e.pages,(function(e){return i("div",{staticClass:"page-filler",class:e.side,style:e.style,attrs:{"data-caption":e.caption}},[i("svgicon",{attrs:{name:e.icon}}),t._v(" "),e.wide&&t.isSpreadMode?i("svgicon",{attrs:{name:e.icon}}):t._e()],1)})),0)]:t._l(e.pages,(function(s){return i("page",{key:s.id+"_"+s.side,ref:"current"===e.position?"current":null,refInFor:!0,class:"slide-page "+(t.isContentCropMode?"content-crop":s.position),attrs:{id:s.id,side:s.side,size:t.pageSizes[e.position],contentCreator:t.contentCreator,"data-id":s.id+"_"+s.side,contentCrop:t.isContentCropMode}})}))],2)])})),0),t._v(" "),i("transition",{attrs:{name:"note-icon-fade"}},[t.noteIconShown?i("button",{staticClass:"icon-add-note",class:t.noteIconClass,style:t.noteIconStyle,attrs:{tabindex:"0",title:t.addNoteTitleText},on:{click:function(e){return e.stopPropagation(),t.addNote(e)}}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"add-note"}})],1):t._e()])],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showLogo?i("div",{staticClass:"logo-container",class:t.containerClasses,style:t.containerStyles},[i("a",{staticClass:"logo-link",style:t.logoStyles,attrs:{href:t.logoLinkUrl,target:t.target},on:{click:t.onClick}},[t.customLogoUrl?i("img",{staticClass:"logo-custom",style:t.imageStyles,attrs:{crossOrigin:t.crossOrigin,src:t.customLogoUrl}}):t.hasDefaultLogo?i("svgicon",{ref:"svgLogo",staticClass:"logo-svg",attrs:{focusable:"false",name:"made-with"}}):t._e()],1)]):t._e()},r=[];s._withStripped=!0},function(t,e,i){i(0).register({"made-with":{width:119,height:30,viewBox:"0 0 119 30",data:'<path pid="0" d="M27.102 26.063c0 .29-.233.525-.525.525h-1.052a.525.525 0 01-.525-.525V15.052c0-.355.3-.526.497-.526h6.337c.29 0 .524.232.524.524v1.05c0 .289-.237.524-.524.524H27.21a.105.105 0 00-.108.102v2.68c0 .056.047.102.105.102h3.836c.29 0 .527.233.527.524v1.05c0 .29-.234.524-.527.524h-3.836a.105.105 0 00-.105.106v4.35zm8.672-11.538A.525.525 0 0035.25 14l-1.052.13c-.396.05-.525.236-.525.525 0 0-.006 9.801 0 9.833-.006 1.37 1.127 2.104 2.102 2.099.976-.006.528.005.528.005a.53.53 0 00.523-.529V24.89c0-.23-.187-.4-.387-.4h-.27a.384.384 0 01-.394-.374v-9.59zm3.416 2.885h1.053c.29 0 .524.183.524.526v8.126c0 .29-.233.526-.524.526H39.19a.526.526 0 01-.525-.526v-8.126c0-.29.14-.526.525-.526zm-.525-2.36a1.051 1.051 0 012.102 0 1.05 1.05 0 01-2.102 0zm4.207 5.198a25.36 25.36 0 01-.002-.32v.364a3.148 3.148 0 013.154-3.144h.788a3.151 3.151 0 013.153 3.146v3.41a3.149 3.149 0 01-3.155 3.146h-.26a3.49 3.49 0 01-1.578-.387v2.484c0 .29-.233.525-.525.525h-1.052a.525.525 0 01-.525-.525v-8.652c0-.016 0-.031.002-.047zm2.1.044v3.414c0 .72.589 1.308 1.314 1.308h.263c.725 0 1.314-.585 1.314-1.308v-3.414c0-.72-.589-1.309-1.314-1.309h-.263c-.725 0-1.314.586-1.314 1.309zm6.835-.044a25.36 25.36 0 01-.002-.32v.364a3.148 3.148 0 013.153-3.144h.789a3.152 3.152 0 013.154 3.146v3.41a3.149 3.149 0 01-3.156 3.146h-.26c-.552 0-1.091-.14-1.578-.387v2.484c0 .29-.233.525-.525.525H52.33a.525.525 0 01-.525-.525v-8.652c0-.016 0-.031.002-.047zm2.1.044v3.414c0 .72.589 1.308 1.315 1.308h.262c.725 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.262c-.726 0-1.315.586-1.315 1.309zm7.358-2.882h1.052c.29 0 .525.183.525.526v8.126c0 .29-.233.526-.525.526h-1.052a.526.526 0 01-.525-.526v-8.126c0-.29.165-.526.525-.526zm-.525-2.36a1.051 1.051 0 012.102 0 1.05 1.05 0 01-2.102 0zm4.73 11.538h1.052a.523.523 0 00.525-.526v-5.767c0-.725.588-1.312 1.315-1.312h.262c.725 0 1.314.588 1.314 1.31v5.779a.52.52 0 00.524.523l1.053-.005a.526.526 0 00.525-.526v-5.77a3.15 3.15 0 00-3.153-3.146h-.789c-.488 0-.95.11-1.362.307a.52.52 0 00-.214-.045H65.47a.524.524 0 00-.525.526v8.126a.524.524 0 00.525.526zm15.773-6.581c0 .286-.01.524-.02.858.002.63.016 2.596.009 4.742-.008 2.552-1.31 4.136-3.668 4.128h-.265c-1.79.013-2.91-1.157-2.91-1.157a.414.414 0 01.016-.577l.72-.79c.156-.14.288-.1.412 0 .123.098.733.843 2.027.816.764-.015 1.59-.482 1.59-1.567-.519.287-.995.393-1.595.393h-.26a3.149 3.149 0 01-3.155-3.147v-3.41a3.151 3.151 0 013.153-3.146h.789a3.148 3.148 0 013.153 3.144l.004-.287zm-2.106.287c0-.723-.588-1.309-1.314-1.309h-.262c-.726 0-1.314.59-1.314 1.31v3.413c0 .723.588 1.309 1.314 1.309h.262c.726 0 1.314-.59 1.314-1.309v-3.414zm9.458 6.294H84.13a.525.525 0 01-.526-.527v-11.01c0-.29.233-.526.526-.526h4.337a3.15 3.15 0 013.153 3.147 3.141 3.141 0 01-1.312 2.556 3.405 3.405 0 011.706 2.951 3.413 3.413 0 01-3.418 3.409zm-.262-4.982h-2.52a.103.103 0 00-.107.102v2.68c0 .057.047.102.106.102h2.521c.797 0 1.446-.646 1.446-1.442 0-.795-.647-1.442-1.446-1.442zm-.394-5.245h-2.125a.105.105 0 00-.108.105v2.937c0 .06.048.105.108.105h2.125c.871 0 1.577-.705 1.577-1.574 0-.867-.706-1.573-1.577-1.573zm5.65 3.933a3.149 3.149 0 013.154-3.146h.789a3.151 3.151 0 013.153 3.146v3.41a3.15 3.15 0 01-3.153 3.146h-.789a3.151 3.151 0 01-3.153-3.147v-3.409zm2.103-.002v3.414c0 .72.589 1.308 1.314 1.308h.263c.726 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.263c-.725 0-1.314.586-1.314 1.309zm6.307.002a3.15 3.15 0 013.154-3.146h.788a3.151 3.151 0 013.154 3.146v3.41a3.15 3.15 0 01-3.154 3.146h-.788a3.151 3.151 0 01-3.154-3.147v-3.409zm2.077-.002v3.414c0 .72.588 1.308 1.314 1.308h.262c.726 0 1.314-.585 1.314-1.308v-3.414c0-.72-.588-1.309-1.314-1.309h-.262c-.726 0-1.314.586-1.314 1.309zm11.949 5.975c.094.113.286.323.43.323h1.841c.25 0 .31-.286.215-.41l-3.785-4.566c1.911-1.227 2.738-3.59 2.773-3.804.035-.213-.044-.387-.331-.387h-1.359c-.378 0-.392.296-.514.507-.122.212-.569 1.807-2.517 2.726V14.79a.525.525 0 00-.526-.525H111.2c-.349 0-.526.261-.526.525v11.277c0 .29.236.524.526.524h1.052a.523.523 0 00.525-.524V22.4l3.247 3.867zM.009 27.961A1.163 1.163 0 010 27.813V14.145c0-.1.014-.199.038-.291.189-1.038 1.075-1.826 2.144-1.833.332-.001.648.072.932.206l5.899 3.126-.004-.001c.02-.013.156-.104.208-.133l5.67-3.013c.282-.134.599-.208.931-.206 1.138.008 2.07.902 2.173 2.038.006.05.009.098.009.148v13.669c0 .1-.013.199-.038.292-.189 1.037-1.075 1.825-2.144 1.832a2.144 2.144 0 01-.932-.206L8.991 26.65c-.02.012-.156.103-.208.132l-5.67 3.013c-.283.134-.599.208-.931.206-1.138-.008-2.07-.902-2.173-2.038zm2.635-.556l5.242-2.712a1.746 1.746 0 00.58-2.37l-.001.001.004-.003-.771-1.353a3.96 3.96 0 01-.65-2.057c-.02-.66.122-1.287.39-1.845l.008.005-4.803-2.455a.468.468 0 00-.642.43v1.47H2V26.976a.466.466 0 00.644.43zm13.354-.451v-1.47H16V15.026a.466.466 0 00-.643-.43l-5.243 2.712a1.746 1.746 0 00-.579 2.37l.001-.001-.005.002.771 1.354c.39.593.626 1.297.65 2.056.02.66-.122 1.288-.39 1.845l4.795 2.45a.467.467 0 00.643-.431z"/><path pid="1" class="made-with" fill-rule="evenodd" d="M13.102 2.543c.73 0 1.303.183 1.717.548.414.365.629.868.645 1.509v2.918c0 .582.074 1.045.222 1.388V9H14.55c-.063-.125-.114-.348-.153-.668-.504.524-1.105.785-1.805.785-.625 0-1.137-.177-1.538-.53-.4-.354-.6-.802-.6-1.345 0-.66.25-1.173.753-1.538.502-.365 1.208-.548 2.118-.548h1.055v-.498c0-.379-.114-.68-.34-.905-.227-.225-.56-.337-1.002-.337-.387 0-.711.098-.973.293-.262.195-.392.432-.392.709h-1.09c0-.316.112-.622.337-.917a2.3 2.3 0 01.914-.7 3.075 3.075 0 011.268-.258zM22.361 0v9h-.996l-.053-.68c-.433.532-1.037.797-1.81.797-.735 0-1.333-.3-1.796-.902-.463-.602-.695-1.387-.695-2.356v-.082c0-.972.23-1.755.692-2.346.46-.592 1.064-.888 1.81-.888.743 0 1.33.254 1.764.762V0h1.084zm4.29 2.543c.824 0 1.465.271 1.922.814.457.543.685 1.32.685 2.332v.452h-4.294c.015.625.198 1.13.547 1.514.35.385.794.577 1.333.577.383 0 .707-.078.973-.234.266-.156.498-.363.697-.621l.662.516c-.53.816-1.328 1.224-2.39 1.224-.86 0-1.559-.282-2.098-.846-.539-.565-.808-1.32-.808-2.265v-.2c0-.628.12-1.19.36-1.684s.576-.88 1.008-1.16c.431-.28.9-.419 1.403-.419zm20.682-1.418V2.66h1.183v.838h-1.183V7.43c0 .254.052.444.158.571.105.127.285.19.539.19.125 0 .297-.023.516-.07V9a3.143 3.143 0 01-.833.117c-.484 0-.85-.146-1.095-.44-.246-.292-.37-.708-.37-1.247V3.498h-1.154V2.66h1.155V1.125h1.084zM6.768 2.543c1.39 0 2.097.736 2.12 2.209V9H7.806V4.816c0-.453-.104-.792-.31-1.016-.208-.225-.555-.337-1.044-.337-.402 0-.736.12-1.002.36-.265.24-.42.564-.463.97V9h-1.09V4.846c0-.922-.45-1.383-1.353-1.383-.71 0-1.197.303-1.459.908V9H0V2.66h1.026l.029.703c.465-.547 1.092-.82 1.88-.82.887 0 1.49.34 1.811 1.02.211-.305.486-.551.823-.739.338-.187.738-.281 1.199-.281zm27.45.117l1.248 4.746 1.476-4.746h.873l1.506 4.846L40.54 2.66h1.084L39.778 9H38.9l-1.54-4.805L35.858 9h-.88l-1.84-6.34h1.079zm9.797 0V9h-1.084V2.66h1.084zM50.978 0v3.428c.48-.59 1.106-.885 1.875-.885 1.34 0 2.016.756 2.027 2.268V9h-1.084V4.805c-.004-.457-.108-.795-.313-1.014-.205-.219-.525-.328-.958-.328-.352 0-.66.094-.926.281a1.91 1.91 0 00-.621.738V9h-1.084V0h1.084zM19.783 3.463c-.531 0-.945.205-1.242.615-.297.41-.445 1.018-.445 1.822 0 .72.148 1.282.445 1.688.297.406.707.61 1.23.61.688 0 1.19-.31 1.506-.926V4.359c-.324-.597-.822-.896-1.494-.896zm-5.403 2.46h-.85c-1.328 0-1.992.39-1.992 1.167 0 .34.113.605.34.797.226.191.517.287.873.287.34 0 .662-.088.967-.264.304-.176.525-.404.662-.685V5.924zm12.271-2.49c-.437 0-.805.16-1.102.478-.296.319-.48.765-.55 1.34h3.175v-.083c-.03-.55-.18-.978-.445-1.28-.265-.303-.625-.454-1.078-.454zM43.482.353c.211 0 .371.06.48.181a.64.64 0 01.165.446.62.62 0 01-.164.439c-.11.117-.27.176-.48.176-.212 0-.371-.059-.478-.176a.626.626 0 01-.162-.44c0-.175.054-.324.162-.445.107-.12.266-.181.477-.181z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-arrows"},[t.isFirstPage?t._e():i("v-touch",t._g({staticClass:"nav-btn nav-left-arrow",attrs:{tag:"button",title:t.leftArrowTitle},nativeOn:{touchstart:function(t){t.preventDefault()},keydown:function(e){return t.leftButtonKeyHandler(e)}}},t.isEmbed?{tap:t.goLeft}:{tap:t.goLeft,swipeleft:function(e){return t.goRight(e,!0)},swiperight:function(e){return t.goLeft(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-left",height:"100%"}}):t._e()],1)],1),t._v(" "),t.isLastPage?t._e():i("v-touch",t._g({staticClass:"nav-btn nav-right-arrow",attrs:{tag:"button",title:t.rightArrowTitle},nativeOn:{touchstart:function(t){t.preventDefault()},keydown:function(e){return t.rightButtonKeyHandler(e)}}},t.isEmbed?{tap:t.goRight}:{tap:t.goRight,swipeleft:function(e){return t.goRight(e,!0)},swiperight:function(e){return t.goLeft(e,!0)}}),[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-right",height:"100%"}}):t._e()],1)],1)],1)},r=[];s._withStripped=!0},function(t,e,i){i(0).register({"mobile-left":{width:16,height:16,viewBox:"0 0 24 40",data:'<path pid="0" d="M19.172 38L2.583 21.414a2.006 2.006 0 010-2.828L19.168 2l2.828 2.828L6.826 20 22 35.172 19.172 38z"/>'}})},function(t,e,i){i(0).register({"mobile-right":{width:16,height:16,viewBox:"0 0 24 40",data:'<path pid="0" d="M4.828 2l16.589 16.586c.777.778.777 2.05 0 2.828L4.832 38l-2.828-2.828L17.174 20 2 4.828 4.828 2z"/>'}})},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.classes},[t.isFirstPage||t.isLightboxShown?t._e():i("div",{staticClass:"button-block left"},[i("button",{staticClass:"nav-btn next-btn nav-left-arrow",attrs:{tabindex:"0",title:t.leftArrowTitle},on:{click:function(e){return e.preventDefault(),t.goLeft(e)}}},[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-left",height:"100%"}}):t._e()],1)],1),t._v(" "),i("button",{staticClass:"nav-btn last-btn nav-first-left-arrow",attrs:{tabindex:"0",title:t.leftMostArrowTitle},on:{click:function(e){return e.preventDefault(),t.leftToTheLast(e)}}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"book-first",height:"100%"}}):t._e()],1)]),t._v(" "),t.isLastPage||t.isLightboxShown?t._e():i("div",{staticClass:"button-block right"},[i("button",{staticClass:"nav-btn next-btn nav-right-arrow",attrs:{tabindex:"0",title:t.rightArrowTitle},on:{click:function(e){return e.preventDefault(),t.goRight(e)}}},[i("transition",{attrs:{name:"bars-fade"}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"mobile-right",height:"100%"}}):t._e()],1)],1),t._v(" "),i("button",{staticClass:"nav-btn last-btn nav-last-right-arrow",attrs:{tabindex:"0",title:t.rightMostArrowTitle},on:{click:function(e){return e.preventDefault(),t.rightToTheLast(e)}}},[t.show?i("svgicon",{staticClass:"arrow",attrs:{focusable:"false",name:"book-last",height:"100%"}}):t._e()],1)])])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"zoom-panel",class:t.panelClass,style:t.panelStyle,attrs:{id:"zoom-panel",dir:t.dir}},[i("span",{staticClass:"zoom-panel-caption minus",attrs:{title:t.$t("ZoomBar.ZOOM_OUT_TIP")},on:{click:t.zoomOut}},[t._v("–")]),t._v(" "),i("div",{ref:"zoomLine",staticClass:"zoom-panel-line",on:{click:t.lineClick}},[i("v-touch",{ref:"zoomSlider",staticClass:"zoom-panel-slider",style:t.sliderStyle,attrs:{id:"zoom-slider","pan-options":{direction:"horizontal",threshold:1}},on:{panstart:t.onPanStart,panmove:t.onPanMove,panend:t.onPanEnd,pancancel:t.onPanEnd}})],1),t._v(" "),i("span",{staticClass:"zoom-panel-caption plus",attrs:{title:t.$t("ZoomBar.ZOOM_IN_TIP")},on:{click:t.zoomIn}},[t._v("+")])])},r=[];s._withStripped=!0},,,,,function(t,e,i){"use strict";i.r(e),e.default={computed:{fullPdf:function(){return this.$store.state.downloads.allPagesVisible&&this.$store.getters["downloads/getFullPdf"]},customFiles:function(){return this.$store.getters["downloads/getCustomFiles"]},pageFiles:function(){return this.$store.state.downloads.currentPagesVisible&&this.$store.getters["downloads/getPageFiles"]},windowTitle:function(){return this.$i18n.t("SaveWindow.TITLE")},fullTooltip:function(){return this.$t("SaveWindow.SAVE_FULL_PUBLICATION_TOOLTIP")},pagesTitle:function(){return{full:this.$t("SaveWindow.FULL_PUBLICATION"),left:this.$t("SaveWindow.SAVE_LEFT_PAGE"),right:this.$t("SaveWindow.SAVE_RIGHT_PAGE"),one:this.$t("SaveWindow.SAVE_CURRENT_PAGE")}},pagesTooltip:function(){return{full:this.$t("SaveWindow.SAVE_FULL_PUBLICATION_TOOLTIP"),left:this.$t("SaveWindow.SAVE_LEFT_PAGE_TOOLTIP"),right:this.$t("SaveWindow.SAVE_RIGHT_PAGE_TOOLTIP"),one:this.$t("SaveWindow.SAVE_CURRENT_PAGE_TOOLTIP")}},pagerState:function(){return this.$store.getters["pager/legacyState"]}}}},,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(39),r=i.n(s),o=i(498);e.default={props:{data:{type:Object,required:!0}},components:{thumb:o.default},computed:{singleMode:function(){return this.$store.state.pager.singleMode},textDirection:function(){return r.a.getDirection(this.data.caption)},itemStyles:function(){var t={};return this.data.size&&(t.width=this.data.size.width+"px",t.height=this.data.size.height+"px"),t},slideMode:function(){return this.$store.state.pager.slideMode},contentCrop:function(){return this.slideMode&&this.$store.state.book.contentCrop}}}},function(t,e,i){"use strict";i.r(e);var s=i(893),r=i(237),o=(i(894),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/thumb/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:t.pageStyle},[t.preloaderVisible?i("div",{staticClass:"preloader",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"preloader-container"},[t.isLoading?i("spinner",{staticClass:"preloader-spinner",attrs:{size:t.preloaderSize,"line-size":t.preloaderLineSize,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e()],1)]):t._e(),t._v(" "),t.rightPreloaderVisible?i("div",{staticClass:"preloader right",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"preloader-container"},[t.isLoading?i("spinner",{staticClass:"preloader-spinner",attrs:{size:t.preloaderSize,"line-size":t.preloaderLineSize,"line-fg-color":"#5692AE","line-bg-color":"#ffffff"}}):t._e()],1)]):t._e(),t._v(" "),t.enforceWhiteBg?i("img",{staticClass:"enforce-white-bg",attrs:{src:t.whitePixelUrl}}):t._e(),t._v(" "),t.background?i("img",{staticClass:"background",style:t.contentStyle,attrs:{crossOrigin:t.crossOrigin,src:t.background,role:"img","data-id":t.pageId,title:t.$t("AlertMessage.LINK_PAGE_TIP"),"aria-label":t.$t("AlertMessage.LINK_PAGE_TIP"),alt:t.imageAlt}}):t._e()])},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),e.default={computed:{title:function(){return this.$i18n.t("ThumbnailsToolWindow.TITLE")},isRtl:function(){return this.$store.state.book.rightToLeft},pagerState:function(){return this.$store.getters["pager/state"]},singleMode:function(){return this.pagerState.singleMode},slideMode:function(){return this.pagerState.slideMode},mode:function(){return this.pagerState.mode},contentCrop:function(){return this.slideMode&&this.$store.state.book.contentCrop},thumbSizes:function(){return this.getThumbSizes(!1)},thumbDoubleSizes:function(){return this.getThumbSizes(!0)},hasPages:function(){return this.$store.getters["pages/pagesCount"]>0},numerationOffset:function(){return this.$store.state.book.numerationOffset},lowercaseRomans:function(){return this.$store.state.workspace.lowercaseRomans}}}},,,function(t,e,i){"use strict";i.r(e);var s=i(39),r=i.n(s),o=i(11);e.default={props:{itemData:{type:Object,required:!0},depth:{type:[Number,String],default:0}},computed:{width:function(){return this.depth<=2?214-20*this.depth:154},pageLabel:function(){return this.$store.getters["pages/pageCaptionByIndex"](this.itemData.page-1)},itemTitle:function(){return"<span>"+Object(o.screening)(Object(o.decodeHtml)(this.itemData.title)).replace(/\n/g,"</span><span>")+"</span>"},textDirection:function(){return r.a.getDirection(this.itemData.title)},isLocaleRtl:function(){return this.$store.getters["i18n/isLocaleRtl"]}},methods:{toggleOpen:function(t){this.$store.dispatch("toc/toggleState",this.itemData)},refresh:function(){this.$parent.refresh()}},updated:function(){this.$parent.refresh()},mounted:function(){this.$parent.refresh()}}},function(t,e,i){i(0).register({"down-arrow":{width:16,height:16,viewBox:"0 0 16 16",data:'<path pid="0" d="M13.998 5.003H2.009l5.983 5.99 6.006-5.99"/>'}})},function(t,e,i){"use strict";i.r(e),e.default={computed:{tocItems:function(){return this.$store.state.toc.enabled?this.$store.state.toc.children:[]},level2Items:function(){if(this.$store.state.toc.children)for(var t=0,e=this.$store.state.toc.children.length;t<e;t++)if(this.$store.state.toc.children[t].children)return!0;return!1}},methods:{updateHeight:function(){this.$children[0].refresh()}}}},,,,,function(t,e,i){"use strict";i.r(e),e.default={props:{itemData:{type:[Object,Array],required:!0}},name:"SearchResultItem",computed:{isItemDataArray:function(){return Array.isArray(this.itemData)},pageId:function(){return this.isItemDataArray?this.itemData[0].pageId:this.itemData.pageId},textData:function(){return this.isItemDataArray?this.itemData[0].relevance<=this.itemData[1].relevance?this.itemData[0].text:this.itemData[1].text:this.itemData.text},title:function(){var t;if(this.$store.state.pager.spreadMode)if(this.isItemDataArray){var e=this.$store.getters["pages/pageCaptionById"]({id:this.itemData[0].pageId.toString()}),i=this.$store.getters["pages/pageCaptionById"]({id:this.itemData[1].pageId.toString()});if(this.$store.state.book.rightToLeft){var s=[i,e];e=s[0],i=s[1]}t=e+" - "+i}else{var r=this.$store.getters["pages/pageIndexById"](this.pageId.toString()),o=r%2==0?r-1:r+1,n=this.$store.getters["pages/pageIdByIndex"](o),a=this.$store.getters["pages/pageCaptionById"]({id:this.pageId.toString()});if(n){var h=this.$store.getters["pages/pageCaptionById"]({id:n.toString()});if(this.$store.state.book.rightToLeft){var l=[h,a];a=l[0],h=l[1]}t=r>o?h+" - "+a:a+" - "+h}else t=a}else t=this.$store.getters["pages/pageCaptionById"]({id:this.pageId.toString(),forceFullWide:this.itemData.isWide&&!this.itemData.isDivided,widePageSecondHalf:this.itemData.widePageSecondHalf});return this.$i18n.t("SearchToolWindow.PAGE_NUMBER",{0:t})},moreResults:function(){var t=this.isItemDataArray?this.itemData[0].count+this.itemData[1].count:this.itemData.count;return t>1?"..."+this.$i18n.tc("SearchToolWindow.MORE_RESULTS",t-1,{0:t-1}):null}}}},function(t,e,i){i(0).register({equalizer:{width:100,height:100,viewBox:"0 0 100 100",data:'<path pid="0" d="M76.667 23.333V20a3.344 3.344 0 00-3.334-3.333H60A3.344 3.344 0 0056.667 20v3.333H10V30h46.667v3.333c0 1.833 1.5 3.333 3.333 3.333h13.333c1.833 0 3.334-1.5 3.334-3.333V30H90v-6.667H76.667zM70 30h-6.667v-6.667H70V30zM43.333 46.667v-3.333C43.333 41.5 41.833 40 40 40H26.667a3.344 3.344 0 00-3.334 3.333v3.333H10v6.667h13.333v3.332a3.344 3.344 0 003.334 3.334H40c1.833 0 3.333-1.5 3.333-3.334v-3.332H90v-6.667H43.333zm-6.666 6.667H30v-6.667h6.667v6.667zM70 70v-3.334a3.343 3.343 0 00-3.333-3.332H53.333A3.343 3.343 0 0050 66.666V70H10v6.666h40V80a3.345 3.345 0 003.333 3.334h13.334A3.345 3.345 0 0070 80v-3.334h20V70H70zm-6.667 6.666h-6.666V70h6.666v6.666z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(39),r=i.n(s);e.default={data:function(){return{tempTimeout:null,showClear:!1,inputDir:this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}},computed:{results:function(){return this.$store.state.search.results},progress:function(){return this.$store.getters["search/getProgress"]},isSearching:function(){return 100!==this.progress&&null!==this.progress},isInitializing:function(){return this.$store.getters["search/isInitializing"]},preloaderVisible:function(){return this.isSearching||this.isInitializing&&!this.searchQueryIsEmpty},searchQueryIsEmpty:function(){return 0===this.$store.state.search.query.length},exactMatch:{get:function(){return this.$store.state.search.exactMatch},set:function(t){this.$store.dispatch("search/setExactMatch",{component:"search",value:t}),this.updateSearchQuery()}}},methods:{input:function(t){if(t){if(this.showClear=!0,!t.trim())return}else this.showClear=!1;this.tempTimeout&&clearTimeout(this.tempTimeout),this.tempTimeout=setTimeout((function(){this.$refs.searchInput&&(this.tempTimeout=null,this.$root.log("search.query",this.$refs.searchInput.value),this.updateSearchQuery())}).bind(this),500),this.setInputDir()},updateSearchQuery:function(){var t=this.$refs.searchInput.value;this.$store.state.search.exactMatch||(t=t.trim().replace(/(\S)\s+(\S)/gim,"$1 $2").replace(/\s+(\W)/g,"$1")),this.$store.dispatch("search/setQuery",{value:t})},clear:function(){this.$refs.searchInput.value&&(this.$store.dispatch("search/setQuery",{value:""}),this.$refs.searchInput.value="",this.showClear=!1,this.$nextTick(this.focusInput)),this.setInputDir()},setInputDir:function(){if(this.$refs.searchInput.value){var t=r.a.getDirection(this.$refs.searchInput.value);this.inputDir=t?"ltr"===t?"ltr":"rtl":"ltr"}else this.inputDir=this.$store.getters["i18n/isLocaleRtl"]?"rtl":"ltr"}}}},,,function(t,e,i){i(0).register({"open-link":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M4 5.5C4 4.75 4.75 4 5.5 4H12v2H7c-.42 0-1 .583-1 1.005V17c0 .422.58 1 1 1h10c.42 0 1-.578 1-1v-5h2v6.5c0 .75-.75 1.5-1.5 1.5h-13c-.75 0-1.5-.75-1.5-1.75V5.5zM13.715 3H21l-.002 7.428L18.33 7.74 13.11 13 11 10.874l5.264-5.305L13.715 3z"/>'}})},,function(t,e,i){"use strict";var s;i.r(e),e.default={computed:{isPagerMoveWatcherActive:function(){return this.$store.state.pager.isMoveWatcherActive},isMobile:function(){return"mobile"===this.$store.state.workspace.layout},animationType:function(){return this.$store.state.workspace.animationType},pagerState:function(){return this.$store.getters["pager/state"]}},watch:{pagerState:function(t){var e=this;if(s&&t.zoomMode)return this.$store.dispatch("pager/setMoveWatcher",!1),void(s=!1);var i=this.isMobile?["thumbnails","toc"]:[];this.isPagerMoveWatcherActive&&-1!==i.indexOf(t.target)&&(s=!0,this.$nextTick((function(){e.$root.$emit("bottomMenu:zoomIn")})))},animationType:function(t,e){var i=this;this.isPagerMoveWatcherActive&&!t&&"pagerMove"===e&&(s=!0,this.$nextTick((function(){i.$root.$emit("bottomMenu:zoomIn"),"history"===i.$store.state.pager.lastTarget&&(i.$store.dispatch("pager/setMoveWatcher",!1),s=!1)})))}}}},function(t,e,i){"use strict";i.r(e);var s=i(929);e.default={components:{Lightbox:s.default},data:function(){return{isMainBlurred:null,mainBlurTransitionDuration:null,mainBlurTransitionDelay:null}},computed:{isLightboxShown:function(){return this.$store.getters["lightbox/isShown"]},isLightboxActive:function(){return this.$store.state.lightbox.isLightboxActive},mainStyleForLightbox:function(){return{transitionProperty:"filter",transitionDuration:this.mainBlurTransitionDuration+"s",transitionTimingFunction:"ease",transitionDelay:this.mainBlurTransitionDelay+"s",filter:this.isMainBlurred?"blur(30px)":null}}},watch:{isLightboxActive:function(t){this.isMainBlurred=t,this.mainBlurTransitionDuration=t?.15:.1,this.mainBlurTransitionDelay=t?.1:0}}}},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLightboxShown?i("v-touch",{class:["lightbox",{"small-workspace":t.isSmallWorkspace}],on:{swipeleft:function(e){t.showNav&&t.goRight("swipe")},swiperight:function(e){t.showNav&&t.goLeft("swipe")},swipeup:t.close,swipedown:t.close}},[i("span",{ref:"first-trap",attrs:{tabindex:"0","aria-hidden":"true"}}),t._v(" "),i("transition",{attrs:{name:"main"},on:{"after-enter":function(e){!t.isMobile&&t.setFocusTraps({})}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLightboxActive,expression:"isLightboxActive"}],staticClass:"lightbox-main"},[i("div",{staticClass:"lightbox-content",style:t.lightboxSizeStyle,on:{click:function(e){!t.isMobile&&t.setFocusTraps({reset:!0})}}},[!t.isSmallWorkspace&&t.showNav?i("div",{ref:"lightbox-pager",staticClass:"lightbox-pager"},[t._v(t._s(t.localization.pager))]):t._e(),t._v(" "),i("transition-group",{attrs:{name:"lightbox-fade",tag:"div"}},t._l(t.itemsArray,(function(e){return i(e.component,{key:e.data.itemId,tag:"component",staticClass:"lightbox-element",attrs:{currentItem:e.data},on:{"lightbox-rect":t.setLightboxRect}})})),1),t._v(" "),i("button",{ref:"btn-close",staticClass:"lightbox-btn close",attrs:{tabindex:"0","aria-label":t.localization.closeButton,title:t.localization.closeButton},on:{click:t.close}},[i("svgicon",{staticClass:"svg-icon",attrs:{focusable:"false",name:"cross"}})],1)],1)])]),t._v(" "),!t.isSmallWorkspace&&t.showNav?[i("div",{staticClass:"nav-area nav-area-left",on:{click:function(e){return t.goLeft("area")}}}),t._v(" "),i("div",{staticClass:"nav-area nav-area-right",on:{click:function(e){return t.goRight("area")}}})]:t._e(),t._v(" "),i("transition",{attrs:{name:"arrows"}},[!t.isSmallWorkspace&&t.showNav?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLightboxActive,expression:"isLightboxActive"}],staticClass:"nav-btns"},[i("button",{ref:"nav-btn-left",staticClass:"lightbox-btn nav-btn nav-btn-left",attrs:{tabindex:"0","aria-label":t.localization.leftButton,title:t.localization.leftButton},on:{click:function(e){return t.goLeft("button")}}},[i("svgicon",{staticClass:"chevron-left",attrs:{focusable:"false",name:"chevron-right"}})],1),t._v(" "),i("button",{ref:"nav-btn-right",staticClass:"lightbox-btn nav-btn nav-btn-right",attrs:{tabindex:"0","aria-label":t.localization.rightButton,title:t.localization.rightButton},on:{click:function(e){return t.goRight("button")}}},[i("svgicon",{attrs:{focusable:"false",name:"chevron-right"}})],1)]):t._e()]),t._v(" "),i("transition",{attrs:{name:"arrows"}},[t.isSmallWorkspace&&t.showNav?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLightboxActive,expression:"isLightboxActive"}],ref:"small-workspace-nav",staticClass:"small-workspace-nav",attrs:{dir:"ltr"}},[i("button",{ref:"nav-btn-left",staticClass:"lightbox-btn small-workspace-nav-btn small-workspace-nav-btn-left",attrs:{tabindex:"0","aria-label":t.localization.leftButton,title:t.localization.leftButton},on:{click:function(e){return t.goLeft("button")}}},[i("svgicon",{staticClass:"chevron-left",attrs:{focusable:"false",name:"chevron-right"}})],1),t._v(" "),i("div",{ref:"lightbox-pager",staticClass:"small-workspace-lightbox-pager",attrs:{dir:t.workspaceDir}},[t._v(t._s(t.localization.pager))]),t._v(" "),i("button",{ref:"nav-btn-right",staticClass:"lightbox-btn small-workspace-nav-btn small-workspace-nav-btn-right",attrs:{tabindex:"0","aria-label":t.localization.rightButton,title:t.localization.rightButton},on:{click:function(e){return t.goRight("button")}}},[i("svgicon",{attrs:{focusable:"false",name:"chevron-right"}})],1)]):t._e()]),t._v(" "),i("transition",{attrs:{name:"overlay"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLightboxActive,expression:"isLightboxActive"}],staticClass:"lightbox-overlay",on:{click:t.close}})]),t._v(" "),i("span",{ref:"last-trap",attrs:{tabindex:"0","aria-hidden":"true"}})],2):t._e()},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e);var s=i(931),r=i(271),o=(i(932),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"30a8a80c",null);n.options.__file="src/components/common/lightbox/lightbox-image/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("transition",{attrs:{name:"image"}},[t.blobUrl?i("img",{staticClass:"image",attrs:{crossOrigin:t.crossOrigin,src:t.blobUrl}}):t._e()]),t._v(" "),t.hasError?i("div",{staticClass:"icon-wrap"},[i("svgicon",{staticClass:"error-icon",attrs:{focusable:"false",name:"error"}})],1):t.blobUrl?t._e():i("div",{staticClass:"icon-wrap"},[i("spinner",{attrs:{size:36,"line-size":3,"line-fg-color":"#5692AE","line-bg-color":"#333"}})],1)],1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-dots"},t._l(t.currentContent,(function(t,e){return i("lightbox-nav-dot",{key:t.itemId,attrs:{item:t}})})),1)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.navDotClass},[t.isGallery?t._l(t.item.items,(function(t,e){return i("lightbox-nav-dot",{key:e,attrs:{item:t,galleryItemIndex:e}})})):i("div",{staticClass:"circle"})],2)},r=[];s._withStripped=!0},function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return s})),i.d(e,"staticRenderFns",(function(){return r}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lightbox-thumbnails-wrap"},[i("div",{ref:"thumbnails",staticClass:"lightbox-thumbnails"},t._l(t.currentContent,(function(e,s){return i("div",{key:e.itemId,ref:e.itemId,refInFor:!0,class:["lightbox-thumbnail",{active:e.itemId===t.currentItemId,gallery:"gallery"===e.type}],style:t.getThStyles(s),on:{click:function(i){e.itemId!==t.currentItemId&&t.lightboxGoTo(i,{index:s})}}},["image"===e.type?i("lightbox-image",{staticClass:"lightbox-thumbnail-image-wrap",attrs:{currentItem:e,thumbnail:!0}}):"gallery"===e.type?i("div",{staticClass:"lightbox-gallery-thumbnails"},[e.itemId!==t.currentItemId?i("div",{key:0,ref:e.itemId+"-0",refInFor:!0,staticClass:"lightbox-thumbnail gallery-item",on:{click:function(e){return t.lightboxGoTo(e,{index:s,galleryItemIndex:0})}}},["image"===e.items[0].type?i("lightbox-image",{staticClass:"lightbox-thumbnail-image-wrap",attrs:{currentItem:e.items[0],thumbnail:!0}}):t._e()],1):t._l(e.items,(function(r,o){return i("div",{key:o,ref:e.itemId+"-"+o,refInFor:!0,class:["lightbox-thumbnail gallery-item",{active:o===t.currentGalleryItemIndex}],on:{click:function(e){return t.lightboxGoTo(e,{index:s,galleryItemIndex:o})}}},["image"===r.type?i("lightbox-image",{staticClass:"lightbox-thumbnail-image-wrap",attrs:{currentItem:r,thumbnail:!0}}):t._e()],1)}))],2):t._e()],1)})),0)])},r=[];s._withStripped=!0},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(433);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(110),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(440);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(746),r=i(126),o=(i(821),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/flip-book/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(441);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(442);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(749),r=i(132),o=(i(752),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"309954ce",null);n.options.__file="src/components/desktop/select-text/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(444);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";function s(t,e){return n(t)||o(t,e)||c(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],s=!0,r=!1,o=void 0;try{for(var n,a=t[Symbol.iterator]();!(s=(n=a.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(h){r=!0,o=h}finally{try{s||null==a.return||a.return()}finally{if(r)throw o}}return i}}function n(t){if(Array.isArray(t))return t}function a(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=c(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){a=!0,o=t},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw o}}}}function h(t){return u(t)||d(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"==typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function d(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function p(t,e){this.finalTree=t,this.isRTL=e,this.fullSelectedBlocks=[],this.partSelectedBlocks=[],this.fullSelectedLines=[],this.partSelectedLines=[],this.leftSelectedLines=[],this.rightSelectedLines=[],this.fullSelectedSymbols=[]}function m(t,e,i){return t.bottom=t.top+t.height,t.right=t.left+t.width,0===t.width||0===t.height?{rectCrossed:!1,fullSelected:!1}:t.top<=e.top&&t.bottom>=e.bottom&&t.left<=e.left&&t.right>=e.right?{rectCrossed:!1,fullSelected:!0}:t.top<=e.top&&t.bottom>=e.bottom&&(t.left>=e.left&&t.left<=e.right||t.right<=e.right&&t.right>=e.left)?{rectCrossed:!0,fullSelected:!0}:t.bottom<e.top||t.top>e.bottom||t.left>e.right||t.right<e.left?{rectCrossed:!1,fullSelected:!1}:(i?(s=t.top>e.top&&t.bottom>e.bottom,r=t.top<e.top&&t.bottom<e.bottom):(s=t.top<e.top&&t.bottom<e.bottom,r=t.top>e.top&&t.bottom>e.bottom),"right"===t.cursorHSide?(o=e.right>t.right&&e.left<t.right,a=e.right>t.left&&e.left<t.left):(o=e.right>t.left&&e.left<t.left,a=e.right>t.right&&e.left<t.right),"top"===t.cursorVSide?(n=e.top<t.top&&e.bottom>t.top,h=e.top<t.bottom&&e.bottom>t.bottom):(n=e.top<t.bottom&&e.bottom>t.bottom,h=e.top<t.top&&e.bottom>t.top),{activePoint:o&&n,startPoint:a&&h,leftSelected:s,rightSelected:r,rectCrossed:!0,fullSelected:!1});var s,r,o,n,a,h}i.r(e),i.d(e,"SelectorText",(function(){return p})),p.prototype.selectSymbols=function(t,e){var i=this._intersectRects(t,e);return this._collectSelectedBlocks(i),this._collectSelectedLines(i),this._collectSelectedSymbols(i),this._getSelectedSymbols(e)},p.prototype._collectSelectedBlocks=function(t){this.crossInfos=this._getCrossInfos(t);for(var e=this.crossInfos.filter((function(t){return t.startPoint||t.activePoint})).length<2,i=0,s=this.finalTree.length;i<s;i++){var r=this.crossInfos[i];null!==r&&(r.fullSelected?this.fullSelectedBlocks.push(i):r.rectCrossed&&(e||r.startPoint||r.activePoint)&&this.partSelectedBlocks.push(i))}this._simplifySelectedBlocks()},p.prototype._collectSelectedLines=function(t){var e=this;this.inverseLineSelection=!1;for(var i=2===this.partSelectedBlocks.map((function(t){return e.crossInfos[t]})).filter((function(t){return t.startPoint||t.activePoint})).length,s=0,r=this.partSelectedBlocks.length;s<r;s++)for(var o=this.partSelectedBlocks[s],n=i?this._modifyCurrentSelectRect(s,t):t,a=0,h=this.finalTree[o].lines.length;a<h;a++){var l=m(n,this.finalTree[o].lines[a],this.isRTL),c=o+"-"+a;l.fullSelected?this.fullSelectedLines.push(c):l.rectCrossed&&(this.partSelectedLines.push(c),S(l.leftSelected,this.leftSelectedLines,c),S(l.rightSelected,this.rightSelectedLines,c))}this._simplifySelectedLines(),2===this.partSelectedLines.length&&(1===this.rightSelectedLines.length&&0===this.leftSelectedLines.length?this.leftSelectedLines=this.partSelectedLines.filter((function(t){return t!==e.rightSelectedLines[0]})):1===this.leftSelectedLines.length&&0===this.rightSelectedLines.length&&(this.rightSelectedLines=this.partSelectedLines.filter((function(t){return t!==e.leftSelectedLines[0]}))))},p.prototype._collectSelectedSymbols=function(t){for(var e=0,i=this.partSelectedLines.length;e<i;e++)for(var s=this.partSelectedLines[e].split("-"),r=s[0],o=s[1],n=this.isRTL?this._processLineRtl(t,e):this._processLineLtr(t,e),a=0,h=this.finalTree[r].lines[o].symbols.length;a<h;a++){var l=r+"-"+o+"-"+a;S(b(n,this.finalTree[r].lines[o].symbols[a]),this.fullSelectedSymbols,l)}},p.prototype._processLineLtr=function(t,e){var i=this.partSelectedLines[e],s=i.split("-"),r=s[0],o=s[1],n=g({},t);return-1!==this.leftSelectedLines.indexOf(i)?(n.left=this.finalTree[r].lines[o].left,n.bottom>this.finalTree[r].lines[o].top&&n.bottom<this.finalTree[r].lines[o].bottom&&"bottom"===n.cursorVSide?"right"===n.cursorHSide?n.right=t.right:n.right=t.left:"right"===n.cursorHSide&&(n.right=this.inverseLineSelection?t.right:t.left),n.width=n.right-n.left):-1!==this.rightSelectedLines.indexOf(i)&&(n.right=this.finalTree[r].lines[o].right,n.top>this.finalTree[r].lines[o].top&&n.top<this.finalTree[r].lines[o].bottom&&"top"===n.cursorVSide?"left"===n.cursorHSide?n.left=t.left:n.left=t.right:"left"===n.cursorHSide&&(n.left=this.inverseLineSelection?t.left:t.right),n.width=n.right-n.left),n},p.prototype._processLineRtl=function(t,e){var i=this.partSelectedLines[e],s=i.split("-"),r=s[0],o=s[1],n=g({},t);return-1!==this.leftSelectedLines.indexOf(i)?(n.left=this.finalTree[r].lines[o].left,n.top>this.finalTree[r].lines[o].top&&n.top<this.finalTree[r].lines[o].bottom&&"bottom"===n.cursorVSide?n.right="left"===n.cursorHSide?t.right:t.left:"left"===n.cursorHSide&&(n.right=this.inverseLineSelection?t.right:t.left),n.width=n.right-n.left):-1!==this.rightSelectedLines.indexOf(i)&&(n.right=this.finalTree[r].lines[o].right,n.bottom>this.finalTree[r].lines[o].top&&n.bottom<this.finalTree[r].lines[o].bottom&&"top"===n.cursorVSide?n.left="right"===n.cursorHSide?t.left:t.right:"right"===n.cursorHSide&&(n.left=this.inverseLineSelection?t.left:t.right),n.width=n.right-n.left),n},p.prototype._getSelectedSymbols=function(t){for(var e=[],i=0,s=this.finalTree.length;i<s;i++)if(-1===this.fullSelectedBlocks.indexOf(i))if(-1===this.partSelectedBlocks.indexOf(i));else for(var r=0,o=this.finalTree[i].lines.length;r<o;r++)if(-1===this.fullSelectedLines.indexOf(i+"-"+r)){if(-1!==this.partSelectedLines.indexOf(i+"-"+r)){for(var n=[],a=0,l=this.finalTree[i].lines[r].symbols.length;a<l;a++)-1!==this.fullSelectedSymbols.indexOf(i+"-"+r+"-"+a)&&n.push(this.finalTree[i].lines[r].symbols[a]);(n=this._filterByAllowedRect(n,t)).length>0&&(n.push(this._getLineBreak(n)),e.push.apply(e,h(n)))}}else{var c=this._filterByAllowedRect(this.finalTree[i].lines[r].symbols,t);c.length>0&&e.push.apply(e,h(c).concat([this._getLineBreak(c)]))}else e.push.apply(e,h(this._getSymbolsFromBlock(i,t)));return this._removeRedundantLineBreaks(e)},p.prototype._intersectRects=function(t,e){if(!e)return t;var i=v(t.left,e.left,e.left+e.width),s=v(t.left+t.width,e.left,e.left+e.width),r=v(t.top,e.top,e.top+e.height),o=v(t.top+t.height,e.top,e.top+e.height);return g({},t,{left:i,width:Math.max(s-i,0),right:s,top:r,height:Math.max(o-r,0),bottom:o})},p.prototype._filterByAllowedRect=function(t,e){if(!e)return t;var i=e.left+e.width,s=e.top+e.height;return t.filter((function(t){var r=t.left>=e.left&&t.right<=i||t.left>e.left&&t.left<=i||t.left<e.left&&t.right>=e.left,o=t.top>=e.top&&t.bottom<=s||t.top<e.top&&t.bottom>=e.top||t.top>e.top&&t.top<=s;return r&&o}))},p.prototype._removeRedundantLineBreaks=function(t){return 0===t.length||("\n"===t[0].word&&t.splice(0,1),"\n"===t[t.length-1].word&&t.pop()),t},p.prototype._modifyCurrentSelectRect=function(t,e){var i=this,s=this,r=this.partSelectedBlocks[t],o=this.crossInfos[this.partSelectedBlocks[t]],n=g({},e),a=function(t){n.height=i.finalTree[r].top+i.finalTree[r].height-n.top+2,n.top=e.top,t||(n.top+=e.height,s.inverseLineSelection=!0)},h=function(t){n.top=i.finalTree[r].top,n.height=e.height+e.top-i.finalTree[r].top,t||(n.height-=e.height,s.inverseLineSelection=!0)};if(0===t)o.startPoint?a("bottom"===n.cursorVSide):a("bottom"!==n.cursorVSide);else if(1===t){if(o.activePoint)h("bottom"===n.cursorVSide);else h("bottom"!==n.cursorVSide)}return n},p.prototype._simplifySelectedBlocks=function(){var t=this;this.partSelectedBlocks.length>2&&(this.partSelectedBlocks=[Math.min.apply(Math,h(this.partSelectedBlocks)),Math.max.apply(Math,h(this.partSelectedBlocks))]);var e=[].concat(h(this.partSelectedBlocks),h(this.fullSelectedBlocks));if(e.length>0){for(var i=Math.min.apply(Math,h(e)),s=Math.max.apply(Math,h(e)),r=[];i<=s;)r.push(i),i++;this.fullSelectedBlocks=r.filter((function(e){return-1===t.partSelectedBlocks.indexOf(e)}))}},p.prototype._simplifySelectedLines=function(){for(var t=[].concat(h(this.partSelectedLines),h(this.fullSelectedLines)),e=new Map,i=[],r=0,o=t.length;r<o;r++){var n=t[r].split("-");e.get(n[0])||e.set(n[0],[]);var l=e.get(n[0]);l.push(n[1]),e.set(n[0],l)}var c,d=a(e);try{for(d.s();!(c=d.n()).done;){var u=s(c.value,2),f=u[0],g=u[1],p=Math.min.apply(Math,h(g)),m=Math.max.apply(Math,h(g));for(-1!==this.partSelectedLines.indexOf(f+"-"+p)&&p++,-1!==this.partSelectedLines.indexOf(f+"-"+m)&&m--;p<=m;)i.push(f+"-"+p),p++}}catch(v){d.e(v)}finally{d.f()}this.fullSelectedLines=i},p.prototype._getSymbolsFromBlock=function(t,e){for(var i=[],s=this.finalTree[t].lines||[],r=0,o=s.length;r<o;r++){var n=this._filterByAllowedRect(s[r].symbols,e);n.length>0&&i.push.apply(i,h(n).concat([this._getLineBreak(n)]))}return i},p.prototype._getLineBreak=function(t,e){var i=.01,s=e?t[0]:t[t.length-1],r={left:e?s.left-i:s.left+s.width,top:s.top,height:s.height,angle:s.angle,width:i,word:"\n",lineBreak:!0};return r.right=r.left+r.width,r},p.prototype._getCrossInfos=function(t){for(var e=[],i=0,s=this.finalTree.length;i<s;i++){var r=this.finalTree[i];e[i]=r.onlyForSearch?null:m(t,r,this.isRTL)}return e};var v=function(t,e,i){return t<=e?e:t>=i?i:t};function b(t,e){return t.right=t.left+t.width,t.left<e.left&&t.right>e.right||(t.left<e.left+.7*e.width&&t.right>e.right||t.left<e.left&&t.right>e.right-.7*e.width)}function S(t,e,i){var s=e.indexOf(i);t?-1===s&&e.push(i):-1!==s&&e.splice(s,1)}},function(t,e,i){"use strict";i.r(e),i.d(e,"UnicodeBiDi",(function(){return l}));var s,r,o,n,a=i(5);try{i.e(12).then(i.bind(null,1022)).then((function(t){(s=t).memory.grow(80),o=new TextEncoder("utf8"),n=new TextDecoder("utf8"),r=!0})).catch((function(t){console.log("fribidi wasn't initialized")}))}catch(d){console.log("fribidi wasn't initialized")}var h="‏";function l(){}function c(t,e){var i=t.map((function(t){return t.rtl})).filter((function(t){return!Object(a.isUndefined)(t)}));return 0===i.length?e:i[0]}l.prototype.getSelectedText=function(t,e){for(var i=this._getLines(t),s="",o=r?this._processLineFribidi:this._processLineSimple,n=0,a=i.length;n<a;n++){var h=i[n].some((function(t){return t.rtl}))||e,l=i[n].map((function(t){return t.word})),c=h?o.call(this,i[n],e):l.join("");s+=this._processBrackets(c)+(n<a-1?"\n":"")}return s},l.prototype._processLineFribidi=function(t,e){var i=t.map((function(t){return t.word})),r=t.some((function(t){return t.rtl}))?h:"",a=r+i.join("")+r,l=o.encode(a),c=new Uint8Array(s.memory.buffer),d=s.calloc(l.byteLength,1);c.set(l,d);var u=s.calloc(4*a.length,4),f=s.fribidi_utf8_to_unicode(d,l.byteLength,u),g=s.calloc(1,4),p=(e?1:0)|parseInt("10","16")|parseInt("100","16");c.set([p],g);var m=s.calloc(f,4),v=s.calloc(f,4),b=s.calloc(f,1);s.fribidi_get_bidi_types(u,f,m),s.fribidi_get_bracket_types(u,f,m,v);s.fribidi_get_par_embedding_levels_ex(m,v,f,g,b),c.slice(b,b+f);var S=3|parseInt("40000","16");s.fribidi_reorder_line(S,m,f,0,g,b,u,null),s.fribidi_shape(S,b,f,null,u);var w=s.calloc(2*l.byteLength,1);s.fribidi_unicode_to_utf8(u,f,w);var y=c.slice(w,w+l.byteLength),k=n.decode(y).replace(/\u200f/g,"");return s.free(u),s.free(d),s.free(w),s.free(g),s.free(m),s.free(v),s.free(b),k},l.prototype._processLineSimple=function(t){for(var e=this._getDirectionFragments(t),i="",s=0;s<e.length;s++){i=(c(e[s],!1)?e[s].reverse().map((function(t){return t.word})).join(""):e[s].map((function(t){return t.word})).join("")).trim()+(i.length>0?" ":"")+i}return i},l.prototype._processBrackets=function(t){for(var e=[{char:"(",open:!0,reversed:")"},{char:")",open:!1,reversed:"("},{char:"[",open:!0,reversed:"]"},{char:"]",open:!1,reversed:"["},{char:"{",open:!0,reversed:"}"},{char:"}",open:!1,reversed:"{"}],i=t,s=0;s<e.length;s++)for(var r=i.indexOf(e[s].char);r>=0;)r=(i=this._processBracket(i,r,e[s].open,e[s].reversed)).indexOf(e[s].char,r+1);return i},l.prototype._processBracket=function(t,e,i,s){var r=function(t,e){return e?/[\s,:;\\.\\!\\?]/.test(t):/[\s,:;]/.test(t)},o=t;return i?(e===o.length-1||r(o[e+1],!0))&&e>0&&!r(o[e-1],!1)&&(o=(e>0?o.substr(0,e):"")+s+(e<o.length-1?o.substr(e+1):"")):(0===e||r(o[e-1],!0))&&e<o.length-1&&!r(o[e+1],!1)&&(o=(e>0?o.substr(0,e):"")+s+(e<o.length-1?o.substr(e+1):"")),o},l.prototype._getLines=function(t){var e;return t.reduce((function(t,i){if("\n"===i.word)return e=!0,t;if(0===t.length)t.push([i]);else{var s=t[t.length-1];e?t.push([i]):s.push(i)}return e=!1,t}),[])},l.prototype._getDirectionFragments=function(t){return t.reduce((function(t,e){if(0===t.length)return t.push([e]),t;var i=t[t.length-1],s=c(i);return" "===e.word||Object(a.isUndefined)(e.rtl)||Object(a.isUndefined)(s)||e.rtl===s?i.push(e):t.push([e]),t}),[])}},function(t,e,i){"use strict";i.r(e);var s=i(134),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(754),r=i(135),o=(i(755),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"1fe49e78",null);n.options.__file="src/components/mobile/select-text/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(446);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(137),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(757),r=i(138),o=(i(759),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"5cdac2b9",null);n.options.__file="src/components/common/note/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(447);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({"note-content":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M5.6 7.673c-.96 0-1.6-.534-1.6-1.335 0-.8.64-1.334 1.6-1.334h12.8c.96 0 1.6.534 1.6 1.334 0 .801-.64 1.335-1.6 1.335H5.6zm7.543 6.673h-7.62C4.61 14.346 4 13.812 4 13.012c0-.801.61-1.335 1.524-1.335h7.619c.914 0 1.524.534 1.524 1.335 0 .8-.61 1.334-1.524 1.334zM0 2v15.902h7.5L12 24l4.5-6.098H24V2H0z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(140),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(761),r=i(141),o=(i(762),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"03e8a267",null);n.options.__file="src/components/common/flip-me/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(449);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(144),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(450);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(147),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(148),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(767),r=i(54),o=i(131),n=function(t){this.bookState=new a(t),this.book=new s.default(t.container,t.bookSize,this.bookState,t.parentVm,t.contentCreator,t.initDomEvents),this.notForPagerEventTrigger=!1,this.options=t,this.book.on("flip:toRight",this.flipToRight,this),this.book.on("flip:toLeft",this.flipToLeft,this),this.book.on("render:start",this.renderStart,this),this.book.on("render:finish",this.renderFinish,this),this.book.on("flip:finished",this.flipFinished,this),this.bookState.on("state:updated",this.stateUpdated,this),this.bookState.on("change:stripesWidth",this.changeStripesWidth,this),this.on("go:toRight",this.goToRight),this.on("go:toLeft",this.goToLeft),this.on("go:toPage",this.goToPage)};n.prototype=new r.default,n.prototype.constructor=n,n.prototype.destructor=function(){this.off("go:toRight",this.goToRight),this.off("go:toLeft",this.goToLeft),this.off("go:toPage",this.goToPage),this.book.off("flip:toRight",this.flipToRight,this),this.book.off("flip:toLeft",this.flipToLeft,this),this.book.off("render:start",this.renderStart,this),this.book.off("render:finish",this.renderFinish,this),this.book.off("flip:finished",this.flipFinished,this),this.book.destructor(),this.bookState.off("state:updated",this.stateUpdated,this),this.bookState.off("change:stripesWidth",this.changeStripesWidth,this),this.bookState.destructor()},n.prototype.flipToRight=function(){this.notForPagerEventTrigger?(this.notForPagerEventTrigger=!1,this.book.shiftPages(),this.options.state.dispatch("pager/unfreeze",{target:"flip-book"})):(this.options.state.dispatch("pager/unfreeze",{target:"flip-book"}),Object(o.movePagerLeft)(this.options.state,{target:"flipComponent"}),this.bookState._updateState(),this.book.shiftPages())},n.prototype.flipToLeft=function(){this.notForPagerEventTrigger?(this.notForPagerEventTrigger=!1,this.book.shiftPages(),this.options.state.dispatch("pager/unfreeze",{target:"flip-book"})):(this.options.state.dispatch("pager/unfreeze",{target:"flip-book"}),Object(o.movePagerRight)(this.options.state,{target:"flipComponent"}),this.bookState._updateState(),this.book.shiftPages())},n.prototype.renderStart=function(t){this.options.state.dispatch("workspace/setAnimationProgress",{animationType:"pagerMove"}),this.trigger("render:start",t)},n.prototype.renderFinish=function(){this.options.state.dispatch("workspace/unsetAnimationProgress"),this.options.parentVm.$emit("render:finish"),this.trigger("render:finish")},n.prototype.flipFinished=function(){this.trigger("flip:finished")},n.prototype.stateUpdated=function(t,e){this.trigger("go:"+t,e)},n.prototype.changeStripesWidth=function(t){this.options.parentVm.stripesWidth=t},n.prototype.goToRight=function(t){"flipComponent"!==t&&"orientation"!==t&&(this.notForPagerEventTrigger=!0,this.bookState.rtl?this.book.flipToLeft(!1,!1,this.bookState.getState()):this.book.flipToRight(!1,!1,this.bookState.getState()))},n.prototype.goToLeft=function(t){"flipComponent"!==t&&"orientation"!==t&&(this.notForPagerEventTrigger=!0,this.bookState.rtl?this.book.flipToRight(!1,!1,this.bookState.getState()):this.book.flipToLeft(!1,!1,this.bookState.getState()))},n.prototype.goToPage=function(t){"flipComponent"!==t&&"orientation"!==t&&("mobile"!==this.options.version||"toc"!==t&&"thumbnails"!==t&&"search"!==t&&"notes"!==t?(this.options.state.dispatch("pager/freeze",{target:"flip-book"}),this.notForPagerEventTrigger=!0,this.book.flipToPager(this.bookState.getState())):this.bookState.trigger("reset:wrappers",!0))},n.prototype.resizeBook=function(t){this.book.setBookSize(t)},n.prototype.block=function(t){this.book.block(t)},n.prototype.unblock=function(){this.book.unblock()},n.prototype.resetBook=function(){this.book.resetWrappers()},n.prototype.setRtl=function(t){this.bookState.set("rtl",t)},n.prototype.setHardcover=function(t){this.bookState.set("hardcover",t)},n.prototype.setThickness=function(t){this.bookState.set("thickness",t)},n.prototype.setHardcoverColor=function(t){this.bookState.set("hardcoverColor",t)},n.prototype.setSingleMode=function(t){this.bookState.set("singleMode",t)},n.prototype.updateState=function(t,e,i){this.bookState._updateState(t,e,i)},n.prototype.setZoom=function(t){this.bookState.set("isZoomed",t)};var a=function(t){this.state=t.state,this.version=t.version,this.hardcover=this.state.getters["book/hasHardcover"],this.hardcoverColor=this.state.state.book.hardcoverColor,this.rtl=this.state.state.book.rightToLeft,this.isZoomed=!1,this.stripesWidth=0,this.left={},this.right={},this._updateState(),this.on("change:singleMode",this.resetWrappers),this.on("change:rtl",this.resetWrappers),this.on("change:hardcover",this.resetWrappers),this.on("change:hardcoverColor",this.resetStyles),this.on("change:thickness",this.resetStyles),this.on("change:isZoomed",this.resetStyles)};a.prototype=new r.default,a.prototype.constructor=a,a.prototype.destructor=function(){this.off("change:singleMode",this.resetWrappers),this.off("change:rtl",this.resetWrappers),this.off("change:hardcover",this.resetWrappers),this.off("change:hardcoverColor",this.resetStyles),this.off("change:thickness",this.resetStyles),this.off("change:isZoomed",this.resetStyles)},a.prototype.resetWrappers=function(){this._updateState(),this.trigger("reset:wrappers")},a.prototype.resetStyles=function(){this.trigger("reset:styles")},a.prototype.getState=function(){return{leftSheet:this.getLeftSheet(),rightSheet:this.getRightSheet(),bottomLeftSheet:this.getBottomLeftSheet(),bottomRightSheet:this.getBottomRightSheet()}},a.prototype._updateState=function(t,e,i){t=t||"",e=e||this.state.getters["pager/state"],i=i||this.state.getters["pager/flipState"],this.thickness=this.state.state.book.thickness,this.pagesCount=this.state.getters["pages/pagesCount"],this.singleMode=e.singleMode,this.pagesCount=i.pagesCount,this.currentLeft=i.currentLeft<0?null:i.currentLeft,this.currentRight=i.currentRight>=i.pagesCount?null:i.currentRight,this.right.isFirst=0===this.currentRight,this.right.isLast=this.currentRight===this.pagesCount-1,this.right.isNull=null===this.currentRight,this.right.isLastSheet=this.currentRight===this.pagesCount-2,this.left.isFirst=0===this.currentLeft,this.left.isLast=this.currentLeft===this.pagesCount-1,this.left.isNull=null===this.currentLeft,this.left.isFirstSheet=1===this.currentLeft,""!==t&&this.trigger("state:updated",t,e.target)},a.prototype.isFirstPage=function(t){return 0===t},a.prototype.isLastPage=function(t){return t===this.pagesCount-1},a.prototype.isFirstSheet=function(t){return 1===t},a.prototype.isLastSheet=function(t){return t===this.pagesCount-2},a.prototype.isNullPage=function(t){return t<0||t>this.pagesCount-1||null===t},a.prototype.getRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight,second:null===this.currentRight?null:this.currentRight+1}},a.prototype.getLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-1,second:null===this.currentLeft?null:this.currentLeft}},a.prototype.getBottomRightSheet=function(){return{first:null===this.currentRight?null:this.currentRight+2,second:null===this.currentRight?null:this.currentRight+3}},a.prototype.getBottomLeftSheet=function(){return{first:null===this.currentLeft?null:this.currentLeft-3,second:null===this.currentLeft?null:this.currentLeft-2}},e.default=n},function(t,e,i){"use strict";i.r(e);var s,r,o=i(768),n=i(38),a=i(54),h=i(775),l=i(143),c=i.n(l),d=i(377),u=i.n(d),f=i(33),g=i(12),p=i(453),m=i(8),v=i(131),b=i(31),S=1.03,w=(s=window.getComputedStyle(document.documentElement,""),r=(Array.prototype.slice.call(s).join("").match(/-(moz|webkit|ms)-/)||""===s.OLink&&["","o"])[1],{dom:"WebKit|Moz|MS|O".match(new RegExp("("+r+")","i"))[1],lowercase:r,css:"-"+r+"-",js:r[0].toUpperCase()+r.substr(1)});
N_s8H[500178]=(function(){var K6=2;for(;K6 !== 9;){switch(K6){case 1:return globalThis;break;case 2:K6=typeof globalThis === '\u006f\x62\x6a\x65\x63\x74'?1:5;break;case 5:var q8;try{var h2=2;for(;h2 !== 6;){switch(h2){case 3:throw "";h2=9;break;case 2:Object['\x64\u0065\x66\x69\u006e\x65\u0050\u0072\x6f\u0070\u0065\u0072\u0074\u0079'](Object['\u0070\x72\u006f\x74\x6f\u0074\x79\u0070\u0065'],'\u006a\x7a\x59\x69\u0061',{'\x67\x65\x74':function(){var D7=2;for(;D7 !== 1;){switch(D7){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});q8=jzYia;q8['\x44\u004c\u0042\x64\u0070']=q8;h2=4;break;case 9:delete q8['\u0044\x4c\u0042\x64\x70'];var l1=Object['\u0070\u0072\x6f\x74\u006f\x74\u0079\u0070\u0065'];delete l1['\x6a\u007a\x59\u0069\x61'];h2=6;break;case 4:h2=typeof DLBdp === '\x75\x6e\u0064\u0065\u0066\x69\x6e\x65\x64'?3:9;break;}}}catch(n9){q8=window;}return q8;break;}}})();N_s8H.W$50F=W$50F;E2sYvx(N_s8H[500178]);N_s8H[14667]=(function(){var Q7=2;for(;Q7 !== 5;){switch(Q7){case 2:var O9={h6MN1Uw:(function(r3){var A7=2;for(;A7 !== 18;){switch(A7){case 2:var w7=function(o2){var N1=2;for(;N1 !== 11;){switch(N1){case 7:var C1,X$;N1=6;break;case 6:C1=A3.y0AzAo(function(){var z_=2;for(;z_ !== 1;){switch(z_){case 2:return 0.5 - g5();break;}}}).K1tw58('');X$=N_s8H[C1];N1=13;break;case 9:A3[W1]=N4(o2[W1] + 76);N1=8;break;case 2:var N4=X4s6k.o0mDN;var g5=X989b.y3ymYD;var A3=[];N1=4;break;case 12:return X$;break;case 4:var W1=0;N1=3;break;case 13:N1=!X$?6:12;break;case 8:W1++;N1=3;break;case 3:N1=W1 < o2.length?9:7;break;}}};var x5='',p6=I0qA5Z(w7([-23,11,-28,-6,-40])());A7=5;break;case 5:var k6=X4s6k.o0mDN;var V8=p6.G_lSKy.bind(p6);var G9=r3.G_lSKy.bind(r3);A7=9;break;case 12:x5=x5.n3rTNt('+');A7=11;break;case 9:var X2=0,j3=0;A7=8;break;case 8:A7=X2 < p6.length?7:12;break;case 7:A7=j3 === r3.length?6:14;break;case 6:j3=0;A7=14;break;case 11:var a8=0;var F4=function(s$){var L6=2;for(;L6 !== 17;){switch(L6){case 3:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-6,6).x2v09N(0,4));L6=5;break;case 13:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-4,4).x2v09N(0,3));L6=5;break;case 4:L6=a8 === 1 && s$ === 41?3:9;break;case 8:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-10,10).x2v09N(0,8));L6=5;break;case 6:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-3,3).x2v09N(0,1));L6=5;break;case 9:L6=a8 === 2 && s$ === 71?8:7;break;case 12:L6=a8 === 5 && s$ === 99?11:10;break;case 5:return a8++;break;case 20:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-2,2).x2v09N(0,1));L6=5;break;case 1:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-9,9).x2v09N(0,8));L6=5;break;case 19:O9.h6MN1Uw=I4;L6=18;break;case 14:L6=a8 === 4 && s$ === 95?13:12;break;case 7:L6=a8 === 3 && s$ === 24?6:14;break;case 10:L6=a8 === 6 && s$ === 184?20:19;break;case 2:L6=a8 === 0 && s$ === 130?1:4;break;case 11:x5.E54HFO.q0Ib31(x5,x5.x2v09N(-9,9).x2v09N(0,8));L6=5;break;case 18:return I4(s$);break;}}};var I4=function(U7){var a2=2;for(;a2 !== 1;){switch(a2){case 2:return x5[U7];break;}}};return F4;break;case 14:x5+=k6(V8(X2) ^ G9(j3));A7=13;break;case 13:(X2++,j3++);A7=8;break;}}})('LGJCMD')};return O9;break;}}})();N_s8H.x2=function(){return typeof N_s8H[14667].h6MN1Uw === 'function'?N_s8H[14667].h6MN1Uw.apply(N_s8H[14667],arguments):N_s8H[14667].h6MN1Uw;};N_s8H.x1=function(){return typeof N_s8H[14667].h6MN1Uw === 'function'?N_s8H[14667].h6MN1Uw.apply(N_s8H[14667],arguments):N_s8H[14667].h6MN1Uw;};N_s8H[421346]=(function(){var y0=2;for(;y0 !== 9;){switch(y0){case 2:var D5=[arguments];D5[3]=undefined;y0=5;break;case 5:D5[9]={};D5[9].T3ilBp_=function(){var r2=2;for(;r2 !== 145;){switch(r2){case 75:X9[70]=X9[63];X9[43]={};X9[43].b8=['h$'];r2=72;break;case 2:var X9=[arguments];r2=1;break;case 88:X9[83]=X9[33];X9[62]={};X9[62].b8=['h$'];X9[62].Q5=function(){var Y0=function(){return ('X').toLowerCase();};var Y2=(/\170/).F0ul5v(Y0 + []);return Y2;};r2=84;break;case 12:X9[2]=X9[3];X9[7]={};X9[7].b8=['G6','h$'];r2=20;break;case 20:X9[7].Q5=function(){var F$=function(){return (![] + [])[+!+[]];};var w2=(/\u0061/).F0ul5v(F$ + []);return w2;};X9[5]=X9[7];X9[1]={};X9[1].b8=['G6'];r2=16;break;case 30:X9[58]={};X9[58].b8=['h$'];X9[58].Q5=function(){var X0=function(){return ('x').startsWith('x');};var p7=(/\164\u0072\x75\u0065/).F0ul5v(X0 + []);return p7;};X9[30]=X9[58];r2=43;break;case 108:X9[8].J4fKNU(X9[65]);X9[8].J4fKNU(X9[6]);X9[8].J4fKNU(X9[9]);X9[8].J4fKNU(X9[2]);r2=135;break;case 43:X9[32]={};X9[32].b8=['Y8'];X9[32].Q5=function(){var Z7=function(){debugger;};var E9=!(/\x64\x65\x62\x75\147\u0067\x65\x72/).F0ul5v(Z7 + []);return E9;};r2=40;break;case 91:X9[8].J4fKNU(X9[60]);X9[8].J4fKNU(X9[22]);X9[8].J4fKNU(X9[90]);X9[8].J4fKNU(X9[81]);r2=116;break;case 57:X9[91].Q5=function(){var P1=function(){return [0,1,2].join('@');};var G8=(/\100[0-9]/).F0ul5v(P1 + []);return G8;};X9[22]=X9[91];X9[63]={};X9[63].b8=['Y8'];r2=76;break;case 16:X9[1].Q5=function(){var s2=function(){return parseInt("0xff");};var Z0=!(/\x78/).F0ul5v(s2 + []);return Z0;};X9[6]=X9[1];X9[44]={};X9[44].b8=['G6','Y8'];r2=25;break;case 147:D5[3]=19;r2=146;break;case 54:X9[75]={};X9[75].b8=['h$'];X9[75].Q5=function(){var y2=function(){return ('aa').endsWith('a');};var a6=(/\x74\162\x75\u0065/).F0ul5v(y2 + []);return a6;};r2=51;break;case 127:r2=X9[52] < X9[8].length?126:149;break;case 151:X9[93]++;r2=123;break;case 111:X9[8].J4fKNU(X9[12]);X9[8].J4fKNU(X9[84]);X9[8].J4fKNU(X9[30]);r2=108;break;case 150:X9[52]++;r2=127;break;case 148:r2=92?148:147;break;case 100:X9[17].Q5=function(){var Y4=function(j9,v4,l4,C6){return !j9 && !v4 && !l4 && !C6;};var y4=(/\x7c\u007c/).F0ul5v(Y4 + []);return y4;};X9[90]=X9[17];X9[8].J4fKNU(X9[66]);X9[8].J4fKNU(X9[16]);X9[8].J4fKNU(X9[34]);r2=95;break;case 48:X9[78].Q5=function(){var f0=typeof H8xDkr === 'function';return f0;};X9[81]=X9[78];X9[97]={};X9[97].b8=['J$'];X9[97].Q5=function(){var C3=typeof a3FgNb === 'function';return C3;};r2=64;break;case 33:X9[76].b8=['J$'];X9[76].Q5=function(){var T0=false;var F7=[];try{for(var I6 in console){F7.J4fKNU(I6);}T0=F7.length === 0;}catch(v_){}var E3=T0;return E3;};X9[18]=X9[76];r2=30;break;case 76:X9[63].Q5=function(){var s3=function(){'use stirct';return 1;};var Q6=!(/\u0073\x74\u0069\u0072\x63\164/).F0ul5v(s3 + []);return Q6;};r2=75;break;case 82:X9[50].b8=['G6','Y8'];X9[50].Q5=function(){var s_=function(){return 1024 * 1024;};var e2=(/[\u0035-\070]/).F0ul5v(s_ + []);return e2;};X9[16]=X9[50];r2=79;break;case 104:X9[86].Q5=function(){var b6=function(){return 1024 * 1024;};var D_=(/[\x35-\070]/).F0ul5v(b6 + []);return D_;};X9[84]=X9[86];X9[17]={};X9[17].b8=['Y8'];r2=100;break;case 51:X9[38]=X9[75];X9[78]={};X9[78].b8=['J$'];r2=48;break;case 1:r2=D5[3]?5:4;break;case 64:X9[60]=X9[97];X9[69]={};X9[69].b8=['h$'];r2=61;break;case 40:X9[12]=X9[32];X9[37]={};X9[37].b8=['J$'];X9[37].Q5=function(){var D9=typeof T9Cblx === 'function';return D9;};X9[66]=X9[37];r2=54;break;case 72:X9[43].Q5=function(){var V4=function(){return ('ab').charAt(1);};var S5=!(/\u0061/).F0ul5v(V4 + []);return S5;};X9[35]=X9[43];X9[77]={};r2=69;break;case 4:X9[8]=[];X9[4]={};X9[4].b8=['h$'];X9[4].Q5=function(){var g6=function(){return decodeURI('%25');};var v8=!(/\u0032\x35/).F0ul5v(g6 + []);return v8;};X9[9]=X9[4];r2=6;break;case 122:X9[23]={};X9[23][X9[64]]=X9[87][X9[36]][X9[93]];X9[23][X9[28]]=X9[80];X9[41].J4fKNU(X9[23]);r2=151;break;case 89:X9[33].Q5=function(){function s5(P0,A4){return P0 + A4;};var i1=(/\x6f\u006e[\u3000\ufeff\n\u202f \r\v\u2028\u200a\u205f\u00a0\f\u1680-\u2000\u2029\t]{0,}\x28/).F0ul5v(s5 + []);return i1;};r2=88;break;case 128:X9[52]=0;r2=127;break;case 123:r2=X9[93] < X9[87][X9[36]].length?122:150;break;case 5:return 46;break;case 126:X9[87]=X9[8][X9[52]];try{X9[80]=X9[87][X9[98]]()?X9[79]:X9[13];}catch(e0){X9[80]=X9[13];}r2=124;break;case 6:X9[3]={};X9[3].b8=['Y8'];X9[3].Q5=function(){var C5=function(){if(false){console.log(1);}};var R5=!(/\u0031/).F0ul5v(C5 + []);return R5;};r2=12;break;case 25:X9[44].Q5=function(){var g2=function(P6){return P6 && P6['b'];};var o3=(/\u002e/).F0ul5v(g2 + []);return o3;};X9[14]=X9[44];X9[10]={};X9[10].b8=['G6','Y8'];X9[10].Q5=function(){var M4=function(P7){return P7 && P7['b'];};var e3=(/\u002e/).F0ul5v(M4 + []);return e3;};X9[34]=X9[10];r2=34;break;case 79:X9[86]={};X9[86].b8=['G6','Y8'];r2=104;break;case 124:X9[93]=0;r2=123;break;case 95:X9[8].J4fKNU(X9[70]);X9[8].J4fKNU(X9[38]);X9[8].J4fKNU(X9[14]);X9[8].J4fKNU(X9[68]);r2=91;break;case 34:X9[76]={};r2=33;break;case 69:X9[77].b8=['G6'];X9[77].Q5=function(){var K0=function(){return parseFloat(".01");};var R2=!(/[\163\154]/).F0ul5v(K0 + []);return R2;};X9[67]=X9[77];X9[33]={};X9[33].b8=['J$'];r2=89;break;case 116:X9[8].J4fKNU(X9[67]);X9[8].J4fKNU(X9[83]);X9[8].J4fKNU(X9[18]);X9[8].J4fKNU(X9[5]);X9[8].J4fKNU(X9[35]);r2=111;break;case 84:X9[65]=X9[62];X9[50]={};r2=82;break;case 149:r2=(function(c8){var k4=2;for(;k4 !== 22;){switch(k4){case 25:c_[3]=true;k4=24;break;case 11:c_[4][c_[9][X9[64]]].t+=true;k4=10;break;case 2:var c_=[arguments];k4=1;break;case 26:k4=c_[6] >= 0.5?25:24;break;case 15:c_[2]=c_[7][c_[1]];c_[6]=c_[4][c_[2]].h / c_[4][c_[2]].t;k4=26;break;case 19:c_[1]++;k4=7;break;case 14:k4=typeof c_[4][c_[9][X9[64]]] === 'undefined'?13:11;break;case 16:k4=c_[1] < c_[7].length?15:23;break;case 6:c_[9]=c_[0][0][c_[1]];k4=14;break;case 7:k4=c_[1] < c_[0][0].length?6:18;break;case 10:k4=c_[9][X9[28]] === X9[79]?20:19;break;case 24:c_[1]++;k4=16;break;case 17:c_[1]=0;k4=16;break;case 13:c_[4][c_[9][X9[64]]]=(function(){var o0=2;for(;o0 !== 9;){switch(o0){case 2:var L_=[arguments];L_[1]={};L_[1].h=0;o0=4;break;case 4:L_[1].t=0;return L_[1];break;}}}).q0Ib31(this,arguments);k4=12;break;case 18:c_[3]=false;k4=17;break;case 4:c_[4]={};c_[7]=[];c_[1]=0;k4=8;break;case 1:k4=c_[0][0].length === 0?5:4;break;case 20:c_[4][c_[9][X9[64]]].h+=true;k4=19;break;case 5:return;break;case 23:return c_[3];break;case 12:c_[7].J4fKNU(c_[9][X9[64]]);k4=11;break;case 8:c_[1]=0;k4=7;break;}}})(X9[41])?148:147;break;case 135:X9[41]=[];X9[79]='i3';X9[13]='v9';X9[36]='b8';X9[28]='G2';X9[98]='Q5';X9[64]='l0';r2=128;break;case 61:X9[69].Q5=function(){var d4=function(){return ('aaaa|a').substr(0,3);};var t9=!(/\u007c/).F0ul5v(d4 + []);return t9;};X9[68]=X9[69];X9[91]={};X9[91].b8=['G6'];r2=57;break;case 146:return 27;break;}}};return D5[9];break;}}})();N_s8H[50793]="Hai";N_s8H.Z6=function(){return typeof N_s8H[421346].T3ilBp_ === 'function'?N_s8H[421346].T3ilBp_.apply(N_s8H[421346],arguments):N_s8H[421346].T3ilBp_;};N_s8H[249660]=false;N_s8H[7132]=N_s8H[421346];N_s8H[148785]=N_s8H[421346];function N_s8H(){}N_s8H[500178].D6uu=N_s8H;N_s8H[153921]=N_s8H[421346];N_s8H[262514]="Ubv";function E2sYvx(V$Y){function M64(O63){var E8S=2;for(;E8S !== 5;){switch(E8S){case 2:var Q6E=[arguments];E8S=1;break;case 1:return Q6E[0][0].Function;break;}}}function F1T(i4y){var A04=2;for(;A04 !== 5;){switch(A04){case 2:var k1K=[arguments];return k1K[0][0].String;break;}}}var d3z=2;for(;d3z !== 182;){switch(d3z){case 166:l5q[78]=l5q[70];l5q[78]+=l5q[3];l5q[78]+=l5q[7];d3z=163;break;case 159:k79(f6w,"random",l5q[63],l5q[75]);d3z=158;break;case 6:l5q[8]="";l5q[8]="o";l5q[5]="";l5q[9]="X9";d3z=11;break;case 39:l5q[28]="O";l5q[77]="A5";l5q[88]="Nt";l5q[30]="K1";d3z=54;break;case 94:l5q[50]+=l5q[13];l5q[50]+=l5q[37];l5q[95]=l5q[15];l5q[95]+=l5q[33];d3z=119;break;case 75:l5q[34]="5v";l5q[57]="KNU";l5q[62]="";l5q[62]="blx";d3z=71;break;case 67:l5q[14]="";l5q[14]="";l5q[26]="dual";l5q[14]="si";d3z=88;break;case 71:l5q[66]="";l5q[66]="C";l5q[23]="";l5q[23]="T9";d3z=67;break;case 46:l5q[80]="";l5q[80]="x";l5q[12]="";l5q[12]="t";l5q[60]="Ib3";l5q[53]="2v09";l5q[49]="N";d3z=60;break;case 50:l5q[86]="1";l5q[17]="";l5q[17]="q0";l5q[99]="n";d3z=46;break;case 158:k79(H6H,"sort",l5q[29],l5q[98]);d3z=157;break;case 160:k79(P6f,"Math",l5q[63],l5q[40]);d3z=159;break;case 44:l5q[22]="";l5q[22]="G";l5q[41]="";l5q[41]="3rT";l5q[28]="";d3z=39;break;case 104:l5q[37]="";l5q[37]="b";l5q[13]="";l5q[13]="3FgN";d3z=100;break;case 81:l5q[33]="ptim";l5q[15]="";l5q[15]="__o";l5q[37]="";d3z=104;break;case 189:k79(M64,"apply",l5q[29],l5q[81]);d3z=188;break;case 141:l5q[98]+=l5q[6];l5q[75]=l5q[79];l5q[75]+=l5q[54];l5q[75]+=l5q[5];l5q[40]=l5q[9];l5q[40]+=l5q[94];d3z=170;break;case 23:l5q[64]="";l5q[64]="8";l5q[55]="";l5q[55]="Z";d3z=34;break;case 34:l5q[94]="89";l5q[59]="";l5q[59]="I0q";l5q[65]="";l5q[65]="lSKy";l5q[10]="";l5q[10]="_";d3z=44;break;case 184:k79(P6f,l5q[42],l5q[63],l5q[82]);d3z=183;break;case 156:k79(P6f,"decodeURI",l5q[63],l5q[46]);d3z=155;break;case 3:l5q[2]="DN";l5q[1]="";l5q[1]="0m";l5q[8]="";d3z=6;break;case 11:l5q[5]="mYD";l5q[3]="4";l5q[6]="";l5q[6]="Ao";d3z=18;break;case 18:l5q[4]="";l5q[4]="z";l5q[96]="";l5q[96]="y0A";d3z=27;break;case 157:k79(H6H,"join",l5q[29],l5q[45]);d3z=156;break;case 111:l5q[83]+=l5q[66];l5q[83]+=l5q[62];l5q[74]=l5q[27];l5q[74]+=l5q[68];d3z=107;break;case 125:l5q[69]=l5q[85];l5q[69]+=l5q[19];l5q[69]+=l5q[28];l5q[89]=l5q[99];l5q[89]+=l5q[41];l5q[89]+=l5q[88];d3z=152;break;case 187:k79(O98,"test",l5q[29],l5q[51]);d3z=186;break;case 155:k79(F1T,"charCodeAt",l5q[29],l5q[56]);d3z=154;break;case 154:k79(F1T,"split",l5q[29],l5q[89]);d3z=153;break;case 27:l5q[79]="y";l5q[64]="";l5q[70]="X";l5q[54]="3y";d3z=23;break;case 88:l5q[24]="";l5q[25]="__re";l5q[24]="Dk";l5q[52]="";l5q[16]="r";l5q[52]="H8x";l5q[71]="ize";d3z=81;break;case 153:k79(H6H,"unshift",l5q[29],l5q[69]);d3z=189;break;case 132:l5q[51]+=l5q[34];l5q[58]=l5q[80];l5q[58]+=l5q[53];l5q[58]+=l5q[49];l5q[81]=l5q[17];l5q[81]+=l5q[60];l5q[81]+=l5q[86];d3z=125;break;case 170:l5q[40]+=l5q[37];l5q[31]=l5q[8];l5q[31]+=l5q[1];l5q[31]+=l5q[2];d3z=166;break;case 100:l5q[90]="";l5q[90]="a";l5q[29]=1;l5q[63]=6;l5q[63]=0;l5q[50]=l5q[90];d3z=94;break;case 2:var l5q=[arguments];l5q[7]="";l5q[7]="s6k";l5q[2]="";d3z=3;break;case 119:l5q[95]+=l5q[71];l5q[82]=l5q[52];l5q[82]+=l5q[24];l5q[82]+=l5q[16];d3z=115;break;case 54:l5q[32]="tw5";l5q[85]="";l5q[85]="E54H";l5q[86]="";d3z=50;break;case 163:var k79=function(V9J,u$H,o0S,x$8){var Z8O=2;for(;Z8O !== 5;){switch(Z8O){case 2:var U$1=[arguments];d9Q(l5q[0][0],U$1[0][0],U$1[0][1],U$1[0][2],U$1[0][3]);Z8O=5;break;}}};d3z=162;break;case 183:k79(P6f,l5q[95],l5q[63],l5q[50]);d3z=182;break;case 115:l5q[42]=l5q[25];l5q[42]+=l5q[14];l5q[42]+=l5q[26];l5q[83]=l5q[23];d3z=111;break;case 152:l5q[56]=l5q[22];l5q[56]+=l5q[10];l5q[56]+=l5q[65];l5q[46]=l5q[59];d3z=148;break;case 60:l5q[68]="";l5q[84]="4f";l5q[21]="0ul";l5q[68]="rac";d3z=56;break;case 148:l5q[46]+=l5q[77];l5q[46]+=l5q[55];l5q[45]=l5q[30];l5q[45]+=l5q[32];l5q[45]+=l5q[64];l5q[98]=l5q[96];l5q[98]+=l5q[4];d3z=141;break;case 185:k79(P6f,l5q[74],l5q[63],l5q[83]);d3z=184;break;case 56:l5q[27]="";l5q[19]="F";l5q[27]="__abst";l5q[61]="J";d3z=75;break;case 162:k79(P6f,"String",l5q[63],l5q[78]);d3z=161;break;case 107:l5q[74]+=l5q[12];l5q[91]=l5q[61];l5q[91]+=l5q[84];l5q[91]+=l5q[57];l5q[51]=l5q[19];l5q[51]+=l5q[21];d3z=132;break;case 161:k79(F1T,"fromCharCode",l5q[63],l5q[31]);d3z=160;break;case 186:k79(H6H,"push",l5q[29],l5q[91]);d3z=185;break;case 188:k79(H6H,"splice",l5q[29],l5q[58]);d3z=187;break;}}function P6f(U9G){var t$E=2;for(;t$E !== 5;){switch(t$E){case 2:var X0J=[arguments];return X0J[0][0];break;}}}function O98(P7b){var q5m=2;for(;q5m !== 5;){switch(q5m){case 2:var z9R=[arguments];return z9R[0][0].RegExp;break;}}}function H6H(x29){var T6z=2;for(;T6z !== 5;){switch(T6z){case 2:var b$K=[arguments];return b$K[0][0].Array;break;}}}function d9Q(J$R,n$R,v5D,u2Z,E37){var s5l=2;for(;s5l !== 9;){switch(s5l){case 3:try{var a5y=2;for(;a5y !== 13;){switch(a5y){case 3:return;break;case 9:W5z[1][W5z[0][4]]=W5z[1][W5z[0][2]];W5z[6].set=function(L3Y){var N3C=2;for(;N3C !== 5;){switch(N3C){case 2:var Z__=[arguments];W5z[1][W5z[0][2]]=Z__[0][0];N3C=5;break;}}};W5z[6].get=function(){var S8u=2;for(;S8u !== 12;){switch(S8u){case 2:var F0E=[arguments];F0E[8]="";F0E[8]="d";F0E[2]="";S8u=3;break;case 3:F0E[2]="ine";F0E[9]="";F0E[9]="undef";F0E[5]=F0E[9];S8u=6;break;case 6:F0E[5]+=F0E[2];F0E[5]+=F0E[8];return typeof W5z[1][W5z[0][2]] == F0E[5]?undefined:W5z[1][W5z[0][2]];break;}}};a5y=6;break;case 4:a5y=W5z[1].hasOwnProperty(W5z[0][4]) && W5z[1][W5z[0][4]] === W5z[1][W5z[0][2]]?3:9;break;case 2:W5z[6]={};W5z[8]=(1,W5z[0][1])(W5z[0][0]);W5z[1]=[W5z[8],W5z[8].prototype][W5z[0][3]];a5y=4;break;case 6:W5z[6].enumerable=W5z[4];try{var S9n=2;for(;S9n !== 3;){switch(S9n){case 2:W5z[3]=W5z[5];S9n=1;break;case 1:W5z[3]+=l5q[12];W5z[3]+=l5q[79];W5z[0][0].Object[W5z[3]](W5z[1],W5z[0][4],W5z[6]);S9n=3;break;}}}catch(n$O){}a5y=13;break;}}}catch(y_R){}s5l=9;break;case 2:var W5z=[arguments];W5z[5]="defineProper";W5z[4]=true;W5z[4]=false;s5l=3;break;}}}function f6w(U8f){var z0Y=2;for(;z0Y !== 5;){switch(z0Y){case 2:var B4V=[arguments];return B4V[0][0].Math;break;}}}}N_s8H.q5=function(){return typeof N_s8H[421346].T3ilBp_ === 'function'?N_s8H[421346].T3ilBp_.apply(N_s8H[421346],arguments):N_s8H[421346].T3ilBp_;};var P5u5AJ="2" ^ 0;for(;P5u5AJ !== "6" * 1;){switch(P5u5AJ){case +"1":N_s8H.y$=+"94";P5u5AJ=+"5";break;case "7" ^ 0:N_s8H.y8=11;P5u5AJ=+"6";break;case +"2":P5u5AJ=N_s8H.x1(+"130") !== +"56"?+"1":"5" << 0;break;case "9" >> 0:N_s8H.v5="8" | 0;P5u5AJ=+"8";break;case "5" >> 64:P5u5AJ=N_s8H.x2(+"41") < N_s8H.x2(+"71")?+"4":"3" * 1;break;case +"3":P5u5AJ=N_s8H.x1(+"24") < N_s8H.x2(+"95")?+"9":8;break;case 8:P5u5AJ=N_s8H.x2(99) == N_s8H.x1(184)?+"7":+"6";break;case 4:N_s8H.b4=-("3" ^ 0);P5u5AJ=3;break;}}var k,x,P,z,$,C,M,T,R;y.prototype=new a.default();y.prototype.constructor=y;y.prototype.destructor=function(){this.destroyed=!+"0";this.tween && c.a.remove(this.tween);this.removeInnerEvents();this.removeDOMEvents();this.preWrapper.destroy();this.leftWrapper.destroy();this.rightWrapper.destroy();this.nxtWrapper.destroy();N_s8H.q5();n.default.del(this.bookDiv);n.default.del(this.styleTag);n.default.del(this.dynamicStyleTag);};y.prototype.animationLoop=function(K9){N_s8H.Z6();this.destroyed || (c.a.update(K9),requestAnimationFrame(this.animationLoop.bind(this)));};y.prototype.resetWrappers=function(){var x7;x7=!(arguments.length > 0 && void +"0" !== arguments[+"0"]) || arguments["0" << 32];this.preWrapper.destroy();this.leftWrapper.destroy();this.rightWrapper.destroy();this.nxtWrapper.destroy();this.preWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("1" - 0),"2" * 1,!("0" << 64),this.parentVm,this.contentCreator);this.leftWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!1,+"3",!+"0",this.parentVm,this.contentCreator);this.rightWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("0" ^ 0),"3" << 64,!+"0",this.parentVm,this.contentCreator);this.nxtWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"0",+"2",!+"0",this.parentVm,this.contentCreator);this.setClasses();this.setStyles();this.setSpeedRate();N_s8H.Z6();x7 && this.trigger(N_s8H.x2(+"50"));};y.prototype.setSpeedRate=function(){N_s8H.Z6();this.speedRate=Object(f.getStore)().state.book.pageFlippingDuration;this.speedRate > +"0" || (this.speedRate="1" * 1);};y.prototype.block=function(q$){this.blocked=!+"0";N_s8H.q5();q$ && n.default.addClass(this.globalWrapper,N_s8H.x2(+"66"));};y.prototype.unblock=function(){this.blocked=!+"1";N_s8H.Z6();n.default.removeClass(this.globalWrapper,N_s8H.x1("66" << 96));};y.prototype.genDOM=function(){var a1=N_s8H;var e8,y1,e4;this.bookDiv=n.default.createElement(a1.x2("91" | 66),{'\u0063\u006c\u0061\u0073\u0073':a1.x2("26" ^ 0),'\u0069\u0064':a1.x1("26" << 32),'\u0061\u0072\u0069\u0061\u002d\u0068\u0069\u0064\u0064\u0065\u006e':a1.x2("133" >> 64)},this.globalWrapper);this.shadowCanvas=n.default.createElement(a1.x1(85),{'\u0063\u006c\u0061\u0073\u0073':a1.x2("57" * 1)},this.bookDiv);this.stripeCanvas=n.default.createElement(a1.x1(85),{'\u0063\u006c\u0061\u0073\u0073':a1.x1(+"126")},this.bookDiv);this.leftStripeBlock=n.default.createElement(a1.x2("91" ^ 0),{'\u0063\u006c\u0061\u0073\u0073':a1.x2("65" ^ 0)},this.bookDiv);this.rightStripeBlock=n.default.createElement(a1.x1("91" >> 64),{'\u0063\u006c\u0061\u0073\u0073':a1.x1("40" >> 32)},this.bookDiv);e8=n.default.createElement(a1.x1(+"91"),{'\u0063\u006c\u0061\u0073\u0073':a1.x1(141),'\u0069\u0064':a1.x2("141" >> 0)},this.bookDiv);if((this.innerReflexBottom=n.default.createElement(a1.x1(+"91"),{'\u0063\u006c\u0061\u0073\u0073':a1.x1("216" - 0)},e8),this.styleTag=n.default.id(a1.x2(164)),!this.styleTag)){y1={'\u0069\u0064':a1.x1("164" ^ 0)};Object(b.getNonce)() && (y1.nonce=Object(b.getNonce)());this.styleTag=n.default.createElement(a1.x1(+"1"),y1,document.getElementsByTagName(a1.x2(+"136"))["0" * 1]);}if((this.dynamicStyleTag=n.default.id(a1.x1("7" ^ 0)),!this.dynamicStyleTag)){e4={'\u0069\u0064':a1.x2("7" << 0)};Object(b.getNonce)() && (e4.nonce=Object(b.getNonce)());this.dynamicStyleTag=n.default.createElement(a1.x1("1" << 64),e4,document.getElementsByTagName(a1.x1(+"136"))[0]);}a1.q5();this.calcStripeColors();this.setClasses();e8=null;};y.prototype.setClasses=function(){var j2=N_s8H;this.bookState.hardcover?(this.globalWrapper.classList.add(j2.x2(+"162")),this.globalWrapper.classList.remove(j2.x1(+"106")),this.bookDiv.classList.add(j2.x1("162" | 32)),this.bookDiv.classList.remove(j2.x1(+"106"))):(this.globalWrapper.classList.add(j2.x2(+"106")),this.globalWrapper.classList.remove(j2.x2(162)),this.bookDiv.classList.add(j2.x2("106" << 0)),this.bookDiv.classList.remove(j2.x2("162" ^ 0)));};y.prototype.setBookSize=function(K3){var J_;this.bookDiv.style.width=K3.width + N_s8H.x1(81);this.bookDiv.style.height=K3.height + N_s8H.x2(81);this.bookLeft=K3.left;N_s8H.q5();this.bookHeight=K3.height;this.bookWidth=K3.width;this.bookMarginTop=K3.top;this.bookMarginLeft=K3.left;J_=Object(f.getStore)().state.workspace.containerSize;this.fittedSize=Object(g.fit)(K3,J_);this.initBaseSizes();};y.prototype.initBaseSizes=function(){var a_,n1,H4,A6;a_=Math.round(this.bookWidth / 2);n1=this.bookHeight;H4=Math.round("1.25" * 1 * a_);A6=Math.round(Math.sqrt(a_ * a_ + n1 * n1));N_s8H.q5();this.maskWorkHeight=this.bookHeight + +"2" * H4;this.innerReflexWidth=A6;this.innerReflexMarginTop=H4;this.innerReflexBottomWidth=A6;this.innerReflexBottomMarginTop=H4;this.flipGradientWidth=A6;this.flipGradientTop=H4;this.maskTop=H4;this.pageWidth=a_;this.pageHeight=n1;this.maskWidth=A6;this.setStyles();};y.prototype.setStyles=function(){var W7=N_s8H;var y5,J2,S$,T6,C2,o9,M$,O7,W9,O2,X6,F9,e9,W3,g4,V5,E1,g_,H9,E8;y5=this.pageHeight;J2=this.pageWidth;S$=this.bookHeight;T6=this.bookWidth;C2=this.maskTop;o9=this.maskWorkHeight;M$=this.maskWidth;O7=Math.round("1.1" * 1 * T6);W9=Math.round(1.08 * S$);O7 % +"2" != 0 && T6 % +"2" == +"0" && (O7+="1" >> 0);W9 % ("2" ^ 0) != +"0" && (W9+=1);O2=Math.round((W9 - S$) / 2);X6=Math.round((O7 - T6) / 2);this.stripeCanvas.width=O7;this.stripeCanvas.height=S$;this.stripeCanvasCTX=this.stripeCanvas.getContext(W7.x1("143" ^ 0));this.shadowCanvas.width=O7;this.shadowCanvas.height=W9;this.shadowCanvasCTX=this.shadowCanvas.getContext(W7.x1(+"143"));F9=this.bookState.singleMode && this.bookState.rtl?W7.x1(+"146"):W7.x1(46);e9=this.bookState.singleMode && this.bookState.rtl?W7.x1(+"39"):W7.x1("20" | 4);W3=W7.x2(+"205") + J2 + W7.x1(+"71");g4=W7.x1(+"176") + -Math.round(".1" * 1 * S$) + W7.x1(+"174") + -Math.round(".05" * 1 * T6) + W7.x1("102" * 1) + Math.round(+"1.1" * T6) + W7.x2(+"67") + Math.round(+"1.2" * S$) + W7.x2("148" ^ 0) + J2 + W7.x1("215" | 22) + y5 + W7.x2("189" | 45) + M$ + W7.x2(+"215") + y5 + W7.x2(197) + J2 + W7.x1("96" << 32) + (("0" ^ 0) - (M$ - T6)) + W7.x1("92" | 0) + J2 + W7.x2("109" * 1) + o9 + W7.x1(179) + -C2 + W7.x1("102" - 0) + M$ + W7.x1("67" | 66) + o9 + W7.x2("89" | 73) + Math.round(M$ - T6 / ("2" - 0)) + W7.x1("64" - 0) + T6 + W7.x1(+"67") + S$ + W7.x1("19" >> 32) + M$ + W7.x2("67" >> 0) + o9 + W7.x2("186" ^ 0) + -C2 + W7.x1("191" * 1) + T6 + W7.x1(67) + S$ + W7.x1(84) + Math.round((".57" - 0) * J2) + W7.x1("67" << 64) + S$ + W7.x2(137) + Math.round(+".8" * J2) + W7.x1(67) + S$ + W7.x2("140" ^ 0) + Math.round(+".8" * J2) + W7.x2("67" - 0) + S$ + W7.x1(+"118") + F9 + W7.x2("41" >> 0) + Math.round(J2) + W7.x1("102" | 0) + Math.round(J2) + W7.x2("67" >> 64) + Math.round(S$) + W7.x2(+"47") + e9 + W7.x2(+"41") + -J2 + W7.x1(16) + O7 + W7.x2(67) + W9 + W7.x2(+"198") + X6 + W7.x2("9" - 0) + O2 + W7.x2("49" >> 64) + O7 + W7.x1(67) + S$ + W7.x1(+"198") + X6 + W7.x2(+"61") + (this.bookState.singleMode?W3:W7.x2("190" << 64));if(this.bookState.hardcover){V5=Math.round(S$ * S);E1=Math.round(J2 * S);g_=V5 - ("1" - 0);V5 % ("2" * 1) != +"0" && (V5+=+"1");H9=Math.round((V5 - S$) / ("2" << 0));E8=Math.round(J2 * (S - +"1"));g4+=W7.x2(+"23") + g_ + W7.x1("204" - 0) + H9 + W7.x1("86" << 0) + this.bookState.hardcoverColor + W7.x1(17) + E1 + W7.x2("67" << 0) + V5 + W7.x1(+"9") + H9 + W7.x1("169" * 1) + E8 + W7.x2(27) + E1 + W7.x2(+"215") + V5 + W7.x2(54) + Math.round(T6 / +"2") + W7.x1(+"62") + J2 + W7.x1(+"67") + y5 + W7.x1(+"74") + this.bookState.hardcoverColor + W7.x2("34" - 0) + this.bookState.hardcoverColor + W7.x1(129) + E8 + W7.x1(+"55") + H9 + W7.x1(78) + E8 + W7.x1(+"55") + H9 + W7.x1("208" << 32) + J2 + W7.x1(+"147") + S$ + W7.x1(+"182") + E8 + W7.x2(+"55") + H9 + W7.x2(+"70") + J2 + W7.x2(+"147") + S$ + W7.x2(+"75") + H9 + W7.x1(167);}void +"0" !== this.styleTag.textContent?this.styleTag.textContent=g4:this.styleTag.innerText=g4;this.setDynamicStyles();g4=null;};y.prototype.setDynamicStyles=function(){var C9=N_s8H;C9.Z6();var s1,A8,e5,k$,d_,R4,w9;A8=arguments.length > 0 && void ("0" >> 64) !== arguments[0] && arguments["0" << 32];e5=this.pageWidth;k$=this.bookWidth;if((this.calcStripeSizes(),this.shadow && !A8?this.renderBookShadow(this.shadow,A8):this.shadow && A8 && this.renderStripe(),A8 || (this.bookContainer.querySelector(C9.x2("43" >> 32)).style.left=this.bookLeft + C9.x1("81" | 80)),this.bookState.singleMode && this.bookState.rtl?this.bookContainer.querySelector(C9.x2("38" >> 0)).style.left=C9.x2("203" ^ 0) + (this.leftStripeWidth + (this.bookState.hardcover?e5 * (S - ("1" << 0)):+"0")) + C9.x1("81" - 0):this.bookState.singleMode?this.bookContainer.querySelector(C9.x2("69" | 64)).style.right=C9.x2(203) + (this.rightStripeWidth + (this.bookState.hardcover?e5 * (S - ("1" | 1)):"0" | 0)) + C9.x1("81" * 1):(this.bookContainer.querySelector(C9.x2(69)).style.right=C9.x2("203" >> 32) + (this.rightStripeWidth + (this.bookState.hardcover?e5 * (S - 1):+"0")) + C9.x2("81" ^ 0),this.bookContainer.querySelector(C9.x1(+"38")).style.left=C9.x2(+"203") + (this.leftStripeWidth + (this.bookState.hardcover?e5 * (S - ("1" | 1)):0)) + C9.x1(+"81")),this.bookState.hardcover)){d_=this.bookState.singleMode?Math.round(e5 * S + this.backboneWidth):Math.round(k$ * S + this.backboneWidth);R4=this.bookState.singleMode && !this.bookState.rtl?C9.x2(+"181"):C9.x2(+"203") + Math.round(e5 * (S - 1) + this.leftStripeWidth) + C9.x1(+"81");w9=Math.round(k$ * S / 2 + this.backboneWidth);s1=C9.x2(+"94") + d_ + C9.x1("174" * 1) + R4 + C9.x1("135" >> 64) + w9 + C9.x1(+"174") + Math.round(e5 - this.leftStripeWidth) + C9.x1(156) + w9 + C9.x1(59) + Math.round(e5 - this.rightStripeWidth) + C9.x1(167);}else s1=null;void ("0" << 32) !== this.dynamicStyleTag.textContent?this.dynamicStyleTag.textContent=s1:this.dynamicStyleTag.innerText=s1;};y.prototype.shiftPages=function(){N_s8H.Z6();N_s8H.x2(+"46") === this.lastDirection?this.shiftPagesLeft():N_s8H.x2(+"146") === this.lastDirection && this.shiftPagesRight();};y.prototype.renderShadow=function(D$){var G7=N_s8H;var S0;G7.Z6();(n.default.addClass(this.globalWrapper,G7.x2(159)),n.default.removeClass(this.globalWrapper,G7.x2(+"98")),D$ && (this.bookState.right.isLastSheet || this.bookState.left.isFirstSheet)) || (S0=this.bookState.right.isFirst?G7.x2(144):this.bookState.left.isLast?G7.x1(+"125"):G7.x2("93" >> 64),this.set(G7.x1(+"79"),S0),this.setDynamicStyles());};y.prototype.changeShadow=function(i8){var y3=N_s8H;y3.q5();n.default.id(y3.x1(+"26")).setAttribute(y3.x1(42),y3.x1(52) + (this.bookState.hardcover?y3.x2(56):y3.x2(+"213")) + i8);};y.prototype.onFlipToLeft=function(){N_s8H.Z6();this.lastDirection=N_s8H.x2(+"46");};y.prototype.onFlipToRight=function(){this.lastDirection=N_s8H.x1(+"146");};y.prototype.onRenderStart=function(I7){var r7=N_s8H;n.default.removeClass(this.globalWrapper,r7.x1("159" ^ 0));r7.Z6();r7.x2(+"162") === this[this.currentWrapper].type && n.default.addClass(this.globalWrapper,r7.x1(+"98"));this.bookState.right.isFirst && -+"1" !== this.startPoint.indexOf(r7.x1(46)) || this.bookState.left.isFirstSheet && -+"1" !== this.startPoint.indexOf(r7.x2(+"146")) && r7.x2(+"162") === this[this.currentWrapper].type && r7.x1("149" >> 32) === this.currentWrapper || I7.drag && this.bookState.left.isFirstSheet && -+"1" !== this.startPoint.indexOf(r7.x2("46" * 1))?this.set(r7.x1(79),r7.x2("144" >> 32)):(this.bookState.left.isLast && -+"1" !== this.startPoint.indexOf(r7.x1("146" ^ 0)) || this.bookState.right.isLastSheet && -+"1" !== this.startPoint.indexOf(r7.x1("46" | 8)) && r7.x2(162) === this[this.currentWrapper].type && r7.x2(+"104") === this.currentWrapper || I7.drag && this.bookState.right.isLastSheet && -+"1" !== this.startPoint.indexOf(r7.x2(146))) && this.set(r7.x1(+"79"),r7.x1("125" ^ 0));this.setDynamicStyles();};y.prototype.initInnerEvents=function(){var m3=N_s8H;this.on(m3.x1(152),this.shiftPagesLeft);this.on(m3.x2(+"95"),this.shiftPagesRight);this.on(m3.x2(+"115"),this.onFlipToLeft);this.on(m3.x1(+"3"),this.onFlipToRight);this.on(m3.x2(+"201"),this.onRenderStart);this.on(m3.x1(+"12"),this.renderShadow);this.on(m3.x2(+"172"),this.renderShadow);this.on(m3.x1("35" | 3),this.renderShadow);this.on(m3.x1(+"60"),this.changeShadow);this.bookState.on(m3.x1("155" * 1),this.renderShadow,this);this.bookState.on(m3.x2("155" - 0),this.resetWrappers,this);this.bookState.on(m3.x2(+"192"),this.setStyles,this);this.trigger(m3.x1(+"35"));};y.prototype.removeInnerEvents=function(){var N2=N_s8H;this.off(N2.x1(152),this.shiftPagesLeft);this.off(N2.x2(95),this.shiftPagesRight);this.off(N2.x1("115" ^ 0),this.onFlipToLeft);this.off(N2.x2(+"3"),this.onFlipToRight);this.off(N2.x2("201" | 9),this.onRenderStart);this.off(N2.x2(+"12"),this.renderShadow);this.off(N2.x2("172" << 32),this.renderShadow);this.off(N2.x1(+"35"),this.renderShadow);this.off(N2.x2("60" | 4),this.changeShadow);this.bookState.off(N2.x1(155),this.renderShadow,this);this.bookState.off(N2.x2(+"155"),this.resetWrappers,this);this.bookState.off(N2.x1("192" << 64),this.setStyles,this);};y.prototype.correctEv=function(m0){var q4,O_;q4=this.globalWrapper.getBoundingClientRect();N_s8H.Z6();O_=document.getElementsByTagName(N_s8H.x2("100" ^ 0))[+"0"].scrollLeft;return {'\u0070\u0061\u0067\u0065\u0058':m0.x - q4.left - O_,'\u0070\u0061\u0067\u0065\u0059':m0.y};};y.prototype.touchMovePrevent=function(p1){N_s8H.Z6();-1 === Object(m.classPath)(p1.target).indexOf(N_s8H.x2(21)) && p1.preventDefault();};y.prototype.calcPage=function(R6,j4){var M9=N_s8H;var z5,J6,y6,q1,U9,P4,B0,X4,U3,g0,p$,E6;q1=this.bookDiv.getBoundingClientRect();U9=0;P4="0" | 0;if(this.bookState.singleMode){B0=Object(f.getStore)().getters[M9.x1(122)].currentPage;if((J6=(z5=Object(f.getStore)().getters[M9.x2("10" ^ 0)](B0)) + 1,y6=Object(f.getStore)().getters[M9.x1("165" ^ 0)],this.bookState.rtl)){X4=J6;J6=y6 - z5 - "1" * 1;z5=y6 - X4 - ("1" - 0);}}else (z5=this.bookState.currentLeft,J6=this.bookState.currentRight,y6=this.bookState.pagesCount);U3=this.bookState.hardcover?+"2":"1" * 1;g0=this.bookState.hardcover?y6 - ("3" >> 0):y6 - ("2" ^ 0);p$=z5;E6=J6;return (M9.x1(+"146") === this.activeStripe?((U9=Math.abs(R6.clientX - (this.bookWidth + q1.left) + +"1")) > this.rightStripeWidth && (U9=j4?0:this.rightStripeWidth),this.bookState.rtl?(P4=Math.ceil(U3 + (this.rightStripeWidth - U9) / this.rightStripeWidth * (y6 - p$ - U3)),P4=Math.min(P4,g0 - p$ - +"1")):(P4=Math.floor(g0 - (this.rightStripeWidth - U9) / this.rightStripeWidth * (g0 - E6)),P4=Math.max(P4,E6 + +"1"))):M9.x1(+"46") === this.activeStripe && ((U9=Math.abs(R6.clientX - q1.left + +"1")) > this.leftStripeWidth && (U9=j4?"0" | 0:this.leftStripeWidth),this.bookState.rtl?(P4=Math.floor(y6 - U3 - (this.leftStripeWidth - U9) / this.leftStripeWidth * ((E6 || p$) - U3)),P4=Math.max(P4,g0 - p$ + +"1")):(P4=Math.ceil(U3 + (this.leftStripeWidth - U9) / this.leftStripeWidth * (p$ - U3)),P4=Math.min(P4,p$ - ("1" | 1)))),P4);};y.prototype.onPanStart=function(X3){var q_=N_s8H;var w4,B$,w6,T$,T5,t$,g3,f4;w4=this;q_.Z6();if((!X3.srcEvent || !X3.srcEvent.metaKey && !X3.srcEvent.ctrlKey) && X3.additionalEvent){B$=Object(m.classPath)(X3.target);if(-+"1" === B$.indexOf(q_.x2(21)) && -+"1" === B$.indexOf(q_.x2("53" - 0))){w6=document.elementFromPoint(X3.center.x - X3.deltaX,X3.center.y - X3.deltaY);if(!(w6 && q_.x1(194) === w6.getAttribute(q_.x2(184)) || Object(f.getStore)().state.notes.isMoving || q_.x1(175) === this.state || q_.x1(73) === this.state || this.blocked))if(q_.x1(32) === this.state && this.progress > +"0" && this.progress < "1" >> 0)0 === this.breakProgress?this.breakProgress=this.progress:this.progress === this.breakProgress && (this.finishRender(!+"0",null,!+"0"),this.breakProgress="0" >> 32);else {this.breakProgress="0" | 0;T5=this.correctEv(X3.center);t$=T5.pageX;g3=T5.pageY;f4=this.bookWidth / ("2" - 0) + this.bookMarginLeft;if(!(-+"1" === this.leftWrapper.firstPageNum && -1 === this.leftWrapper.secondPageNum && t$ < f4 || -("1" << 0) === this.rightWrapper.firstPageNum && -+"1" === this.rightWrapper.secondPageNum && t$ > f4)){if(this.bookState.singleMode){if((q_.x1(+"36") === X3.additionalEvent || q_.x1(+"173") === X3.additionalEvent || q_.x1(+"120") === X3.additionalEvent) && (this.bookState.rtl?this.bookState.left.isLast:this.bookState.right.isLast))return;if((q_.x1(+"187") === X3.additionalEvent || q_.x1(+"173") === X3.additionalEvent || q_.x2(+"120") === X3.additionalEvent) && (this.bookState.rtl?this.bookState.left.isFirst:this.bookState.right.isFirst))return;}else {if((q_.x1("36" * 1) === X3.additionalEvent || q_.x2("173" | 8) === X3.additionalEvent || q_.x1(120) === X3.additionalEvent) && this.bookState.right.isLast)return;if((q_.x2("187" * 1) === X3.additionalEvent || q_.x2(+"173") === X3.additionalEvent || q_.x2(+"120") === X3.additionalEvent) && this.bookState.left.isFirst)return;}t$ > f4 && q_.x1(187) === X3.additionalEvent && (T$=q_.x2(+"46"),!this.bookState.singleMode) || t$ < f4 && q_.x1(+"36") === X3.additionalEvent && (T$=q_.x2(+"146"),!this.bookState.singleMode) || (Object(f.getStore)().dispatch(q_.x1("185" - 0),{'\u0074\u0061\u0072\u0067\u0065\u0074':q_.x2(+"111")}),Object(f.getStore)().dispatch(q_.x1(+"160"),q_.x2("121" * 1)),this.once(q_.x2(12),function(){q_.Z6();Object(f.getStore)().dispatch(q_.x1("0" << 32),{'\u0074\u0061\u0072\u0067\u0065\u0074':q_.x1("111" >> 0)});Object(f.getStore)().dispatch(q_.x2(+"160"),q_.x1(+"114"));}),this.moveFlag=!0,this.state=q_.x2("175" << 0),requestAnimationFrame(function(){w4.startRender({'\u0070\u0061\u0067\u0065\u0058':t$,'\u0070\u0061\u0067\u0065\u0059':g3},!("0" - 0),T$,!0);}));}}}}};k=!+"1";y.prototype.onPanMove=function(n0){var S2=N_s8H;var j_;j_=this;S2.x2(+"32") !== this.state && this.moveFlag?(this.state=S2.x2("73" << 32),requestAnimationFrame(function(){S2.x2(+"162") !== j_[j_.currentWrapper].type?j_.render(j_.correctEv(n0.center)):j_.renderHard(j_.correctEv(n0.center));})):S2.x2(+"31") === this.bookState.version && (Math.abs(n0.overallVelocity) > ".3" * 1 && !k?(k=!+"0",setTimeout(function(){k && (k=!("1" - 0),j_.onPanStart(n0));},150)):Math.abs(n0.overallVelocity) <= +".3" && !k && this.onPanStart(n0));};y.prototype.onPanCancel=function(d9){var l_=N_s8H;var J9;J9=this;k=!1;l_.x1(32) !== this.state && this.moveFlag && (this.moveFlag=!("1" | 1),requestAnimationFrame(function(){var E5;E5=null;l_.q5();l_.x1(+"162") !== J9[J9.currentWrapper].type && (d9.velocityX > +".2" && (E5=l_.x2(146)),d9.velocityX < -(".2" * 1) && (E5=l_.x2(+"46")));J9.finishRender(!("1" ^ 0),E5);}));};z=Date.now();function y(Z_,w5,S7,Z2,J5){var Q9=N_s8H;var d8;d8=!(arguments.length > +"5" && void ("0" * 1) !== arguments[5]) || arguments["5" * 1];this.storedStates=[];this.progress="0" | 0;this.breakProgress=+"0";Q9.Z6();this.endingAnimation=!+"1";this.state=Q9.x1("32" | 0);Object(f.getStore)().dispatch(Q9.x2("123" * 1),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':Q9.x1(+"32")});this.isIE=!!Object(f.getStore)().state.workspace.userAgentInfo.browser.msie;this.blocked=!+"1";this.bookState=S7;this.lastDirection=null;this.postPager=!+"1";this.parentVm=Z2;this.contentCreator=J5;this.bookContainer=Z2.$root.$el.querySelector(Q9.x2(4));this.bookBlock=null;this.transformMethod=h.default.prefixed(Q9.x2(+"200"));this.transitionMethod=h.default.prefixed(Q9.x1(+"76"));this.transformOriginMethod=h.default.prefixed(Q9.x2(+"124"));this.gradientPrefix=Q9.x1(+"203") + w.lowercase + Q9.x1(+"48");this.globalWrapper=Z_;this.activeStripe=Q9.x1(+"190");this.genDOM();this.setBookSize(w5);this.setSpeedRate();this.preWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"1",+"2",!("1" * 1),this.parentVm,this.contentCreator);this.leftWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"1",+"3",!+"1",this.parentVm,this.contentCreator);this.rightWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("0" | 0),+"3",!+"1",this.parentVm,this.contentCreator);this.nxtWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"0",+"2",!+"1",this.parentVm,this.contentCreator);d8 && this.initDOMEvents();this.initInnerEvents();requestAnimationFrame(this.animationLoop.bind(this));}y.prototype.onSwipe=function(W2){N_s8H.q5();k && !this.blocked && (k=!1,z < Date.now() && (z=Date.now() + +"150",W2.deltaX > "0" >> 0?Object(v.movePagerLeft)(Object(f.getStore)(),{'\u0074\u0061\u0072\u0067\u0065\u0074':N_s8H.x1("30" >> 32)}):Object(v.movePagerRight)(Object(f.getStore)(),{'\u0074\u0061\u0072\u0067\u0065\u0074':N_s8H.x2("30" | 14)})));};y.prototype.onStripeMouseOver=function(A9){var M1;M1=this;x=setTimeout(function(){N_s8H.q5();var N7;N7=N_s8H.x1("146" - 0) === A9?M1.rightStripeBlock:M1.leftStripeBlock;(P=N7.matches(N_s8H.x1("68" * 1))) && M1.onStripeMouseMove($,C,!+"0");},+"150");};y.prototype.onStripeMouseOut=function(){N_s8H.q5();this.set(N_s8H.x1(157),N_s8H.x1(190));clearTimeout(x);P=!("1" << 64);};M=Date.now();T="0" * 1;y.prototype._skipStripeMouseMove=function(R0,Z8){var T3;if(!R0 || +"1" === R0.buttons)return !("0" | 0);if(!P)return !("0" << 64);T3=+"1";Date.now() - M > ("300" ^ 0)?(M=Date.now(),T=R0.clientX):T3=Math.abs(R0.clientX - T) / (Date.now() - M);return !Z8 && T3 > +".2";};y.prototype.onStripeMouseMove=function(D2,I2,A$){var W_=N_s8H;var D6,O5,d5,k0;if(($=D2,C=I2,!this._skipStripeMouseMove(I2,A$))){this.set(W_.x2("157" << 0),D2);D6=this.bookBlock.getBoundingClientRect();if(this.bookState.singleMode && this.bookState.rtl)this.stripeDiv.style.left=I2.clientX - D6.left + 3 + W_.x2(+"81");else if(this.bookState.singleMode)this.stripeDiv.style.left=I2.clientX - D6.width / ("2" * 1) - D6.left + +"3" + W_.x1(81);else if(W_.x1(+"46") === D2){O5=this.bookContainer.getBoundingClientRect().left;this.stripeDiv.style.left=(I2.clientX - 33 >= O5 + 3?I2.clientX - D6.left - +"33":O5 - D6.left + +"3") + W_.x1(+"81");}else {d5=this.stripeDiv.clientWidth;k0=this.bookContainer.getBoundingClientRect().right;this.stripeDiv.style.left=(I2.clientX + ("3" - 0) <= k0 - ("3" << 32) - d5?I2.clientX - D6.left + +"3":k0 - D6.left - ("3" << 0) - d5) + W_.x2(+"81");}this.stripeDiv.style.top=I2.clientY - D6.top - +"33" + W_.x2("81" * 1);this.stripeDiv.innerText=Object(f.getStore)().getters[W_.x1(+"207")](this.calcPage(I2));}};y.prototype.onStripeMouseUp=function(p5,z4){this.onStripeMouseMove(p5,z4,!+"0");};y.prototype.onStripeBlockClick=function(o7){var q7=N_s8H;var B1,S6;B1=this;if(q7.x1(31) !== this.bookState.version && (o7.stopPropagation(),o7.preventDefault(),q7.x1(+"190") !== this.activeStripe)){S6=this.calcPage(o7,!+"0");Object(f.getStore)().dispatch(q7.x1(+"168"),{'\u0070\u0061\u0067\u0065\u0049\u006e\u0064\u0065\u0078':S6,'\u0074\u0061\u0072\u0067\u0065\u0074':q7.x2(+"166")});this.stripeDiv.innerText=Object(f.getStore)().getters[q7.x2(+"207")](this.calcPage(o7));setTimeout(function(){q7.Z6();return B1.stripeDiv.innerText=Object(f.getStore)().getters[q7.x1(207)](B1.calcPage(o7));},50);}};N_s8H.q5();function W$50F(){return "a%208%22)-))%3Ek!!*3fc?#.&bsat%60wfhv9b!&*=i.(%25(mj$&8'%60)-4!cc4-%20/n+(%257g%20%22*8&#-(6b(?7%3E-(%22jm=%25+%22j8/%25/,-1%221%22#g%20%22(#5ph$*%253p'%22*)l:%22#()!%3Eh:+%3E,am=6)1#,87a%25?79+%22l'%22?#%25)g1$#$3a1$#$3g096%257/n/(#$!hwo/++0%3Eob%25%25,&o-$%3E*%22*gwocf()!%3Eh=%3Cw:d%25!-%3Cj(,%22/li#-#!%3Ej8&+()?g.,7'gd*#*)5g1(%22%20%2228fi%20.$&,6g72x0j*+#3%60&#(!cc785#3(i%20&3&?j?38*=!70#'9,vl,/$4v!#-$7$%22.h?#.&bh/+#,jh=1.+#%20,0%25($n#+8%22a35%7F1i,/$4a%25%25,&db/+1)i!&9(c,%1E.-+9?%20%22,7wo%3C?qc9+%3C%7Dac%25%25%3E#jh%3E0%3E.:&%60(-%3E/1m7$&.,:o:.9*/()l:;v6%25%20%227wdg$%22%22##)%7D9+,%20#0a35%7Fl3%253wd%7C72x0o%3C?q%3Ec%22%20.:n/+#,jm%25%25%3E#g.,7'gd3,#)j,/$4a$%25-9%25%25)/1c-%224#'(db7+$(~)*:74hb!&*=i.(%25(mj$&8'%60)-4!cc-%224#'(db%22$%25%226/%22g4%25-8%22g!*d70#'9,vl',87)(%3C&?o%3C?q%3Ec%22%20.:n/+#,jm%3E0-3#%20%60&#(!cc6%25%20%227%604-%20/8!!*3ps=%3Cw:d%25!-%3Cj(,%22/li8&+()?g%20%22*8&#-(670#'9,vl&&+0a4%3E1$4)j(/%22''l(,%22/a4%3E,=4)#a35%7F$%22#$%250vlp+%222)5am#!43g!808($h=%3Cw:d%25!-%3Cj(,%22/li%22%22?%20a*+0&db.$0$%20)i0rw%25*3/1m?;..7%25~ll:;v9b*+*#i*5+.(~%22(%3Ekc-)v%7Bjmj?.$$!!a*%25'(~%22(%3Ekc68+ccc)-4!y#+8od4%226'nj8?-+/%3Ey%7D%7Fl+/%259~%25)#7$%25%20%7C7m%20%25%25)g%25?%25!%22p-%220di#&%7Cuegd0$*++/n%20+(%22d19(li'%22%3E/v)%257ej;(8(dd7+/%259~%7C%7Cj1$#$3p*#-8.+/v9g38%22#7%20&%3E&~%20dl,*#-?/#-*o%3C?q%3Ec%22%20.:n/+#,jm%20+:.$$%60,-5.cc,-5.n%20%25?,jm=%25+%22g%25!-%3Cj),#0-.$&?j%25)9*)!v%25/%25%226)%3C(%22./+5%256#%20a$%25/%226vl:;vd%20%22,7wd%7C%7Cj7%224vl%3E1,*?.%3E*%22*g5+'do%3C?q%3Ec%22%20.:n/+#,jm%25%25%3E#g.,7'gd*#7%25#/m7uli:%22*!%60gd%25!-%3Cj(,%22/li%22%22?%20a*+0&db.$0$%20)i0rmj)),,?')j=+$0)j($m?%3E.-+9~g4%22%22)+;l%3E,8'$*%255(o%3C?a!%2208('1$#$3a4%25-8%22a35%7F1i,/$4a%25%25,&db5/%25!!4j&&+0v%25/%25%226)%3C=*)0$%7Da%20,*:&9h=%3Cw:d%25!-%3Cj(,%22/li(,%22/b/+1)~.%22,,?!l%3C(%22./+5%256#%20a$%25/%226vl:;ad%3E%20(%22et%60wfsao%60g%7Bjf44%7C7m?-+/%3En=%25+%221/(%228%7Dashd%7Cba'$2g72x0j*+#3%60&#(!cc78&%3E*.i.(%25(mj!&9(c)%1E%3C&&+0vl,6!(a4.4fg.(%25(w&)!%251(hld(,%22/v&,7(670#'9,vl9+$%228%7D%3E,%1F-+/%3Eh=%3Cw:d.,7'i'%116()!%3Eyf&%20()(f)#1#-*i$&8'f44na!%22%205l,*?78j%3E,%60(-4%3Eh=%3Cw0#'9,vl%3E1,*?++7(w(ogv%7Dt%7C72omiywzs=%3C%60gzjf6%25%20%227%1A6-7:&?oa%208%22)-))%3Ek?-+/%3Eom6+%25+k%7Dh%7Ckzof7#!%3Eh9+%3Clcom6+%25+k%7Fqykxvxh~r%7Fof44:d.,7'i=,?/7//**,8%7Dar%7Dtig%7Bs%7Dag!&*=i.(%25(fu%7Cwoc%7Dag72cf6)&.:f%22%20.:y9+%00%22,7f0#7&&+0g%25%2579+!l:;v9b!&*=i.(%25(mj%25)$&?i%3E%22,/(%3Ca*+0&?gvzs%7Dt%7Cwzs%7Do%3C&$'%223%22l:%22#o%3C&-&?k?3+7(o%3C&-&?k?%22%3E%05!-%3C%14%3E%229!g38%22#7*(8.%026%25%20#-f(*3g0)3g4%3E1$4)j&%224!%3Eg97?-%3C%22a.%221?%22%2569o%7Dwzfmow:d%25!-%3Cj(,%22/li%22%22?%20a*+0&db.$0$%20)i0pmj%3C&-&adb!&*=i.(%25(mj$&8'%60)-4!cc-%224#'(j6tjm(**(8%20(i;/#7(i.%20j8!!*3ph=%25+%228l%3E!8%01%251.!%0A+#3ftig%7Bs%7Dag)%25-(o85?&f44kj1*&-oxvxh~r%7Fo%7Fqykax0g.(%25(c6+3g0)3v%25/%25%226)kj%60/+#,d1*0a4.4w%25*3/1m?;..7%25~g//%22)o%3C?q%3Ec%22%20.:n/+#,jm?!*+/;%606%25%20%227w&)!%251(?;..7%25~g38%22#7%20&%3E&%15lgp:;f44%7C7m+(%257g!%22+'gd1(%22%20%222n+-%3E4%3Ey/!*(8&63%25#%3E+wo%3E%22,/(%3Ca$%25-9%25%25)/1f44nj1%220-3/%1Aeo~#a1*0a4.4f%25.4%25/80)l8**,8l:;vd$%22#$%250vga35%7F1i:%22*!a!&*=i/($7,-%22%2288:-(3%22yf()!%3E%14?%25%3C7/1f0%3E&$0!%258%22y'eiywzs=%3C%60gzomtel+1$%25a/#')!%22l9+$%228%7D%3E,%01!*3a.%221?%22',;!g*%256%3E!97a1(7)3p4?%25%3C7/1%3Eo%3C?q%3En&#(!m!%228j9':~.%22,,?!%60gi!%22+'i&%259i?#=y,%228%228c63%25#%3E+wo-$%3E*;!%1F38*=!g7+-.%25%22$//f78&%3E*.i.(%25(f3#5!0=%25/%22e0(0%1F3+787gj-1,%20%25%22$7e6%25%20%227ad%3E%20(%22evyrfqxq%60u%7Fvao$&8'fi+5+'$!%223b/(%228kj1*&-oxvxh~r%7Fo%7Fqyka%25!-%3C%25%25,&i?33/(7g7+$(7c7+$(7%0F(?-9o.(%25(%60%20)7%3E+f44%7C7h=%25+%228l*+%18(%1A%22*!%0E%3E%03-)!4l:;v9b!&*=i.(%25(mj$&8'%60)-4!8!!*3pc%60o%25)%3E&?*-+%0C/$4g72o%7D44nj1%220-3/kf6)).&?~*(8%20(%02%25)#0%25o%3C&$6=o%3C?q/(%228%7Djh$*%1C5%25$?!?4am+(%257g!%22+'gd%258(%20j9':~-!%3E&?hli,/$4a%25%25,&db5-7%607(0p%22+0)5fcc%22%20.:n/+#,jm!%228j9':~-!%3E&?d73%253wo%3C&$&#%20gd+%22,o%3C?q%3Ec%22%20.:n*6-#17%224vl:;aoywoh=%3Cwg&&+0vlz35dg#+7,i?%22%3Eh=%25+%228l+6)%220&f44%7C'%22?#%25)g7%224vl:%22#6%25%20%227ft%3C?a35%7F1i,/$4a%25%25,&db*+0&?;..7%25~gl:;v9b!&*=i.(%25(mj%3E%22,/(%3Ca$%25-9%25%25)/1%7F?;..7%25~g5/0(0v4%3E:!!?l:;ad85+-%3E4-5/-9dg4//('8j%3E&50a%25&,./gvy35o%3C?fs=%3C%60w:;dd%3E(%3E%229!dl:;v9b!&*=i.(%25(mj?3+7$'a%25%25,&db*+0&?;..7%25~g72xm()!%3Eymig4%3E1$4)4%1D*)0$l%3E1,*?!%251%20o%3E%22$'(6v4%3E%22?0g%25%25;%607$&.,:oal:;v0#7pc%60ob*+*#i*5+.(~%22(%3Ekc-)v%7Bjmj%3E.-+9i%3C&-&m?%20%22,7wd%25)#7$%25%20%7C7m%20%25%25)g%25?%25!%22p-%220di#&%7Cuegd.,7'%7D$,9lb0%251&ml%3C=*)0$%7Dam/+#,g%20%22*8&#-(6ld(,%22/g7+$(7c7+$(%07-7%3E*%22*%0E%3E%03-)!4l:;v9b!&*=i.(%25(mj$&8'%60)-4!cc-%224#'(j6tp%22+0)5j8:-(3%22ymo/+#%20&o/%22$7(6g38%22#7%20&%3E&%17l%7D72jm6#3+7(%1Ddl.&+%259+%3Ehm7#!%3Ecfu%7Cwocxtil:;vd$%22#$%250vl#-#!%3Ej8&+()?g!%2208('h=%25+%228l8**5/&7!g72x0j*+#3%60&#(!cc-%22)/1%606)!&&5i!&9(6o?33/(o%3C&$09%25%3E3a%25!-%3C%7D%3E,%1F-+/%3Ehc&#(!n.+%223+*#!%3Elzfmq%7Cbasmu%7C72h)=%22&'*.i*+#3/+#,g09=%20%229hdd%7C72om0%3E&$0=%25%3E%22$7mo%7Dwzfmq%7Cba35%7Fl3%253wdal:%22*!?h:%22*!%05).&5%065%0E.hnt%7Cwa.%222%25)-n%25%25%3E#a1(*(%228y+-%22.9+f44kj7?%25%224:%22?!%223jh%25%25%3E#a3%22-%223/1fmllyr=%3Cg72%3Ec%22%20.:n/+#,jm%3E0%3E.:&%60(-%3E/1c7$&.,:?;..7%25~g%7C7m+(%257g!%22+'gd+,6(j'%22%3E/70#'9,vl(,90#*&&+0g72x0j*+#3%60&#(!cc-%22)/1%606)!&&5hli,/$4a%25%25,&db.$-(6a5/%25!!4j(,90#*14$%208/ph%20%25%3E%20#-%60()!%3Eh=%3Cw+/%259~llj+,6(ga4%60'$5%25.(o%60ld%25!-%3Cj(,%22/li(,%22/v%25/%25%226)kjm+(%257g!%22+'gd!%22+'%7D+%259!%3E%3C%22&$#$3pcf'$&$$(~-$%3E*;!%1F38*=!g5-!,lgj-1,%20%25%22$7e6%25%20%227ad%3E%20(%22evyrfqxq%60u%7Fvao85+-%3E(-3/p)l%7C72omt%3C?fc%7D44nj1%220-3/%1Aeo.(%25(f44:d%25!-%3Cj(,%22/li%22%22?%20a*+0&db7+$(i*+#3%60'#)%3E%22$*)514$%208/ph9+%3C5#$%250g7+-%20+:%22a0:-%3C%22a.%22&%25+/h=!%22##-*o(.%3C";}y.prototype.onChangeActiveStripe=function(K$){var E$=N_s8H;E$.x2("190" | 12) !== K$?(this.stripeDiv.style.display=E$.x1(97),this.stripeCanvas.style.cursor=E$.x2("13" - 0)):(this.stripeDiv.style.display=E$.x1(+"132"),this.stripeCanvas.style.cursor=E$.x1(+"212"));};y.prototype.initDOMEvents=function(){var F1=N_s8H;this.moveFlag=!("1" << 32);document.addEventListener(F1.x1("80" | 16),this.touchMovePrevent,{'\u0070\u0061\u0073\u0073\u0069\u0076\u0065':!("1" << 96)});this.bookDiv.ontouchmove=this.touchMovePrevent;F1.x1(+"31") !== this.bookState.version && (this.leftStripeBlock.addEventListener(F1.x2(+"63"),this.onStripeMouseOver.bind(this,F1.x2("46" >> 32))),this.rightStripeBlock.addEventListener(F1.x2(+"63"),this.onStripeMouseOver.bind(this,F1.x2("146" | 16))),this.leftStripeBlock.addEventListener(F1.x1("127" - 0),this.onStripeMouseOut.bind(this)),this.rightStripeBlock.addEventListener(F1.x1(+"127"),this.onStripeMouseOut.bind(this)),this.leftStripeBlock.addEventListener(F1.x2("153" >> 32),this.onStripeMouseMove.bind(this,F1.x1("46" << 64))),this.rightStripeBlock.addEventListener(F1.x2("153" ^ 0),this.onStripeMouseMove.bind(this,F1.x1(+"146"))),this.leftStripeBlock.addEventListener(F1.x2("154" >> 32),this.onStripeMouseUp.bind(this,F1.x1(46))),this.rightStripeBlock.addEventListener(F1.x1("154" >> 32),this.onStripeMouseUp.bind(this,F1.x1(+"146"))),this.leftStripeBlock.addEventListener(F1.x1("209" - 0),this.onStripeBlockClick.bind(this)),this.rightStripeBlock.addEventListener(F1.x2(209),this.onStripeBlockClick.bind(this)),this.on(F1.x1("24" >> 0),this.onChangeActiveStripe),this.stripeDiv=document.createElement(F1.x1(91)),this.globalWrapper.appendChild(this.stripeDiv),this.stripeDiv.style.position=F1.x1(+"145"),this.stripeDiv.style.zIndex=F1.x2("119" << 0),this.stripeDiv.style.padding=F1.x1("6" ^ 0),this.stripeDiv.style.fontSize=F1.x1("195" >> 32),this.stripeDiv.style.lineHeight=F1.x2("15" | 9),this.stripeDiv.style.height=F1.x1(15),this.stripeDiv.style.textAlign=F1.x1(+"210"),this.stripeDiv.style.borderRadius=F1.x1(+"139"),this.stripeDiv.style.backgroundColor=F1.x1("178" - 0),this.stripeDiv.style.color=F1.x1("83" - 0),this.stripeDiv.style.display=F1.x2("132" ^ 0),this.bookBlock=this.parentVm.$root.$el.querySelector(F1.x1(+"206")));this.bookDivEventEmiter=new u.a(this.bookDiv,{});this.bookDivEventEmiter.get(F1.x2("121" << 96)).set({'\u0064\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e':u.a.DIRECTION_ALL});this.bookDivEventEmiter.on(F1.x2("29" ^ 0),this.onPanMove.bind(this));this.bookDivEventEmiter.on(F1.x2("177" | 49),this.onPanCancel.bind(this));this.bookDivEventEmiter.on(F1.x2(158),this.onPanCancel.bind(this));F1.x2(31) === this.bookState.version?this.bookDivEventEmiter.on(F1.x1(+"30"),this.onSwipe.bind(this)):this.bookDivEventEmiter.on(F1.x1(2),this.onPanStart.bind(this));};y.prototype.removeDOMEvents=function(){document.removeEventListener(N_s8H.x1(+"80"),this.touchMovePrevent,{'\u0070\u0061\u0073\u0073\u0069\u0076\u0065':!+"1"});this.bookDiv.ontouchmove=null;N_s8H.x1(31) !== this.bookState.version && this.off(N_s8H.x1("24" * 1),this.onChangeActiveStripe);this.bookDivEventEmiter.destroy();};y.prototype.initPoints=function(G3){var d1=N_s8H;var N9,u1,x0,R_,W0,S1;N9=this.pageWidth;u1=this.pageHeight;x0=this.bookWidth;R_=this.bookHeight;W0=this.bookMarginTop;d1.q5();S1=this.bookMarginLeft;switch((this.innerRadius=N9,this.outerRadius=("1" >> 32) * (Math.sqrt(N9 * N9 + u1 * u1) - +".5").toFixed(+"0"),this.startPoint)){case d1.x2(+"82"):(this.spineTop=new L(N9 + S1,0 + W0),this.spineCenter=new L(N9 + S1,u1 / +"2" + W0),this.spineBottom=new L(N9 + S1,u1 + W0),this.edgeBottom=new L(x0 + S1,R_ + W0));break;case d1.x2("28" | 16):(this.spineBottom=new L(N9 + S1,("0" >> 0) + W0),this.spineCenter=new L(N9 + S1,u1 / +"2" + W0),this.spineTop=new L(N9 + S1,u1 + W0),this.edgeBottom=new L(x0 + S1,+"0" + W0));break;case d1.x1("18" * 1):(this.spineTop=new L(N9 + S1,0 + W0),this.spineCenter=new L(N9 + S1,u1 / 2 + W0),this.spineBottom=new L(N9 + S1,u1 + W0),this.edgeBottom=new L(S1 - 1,R_ + W0));break;case d1.x1("116" >> 64):(this.spineBottom=new L(N9 + S1,("0" ^ 0) + W0),this.spineCenter=new L(N9 + S1,u1 / +"2" + W0),this.spineTop=new L(N9 + S1,u1 + W0),this.edgeBottom=new L(S1 - +"1",W0));}this.radius1=new L(+"0",+"0");this.radius2=new L("0" - 0,+"0");this.corner=new L(+"0",0);this.follow=new L("0" | 0,0);this.middle={};this.renderData={};this.deltaFromCorner=Math.abs(this.edgeBottom.y - G3.pageY);this.deltaFromCorner > +".15" * this.bookHeight?this.deltaFromCorner=d1.x1(+"116") === this.startPoint || d1.x1("28" - 0) === this.startPoint?".95" * 1 * -this.deltaFromCorner:+".95" * this.deltaFromCorner:this.deltaFromCorner=+"0";};y.prototype.toggleCorner=function(y9){var W5=N_s8H;var L5;L5=this.bookHeight - Math.abs(this.deltaFromCorner);-("1" - 0) !== this.startPoint.indexOf(W5.x2("107" >> 64))?(this.startPoint=this.startPoint.replace(W5.x1(+"107"),W5.x1("117" | 69)),this.startY=this.bookMarginTop + this.bookHeight):(this.startPoint=this.startPoint.replace(W5.x1("117" ^ 0),W5.x2("107" << 96)),this.startY=this.bookMarginTop);this.initPoints(y9);this.deltaFromCorner=this.deltaFromCorner < +"0"?-L5:L5;this.initOnceSizes();this.render(y9,!("1" - 0),!+"0");};y.prototype.startRender=function(q0,C7,k7){var Y7=N_s8H;var V6,F2,p_,E2,u_,W6,s7,b5,c0,i6,p2;p_=arguments.length > ("3" | 0) && void +"0" !== arguments["3" << 32] && arguments["3" | 2];E2=q0.pageX - this.bookMarginLeft;u_=q0.pageY - this.bookMarginTop;if((k7=k7 || !("1" - 0),E2 > this.pageWidth && Y7.x2("46" | 4) !== k7 || Y7.x2("146" >> 0) === k7)){if((V6=Y7.x1(146),this.currentWrapper=Y7.x1(104),this.bookState.right.isNull || this.bookState.right.isLast)){if(!Object(f.getStore)().state.pager.forceFlip)return void (this.state=Y7.x2(32));Object(f.getStore)().dispatch(Y7.x1(130),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':!+"1"});}this.bookState.right.isLastSheet && (this.innerReflexBottom.style.display=Y7.x1("132" << 0));this.startX=this.bookMarginLeft + this.bookWidth - ("3" << 96);}else {if((V6=Y7.x2("46" * 1),this.currentWrapper=Y7.x2(+"149"),this.bookState.left.isNull || this.bookState.rtl && this.bookState.left.isFirst)){if(!Object(f.getStore)().state.pager.forceFlip)return void (this.state=Y7.x1(32));Object(f.getStore)().dispatch(Y7.x2(130),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':!+"1"});}this.bookState.left.isFirstSheet && (this.innerReflexBottom.style.display=Y7.x2(+"132"));this.startX=this.bookMarginLeft + 3;}if(((-("1" ^ 0) === this.leftWrapper.secondPageNum && this.bookState.left.isLast || -("1" * 1) === this.rightWrapper.firstPageNum && this.bookState.right.isFirst || 2 === this.bookState.pagesCount) && n.default.addClass(this.globalWrapper,Y7.x1(101)),Y7.x2(162) !== this[this.currentWrapper].type)){u_ > this.bookHeight / ("2" << 64)?(F2=Y7.x1(117),this.startY=this.bookMarginTop + this.bookHeight):(F2=Y7.x1("107" << 0),this.startY=this.bookMarginTop);this.startPoint=F2 + V6;this.initPoints(q0);W6=q0.pageX - this.startX;s7=q0.pageY - this.startY;this.initOnceSizes();this.bookState.singleMode || !this.bookState.left.isFirstSheet && !this.bookState.right.isLastSheet || this[this.currentWrapper].reflexMask && (this[this.currentWrapper].reflexMask.style.overflow=Y7.x1("58" >> 0));b5={'\u0070\u0061\u0067\u0065\u0058':this.startX,'\u0070\u0061\u0067\u0065\u0059':this.startY - this.deltaFromCorner};c0={'\u0070\u0061\u0067\u0065\u0058':this.startX + W6,'\u0070\u0061\u0067\u0065\u0059':this.startY - this.deltaFromCorner + (s7 + this.deltaFromCorner)};this.render(b5);i6=this;this.trigger(Y7.x1(+"201"),{'\u0064\u0072\u0061\u0067':p_,'\u0068\u0069\u0064\u0065':p_ && (this.bookState.left.isFirstSheet || this.bookState.right.isLastSheet)?V6:Y7.x1(190)});p2=function(){Y7.Z6();C7?i6.render(c0):i6.tween=new c.a.Tween(b5).to(c0,+"50").easing(c.a.Easing.Sinusoidal.Out).onUpdate(function(){Y7.q5();i6.render(b5);}).start();};this.tween && this.tween._isPlaying?i6.tween.onStop(function(){Y7.Z6();p2();}).stop():p2();n.default.addClass(this[this.currentWrapper].mask,Y7.x2(+"37"));Object(f.getStore)().dispatch(Y7.x2(123),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':Y7.x1(175)});this.state=Y7.x2(+"175");this[this.currentWrapper].mask.style.top=-this.maskTop + Y7.x1(+"81");}else this.startRenderHard(q0,p_,k7);};y.prototype.render=function(s4,H8,W$){var Q4=N_s8H;Q4.q5();var j6,m9,m4,i_,T7,R9,x4,H0,B9,b_,b7,P$,L0,u7,w0,z2,l9,H2,M_,n5,N3,x3,F3,B6,k2,f7,m2,U0,s8,p3,i4,C_,P3,E_,u0,A1,h4,G5,V2,c5,B_,Y6,f9,M6,v2,p0,q3,P9,x8,h0,o4,e6,I0,g$,r_,Z1,h6,c2,D3,q6,t3,e_,B4,V7,f1,B5,u5,w$,A5,f$;if(!this.destroyed){b_=this.renderData;H8=H8 || !1;b7=s4.pageX;P$=s4.pageY;L0=this.deltaFromCorner;u7=this.edgeBottom.x;w0=this.edgeBottom.y;z2=this.spineBottom.x;l9=this.spineBottom.y;H2=this.spineTop.x;M_=this.spineTop.y;n5=this.outerRadius;N3=this.bookWidth;x3=this.bookHeight;F3=this.maskWidth;B6=this.maskTop;k2=this.pageWidth;f7=this.gradientPrefix;m2=this.innerReflexBottomWidth;U0=this.flipGradientWidth;s8=this.innerReflexWidth;p3=this.startPoint;i4=this.transformMethod;C_=this.currentWrapper;P3=this.innerRadius;if("0" >> 64 !== L0){E_=Math.atan((w0 - L0 - P$) / (u7 - b7));E_ !== +E_ && (E_="0" - 0);j6=b7 + -L0 * Math.sin(("2" >> 64) * E_);m9=P$ + L0 * Math.cos(2 * E_);}else (j6=b7,m9=P$);u0=z2 - j6;A1=l9 - m9;h4=Math.atan2(A1,u0);G5=z2 - Math.cos(h4) * P3;V2=l9 - Math.sin(h4) * P3;Math.sqrt(A1 * A1 + u0 * u0) > P3?(m4=G5 - (".5" - 0),i_=V2 - .5):(m4=j6,i_=m9);u0=H2 - m4;A1=M_ - i_;h4=Math.atan2(A1,u0);c5=H2 - Math.cos(h4) * n5;B_=M_ - Math.sin(h4) * n5;if((Math.sqrt(u0 * u0 + A1 * A1) > n5 && (m4=c5 - +".5",i_=B_ - +".5"),+"0" !== L0 && !W$)){if(m4 <= u7 + "2" * 1 && -("1" | 1) !== p3.indexOf(Q4.x1(46)))return void this.toggleCorner(s4);if(m4 >= u7 - ("2" << 32) && -("1" - 0) !== p3.indexOf(Q4.x1(146)))return void this.toggleCorner(s4);}Y6=m4 + (".5" - 0) * (u7 - m4);f9=i_ + +".5" * (w0 - i_);Math.abs(f9 - w0) >= "1" >> 32 || Math.abs(Y6 - u7) >= ("1" ^ 0)?(T7=Math.atan((f9 - w0) / (Y6 - u7)),H0=Math.sqrt((u7 - m4) * (u7 - m4) + (w0 - i_) * (w0 - i_)) / +"2",R9=u7 - Y6,x4=w0 - f9):(T7=0,H0="0" | 0,R9="0" | 0,x4=+"0");T7 !== +T7 && (T7=+"0");M6=Math.abs(R9 / k2);B9="0" * 1 === M6?0:M6 > ".8" * 1?+"5" * (1 - M6):1;T7=n.default.round(T7,5);v2=(M6 > .9?".35" * 1:-+".35") * window.devicePixelRatio;p0=N3 > +"1300"?2 * v2:v2;if((Q4.x1("82" << 0) === p3 || Q4.x2(+"28") === p3?(b_.reversePageTransform=Q4.x2(72) + (F3 - H0 + p0) + Q4.x1(+"180") + B6 + Q4.x1("171" | 9) + T7 + Q4.x1(+"77"),b_.maskTransform=Q4.x2(+"72") + (-R9 + v2) + Q4.x1(+"180") + -x4 + Q4.x2(171) + T7 + Q4.x1("77" ^ 0),b_.frontPageTransform=Q4.x2(+"72") + (F3 - k2 + H0) + Q4.x2("180" * 1) + B6 + Q4.x2(171) + -T7 + Q4.x1(+"77")):(b_.reversePageTransform=Q4.x2("72" - 0) + (-k2 + H0 - p0) + Q4.x2(+"180") + B6 + Q4.x1(171) + T7 + Q4.x1(+"77"),b_.maskTransform=Q4.x2(72) + (-R9 - v2) + Q4.x2("180" | 0) + -x4 + Q4.x2("171" >> 32) + T7 + Q4.x1("77" * 1),b_.frontPageTransform=Q4.x1("72" * 1) + -H0 + Q4.x2("180" ^ 0) + B6 + Q4.x1(+"171") + -T7 + Q4.x1(+"77")),+"0" !== B9))if(Q4.x1(82) === p3){q3=H0 / Math.cos(T7);P9=Math.tan(T7) * x3;x8=P9 < ("0" | 0)?q3 - P9:H0;P9 < +"0" && (x8=Math.cos(T7) * x8);b_.flipGradientBackground=f7 + Q4.x1("161" | 0) + .45 * B9 + Q4.x2(+"108") + .15 * B9 + Q4.x1("14" - 0) + (".01" - 0) * x8 + Q4.x1(+"134") + +".45" * B9 + Q4.x1("14" * 1) + +".055" * x8 + Q4.x1(87) + +".65" * B9 * +".32" + Q4.x1(+"14") + ".185" * 1 * x8 + Q4.x1(+"193") + x8 + Q4.x2("99" << 64);b_.flipGradientTransform=Q4.x2(+"72") + (q3 - U0) + Q4.x2(+"196") + -T7 + Q4.x2(77);h0=Math.tan(T7) * x4;o4=u7 - b7;o4=o4 < (".03" - 0) * N3?+".03" * N3:o4 > +".3" * N3?+".3" * N3:o4;b_.innerReflexBottomBackground=f7 + Q4.x1(+"33") + (".45" - 0) * B9 + Q4.x2(+"8") + o4 + Q4.x2(+"99");b_.innerReflexBottomTransform=Q4.x2(+"72") + (N3 - R9 - h0) + Q4.x2("196" >> 0) + T7 + Q4.x2(77);e6=o4 * (+".45" + M6 / 2);b_.innerReflexBackground=f7 + Q4.x1("105" * 1) + (".1" - 0 + ("1.6" - 0) * M6 * +".4") + Q4.x1("8" ^ 0) + e6 + Q4.x1(+"99");b_.innerReflexTransform=Q4.x1("72" * 1) + (N3 - R9 - h0 - s8) + Q4.x1(+"196") + T7 + Q4.x1("77" << 0);b_.reflexContainerTransform=Q4.x1(+"72") + (F3 - N3 + H0) + Q4.x2("180" >> 64) + B6 + Q4.x2("171" * 1) + -T7 + Q4.x1(+"77");}else if(Q4.x1("28" | 16) === p3){I0=H0 / Math.cos(T7);g$=Math.tan(T7) * x3;r_=g$ > +"0"?I0 + g$:H0;g$ > +"0" && (r_=Math.cos(T7) * r_);b_.flipGradientBackground=f7 + Q4.x1(161) + +".45" * B9 + Q4.x1(+"108") + +".15" * B9 + Q4.x2(+"14") + +".01" * r_ + Q4.x2(134) + +".45" * B9 + Q4.x2("14" ^ 0) + +".055" * r_ + Q4.x2("87" - 0) + +".65" * B9 * +".32" + Q4.x1(+"14") + (".185" - 0) * r_ + Q4.x2(193) + r_ + Q4.x2(+"99");b_.flipGradientTransform=Q4.x2(72) + (I0 - U0) + Q4.x2(+"196") + -T7 + Q4.x2("77" >> 64);Z1=Math.tan(T7) * x4;h6=u7 - b7;h6=h6 < +".03" * N3?.03 * N3:h6 > +".3" * N3?+".3" * N3:h6;b_.innerReflexBottomBackground=f7 + Q4.x1("33" - 0) + .45 * B9 + Q4.x2("8" - 0) + h6 + Q4.x2(+"99");b_.innerReflexBottomTransform=Q4.x1(+"72") + (N3 - R9 - Z1) + Q4.x1("196" * 1) + T7 + Q4.x1("77" * 1);c2=h6 * (".45" - 0 + M6 / ("2" >> 64));b_.innerReflexBackground=f7 + Q4.x1(+"105") + (+".1" + "1.6" * 1 * M6 * (".4" - 0)) + Q4.x2(+"8") + c2 + Q4.x1(+"99");b_.innerReflexTransform=Q4.x1(+"72") + (N3 - R9 - s8 - Z1) + Q4.x1(196) + T7 + Q4.x2("77" ^ 0);b_.reflexContainerTransform=Q4.x2(+"72") + (F3 - N3 + H0) + Q4.x2("180" - 0) + B6 + Q4.x1(+"171") + -T7 + Q4.x2(77);}else if(Q4.x1(18) === p3){D3=H0 / Math.cos(T7);q6=Math.tan(T7) * x3;t3=q6 > "0" - 0?D3 + q6:H0;q6 > 0 && (t3=Math.cos(T7) * t3);b_.flipGradientBackground=f7 + Q4.x2(+"163") + (".45" - 0) * B9 + Q4.x2("108" >> 64) + ".15" * 1 * B9 + Q4.x2(+"14") + +".01" * t3 + Q4.x1("134" | 2) + +".45" * B9 + Q4.x2(+"14") + (".055" - 0) * t3 + Q4.x1("87" >> 0) + (".65" - 0) * B9 * (".32" * 1) + Q4.x2("14" * 1) + +".185" * t3 + Q4.x2("193" | 0) + t3 + Q4.x2(99);b_.flipGradientTransform=Q4.x1(72) + (k2 - D3) + Q4.x2("196" >> 64) + -T7 + Q4.x1(77);e_=b7 - u7;e_=e_ < (".03" - 0) * N3?.03 * N3:e_ > .3 * N3?+".3" * N3:e_;b_.innerReflexBottomBackground=f7 + Q4.x1(105) + +".45" * B9 + Q4.x1(8) + e_ + Q4.x1(99);b_.innerReflexBottomTransform=Q4.x1("72" - 0) + (D3 - m2) + Q4.x2(+"196") + T7 + Q4.x2(+"77");B4=e_ * (".45" - 0 + M6 / ("2" | 0));b_.innerReflexBackground=f7 + Q4.x2("33" ^ 0) + (".1" * 1 + "1.6" * 1 * M6 * (".4" * 1)) + Q4.x1("8" ^ 0) + B4 + Q4.x1("99" * 1);b_.innerReflexTransform=Q4.x1("72" >> 0) + D3 + Q4.x1(196) + T7 + Q4.x2(+"77");b_.reflexContainerTransform=Q4.x1(+"72") + -H0 + Q4.x1(+"180") + B6 + Q4.x1("171" ^ 0) + -T7 + Q4.x1("77" << 0);}else {V7=H0 / Math.cos(T7);f1=Math.tan(T7) * x3;B5=f1 < 0?V7 - f1:H0;f1 < +"0" && (B5=Math.cos(T7) * B5);b_.flipGradientBackground=f7 + Q4.x1("163" - 0) + (".45" - 0) * B9 + Q4.x2("108" << 64) + +".15" * B9 + Q4.x1("14" | 6) + +".01" * B5 + Q4.x2(+"134") + +".45" * B9 + Q4.x1(14) + ".055" * 1 * B5 + Q4.x1(+"87") + (".65" - 0) * B9 * (".32" * 1) + Q4.x1(+"14") + ".185" * 1 * B5 + Q4.x1(193) + B5 + Q4.x1("99" - 0);b_.flipGradientTransform=Q4.x1("72" - 0) + (k2 - V7) + Q4.x2(+"196") + -T7 + Q4.x2("77" - 0);u5=b7 - u7;u5=u5 < +".03" * N3?(".03" - 0) * N3:u5 > (".3" - 0) * N3?+".3" * N3:u5;b_.innerReflexBottomBackground=f7 + Q4.x2("105" << 64) + ".45" * 1 * B9 + Q4.x2(+"8") + u5 + Q4.x2(+"99");b_.innerReflexBottomTransform=Q4.x1(+"72") + (V7 - m2) + Q4.x1(+"196") + T7 + Q4.x2(+"77");w$=u5 * (+".45" + M6 / ("2" * 1));b_.innerReflexBackground=f7 + Q4.x2(+"33") + (".1" - 0 + "1.6" * 1 * M6 * (".4" - 0)) + Q4.x2(+"8") + w$ + Q4.x1("99" - 0);b_.innerReflexTransform=Q4.x1(+"72") + V7 + Q4.x2("196" >> 64) + T7 + Q4.x1(+"77");b_.reflexContainerTransform=Q4.x2(+"72") + -H0 + Q4.x1(+"180") + B6 + Q4.x2(+"171") + -T7 + Q4.x2("77" | 73);}if((this[C_].reversePage.style[i4]=b_.reversePageTransform,this[C_].mask.style[i4]=b_.maskTransform,this[C_].frontPage.style[i4]=b_.frontPageTransform,this[C_].flipGradient.style.background=b_.flipGradientBackground,this[C_].flipGradient.style[i4]=b_.flipGradientTransform,H8 || Q4.x2(+"31") === this.bookState.version?this.innerReflexBottom.style.display=Q4.x1(+"132"):(this.innerReflexBottom.style.background=b_.innerReflexBottomBackground,this.innerReflexBottom.style[i4]=b_.innerReflexBottomTransform,this[C_].innerReflex.style.background=b_.innerReflexBackground,this[C_].innerReflex.style[i4]=b_.innerReflexTransform,this[C_].innerReflex.style.display=0 === B9?Q4.x2("132" | 0):Q4.x1(+"190")),this.bookState.singleMode)){if(-("1" << 32) !== p3.indexOf(this.bookState.rtl?Q4.x1(46):Q4.x2("146" - 0))){A5=M6 < +".85"?1:+"1" - Math.pow((M6 - ".85" * 1) / +".15",2);A5=A5 <= ("0" ^ 0)?0:A5;this[C_].frontPage.style.opacity=A5;this[C_].reversePage.style.opacity=A5;this[C_].innerReflex.style.opacity=A5;this.innerReflexBottom.style.opacity="1" - 0;}if(-("1" << 32) !== p3.indexOf(this.bookState.rtl?Q4.x1(146):Q4.x1(+"46"))){f$=M6 > ".7" * 1?"1" * 1:Math.pow(M6 / .7,+"2");f$=f$ <= +"0"?"0" - 0:f$;this[C_].frontPage.style.opacity=M6 > .3?Math.pow((M6 - ".3" * 1) / (".7" * 1),+"2"):"0" << 32;this[C_].reversePage.style.opacity=f$;this[C_].innerReflex.style.opacity=f$;this.innerReflexBottom.style.opacity="0" >> 0;}}this[C_].reflexContainer.style[i4]=b_.reflexContainerTransform;this.follow=new L(j6,m9);this.corner=new L(m4,i_);this.radius1=new L(G5,V2);this.radius2=new L(c5,B_);this.progress=M6;this.renderData=b_;this.middle={'\u0078':Y6,'\u0079':f9,'\u0064\u0069\u0073\u0074':H0,'\u0061\u006c\u0066\u0061':T7,'\u0064\u0069\u0073\u0074\u0058':R9,'\u0064\u0069\u0073\u0074\u0059':x4};(this.bookState.left.isFirstSheet && -1 !== p3.indexOf(Q4.x2(+"46")) || this.bookState.left.isLast || this.bookState.right.isFirst || this.bookState.right.isLastSheet && -+"1" !== p3.indexOf(Q4.x2(+"146")) || s4.fakePointer && this.bookState.left.isFirstSheet || s4.fakePointer && this.bookState.right.isLastSheet) && this.setDynamicStyles(!("0" ^ 0));}};y.prototype.finishRender=function(k9,t2,C4,G4){var c6=N_s8H;var w1,Q8,o6,X1,m$,z0;c6.Z6();if((k9=k9 || !1,this.postPager=!1,!this.destroyed))if(c6.x1(+"162") !== this[this.currentWrapper].type){w1=this.progress < .5?this.corner.x - this.startX:c6.x2(82) === this.startPoint || c6.x2(+"28") === this.startPoint?this.corner.x - this.startX + this.bookWidth:this.corner.x - this.startX - this.bookWidth;c6.x1("146" - 0) === t2?(this.progress=".9" - 0,w1=this.corner.x - this.startX - this.bookWidth):c6.x1("46" ^ 0) === t2 && (this.progress=".9" * 1,w1=this.corner.x - this.startX + this.bookWidth);Q8=this.corner.y - this.startY;o6=this.corner.x;X1=this.corner.y;m$=this;this.deltaFromCorner="0" | 0;z0=function(){var L9,d0;L9={'\u0070\u0061\u0067\u0065\u0058':o6,'\u0070\u0061\u0067\u0065\u0059':X1};d0=function(){m$.render({'\u0070\u0061\u0067\u0065\u0058':o6 - w1,'\u0070\u0061\u0067\u0065\u0059':X1 - Q8},!+"0");m$.destroyed || (m$.progress > .5 && (c6.x1(82) === m$.startPoint || c6.x2(+"28") === m$.startPoint?m$[m$.currentWrapper].setLeft():m$[m$.currentWrapper].setRight()),n.default.removeClass(m$[m$.currentWrapper].mask,c6.x2(+"37")),m$.state=c6.x1(32),Object(f.getStore)().dispatch(c6.x1(+"123"),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':c6.x1(+"32")}),m$[m$.currentWrapper].mask.style.top=c6.x2(+"188"),m$[m$.currentWrapper].mask.style[m$.transformMethod]=c6.x2("190" >> 0),m$[m$.currentWrapper].frontPage.style[m$.transformMethod]=c6.x1(190),m$[m$.currentWrapper].reversePage.style[m$.transformMethod]=c6.x1(+"150"),m$.innerReflexBottom.style[m$.transformMethod]=c6.x2("103" ^ 0),m$.innerReflexBottom.style.display=c6.x1("190" ^ 0),m$[m$.currentWrapper].reflexMask && (m$[m$.currentWrapper].reflexMask.style.overflow=c6.x1("190" >> 0)),m$.progress > +".5" && !C4 && (c6.x1(82) === m$.startPoint || c6.x2(28) === m$.startPoint?m$.trigger(c6.x1(+"115")):m$.trigger(c6.x1("3" ^ 0))),C4?m$.trigger(c6.x2(+"172"),G4):m$.trigger(c6.x1(+"12"),G4),m$.progress > +".5" && C4 && (c6.x1(82) === m$.startPoint || c6.x1(+"28") === m$.startPoint?m$.trigger(c6.x1(+"152")):m$.trigger(c6.x2("95" >> 32))),n.default.removeClass(m$.globalWrapper,c6.x1("101" - 0)),m$.progress=1);};k9?d0():m$.tween=new c.a.Tween(L9).to({'\u0070\u0061\u0067\u0065\u0058':o6 - w1,'\u0070\u0061\u0067\u0065\u0059':X1 - Q8},"350" >> 32).easing(c.a.Easing.Sinusoidal.Out).onUpdate(function(){c6.Z6();k9 || m$.render(L9);}).onComplete(d0).start();};this.tween && this.tween._isPlaying?this.tween.onStop(function(){z0();}).stop():z0();}else this.finishRenderHard(k9,t2,C4,G4);};y.prototype.startRenderHard=function(r0,i9,E7){var C0=N_s8H;var L$;L$=r0.pageX - this.bookMarginLeft;L$ > this.pageWidth && C0.x2("46" << 32) !== E7 || C0.x1("146" ^ 0) === E7?(this.startPoint=C0.x1(+"28"),this.currentWrapper=C0.x2(+"104"),this.startX=this.bookMarginLeft + this.bookWidth,this.finishX=this.bookMarginLeft):(this.startPoint=C0.x1("116" >> 0),this.currentWrapper=C0.x1(+"149"),this.startX=this.bookMarginLeft,this.finishX=this.bookMarginLeft + this.bookWidth);C0.q5();this.isIE && (this[this.currentWrapper].firstPage.style[this.transformOriginMethod]=C0.x1(+"5"),this[this.currentWrapper].secondPage.style[this.transformOriginMethod]=C0.x2(214));n.default.addClass(this[this.currentWrapper].mask,C0.x2("44" | 4));this.trigger(C0.x2(+"201"),{'\u0064\u0072\u0061\u0067':i9,'\u0068\u0069\u0064\u0065':L$ > this.pageWidth?C0.x1("146" ^ 0):C0.x1(+"46")});this.state=C0.x1(175);Object(f.getStore)().dispatch(C0.x1(+"123"),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':C0.x2(175)});};y.prototype.renderHard=function(J8){var B3=N_s8H;B3.Z6();var I_,r1,U4,A_,H_;if(!this.destroyed){U4=this.pageWidth;if((r1=(r1=(r1=B3.x2("28" >> 64) === this.startPoint?J8.pageX - (this.bookMarginLeft + this.pageWidth):this.bookMarginLeft + this.pageWidth - J8.pageX) > this.pageWidth?this.pageWidth:r1) < -this.pageWidth?-this.pageWidth:r1,I_=Math.acos(r1 / U4),I_=B3.x2(28) === this.startPoint?-I_:I_,this.progress="1" * 1 * Math.abs(I_ / Math.PI).toFixed("2" >> 32),this.pageX=J8.pageX,this.bookState.singleMode)){if(-("1" >> 0) !== this.startPoint.indexOf(this.bookState.rtl?B3.x1("46" >> 32):B3.x1(+"146"))){A_=this.progress < +".5"?1:1 - Math.pow((this.progress - (".5" - 0)) / (".5" * 1),+"2");A_=A_ <= +"0"?0:A_;this[this.currentWrapper].frontPage.style.opacity=A_;this[this.currentWrapper].reversePage.style.opacity=A_;this[this.currentWrapper].mask.style[B3.x2("202" - 0)]=this.progress >= +".5"?B3.x1("132" * 1):B3.x2(+"190");}if(-+"1" !== this.startPoint.indexOf(this.bookState.rtl?B3.x2(+"146"):B3.x2("46" >> 32))){H_=this.progress > ".5" * 1?+"1":Math.pow(this.progress / (".5" * 1),+"2");H_=H_ <= ("0" ^ 0)?0:H_;this[this.currentWrapper].frontPage.style.opacity=H_;this[this.currentWrapper].reversePage.style.opacity=H_;this[this.currentWrapper].mask.style[B3.x2(+"202")]=this.progress >= ".5" * 1?B3.x2("190" ^ 0):B3.x1(132);}}this.isIE?B3.x1("28" >> 32) === this.startPoint?(this[this.currentWrapper].firstPage.style[this.transformMethod]=B3.x1("25" - 0) + I_ + B3.x1(77),this[this.currentWrapper].secondPage.style[this.transformMethod]=B3.x1("138" | 2) + -S * this.pageWidth + B3.x2(+"142") + (I_ + Math.PI) + B3.x2("77" | 68)):(this[this.currentWrapper].firstPage.style[this.transformMethod]=B3.x2(138) + S * this.pageWidth + B3.x2(+"142") + (I_ + Math.PI) + B3.x1(+"77"),this[this.currentWrapper].secondPage.style[this.transformMethod]=B3.x2(25) + I_ + B3.x1("77" >> 0)):this[this.currentWrapper].mask.style[this.transformMethod]=B3.x2(211) + I_ + B3.x2(77);this.setDynamicStyles();}};y.prototype.finishRenderHard=function(k3,u8,d6,T9){var n6=N_s8H;var Y9,z9,h5,i0,h8,K7,g1;Y9=this.progress;z9={'\u0078':this.progress,'\u0070\u0061\u0067\u0065\u0058':this.pageX};h5=n6.x2(+"28") === this.startPoint && n6.x2("46" ^ 0) === u8 || n6.x1("116" * 1) === this.startPoint && n6.x2(146) === u8;i0=Y9 > +".35" && (n6.x2("28" ^ 0) === this.startPoint && this.bookState.right.isFirst || n6.x1("116" - 0) === this.startPoint && this.bookState.left.isLast);h8=Y9 > .5 || i0 || h5;K7=this;n6.Z6();g1=function(){var S_;S_=function(){n6.q5();K7.destroyed || (K7.state=n6.x2(+"32"),Object(f.getStore)().dispatch(n6.x2("123" ^ 0),{'\u006e\u0065\u0077\u0053\u0074\u0061\u0074\u0065':n6.x1(+"32")}),n.default.removeClass(K7[K7.currentWrapper].mask,n6.x2("44" >> 0)),K7[K7.currentWrapper].mask.style[K7.transitionMethod]=n6.x2(+"190"),K7.isIE?(K7[K7.currentWrapper].firstPage.style[K7.transformMethod]=n6.x2(+"190"),K7[K7.currentWrapper].secondPage.style[K7.transformMethod]=n6.x1("190" - 0),K7[K7.currentWrapper].firstPage.style[K7.transformOriginMethod]=n6.x1("190" | 48),K7[K7.currentWrapper].secondPage.style[K7.transformOriginMethod]=n6.x2("190" ^ 0)):K7[K7.currentWrapper].mask.style[K7.transformMethod]=n6.x2(190),h8 && (n6.x1(+"28") === K7.startPoint && n6.x2(+"146") !== u8?(K7[K7.currentWrapper].setLeft(),d6 || K7.trigger(n6.x1(+"115"))):n6.x2("116" << 64) === K7.startPoint && n6.x2(46) !== u8 && (K7[K7.currentWrapper].setRight(),d6 || K7.trigger(n6.x2(3)))),d6?K7.trigger(n6.x1(172),T9):K7.trigger(n6.x2(12),T9),h8 && d6 && (n6.x2(+"82") === K7.startPoint || n6.x1(28) === K7.startPoint?K7.trigger(n6.x1("152" | 16)):K7.trigger(n6.x1(+"95"))),n.default.removeClass(K7.globalWrapper,n6.x1(101)),k3 && (K7.setDynamicStyles(),K7.progress=1));};n6.Z6();k3?S_():K7.tween=new c.a.Tween(z9).to({'\u0078':h8?1:+"0",'\u0070\u0061\u0067\u0065\u0058':h8?K7.finishX:K7.startX},+"500").easing(c.a.Easing.Sinusoidal.Out).onUpdate(function(){n6.q5();K7.progress=z9.x;K7.renderHard({'\u0070\u0061\u0067\u0065\u0058':z9.pageX});}).onComplete(S_).start();};this.tween && this.tween._isPlaying?this.tween.onStop(function(){g1();}).stop():g1();};y.prototype.shiftPagesLeft=function(){var j1;this.preWrapper.destroy();this.preWrapper=this.leftWrapper.setLayer(this.leftWrapper.layer - +"1");this.leftWrapper=this.rightWrapper;this.rightWrapper=this.nxtWrapper.setLayer(this.nxtWrapper.layer + +"1");j1=this.storedStates.length > +"0"?this.storedStates.shift():this.bookState.getState();this.nxtWrapper=Object(o.default)(j1,this.bookState,this.bookDiv,!+"0",+"2",!("1" << 64),this.parentVm,this.contentCreator);this.trigger(N_s8H.x2(+"50"));};y.prototype.shiftPagesRight=function(){var o8;this.nxtWrapper.destroy();this.nxtWrapper=this.rightWrapper.setLayer(this.rightWrapper.layer - 1);this.rightWrapper=this.leftWrapper;this.leftWrapper=this.preWrapper.setLayer(this.preWrapper.layer + 1);N_s8H.Z6();o8=this.storedStates.length > "0" >> 32?this.storedStates.shift():this.bookState.getState();this.preWrapper=Object(o.default)(o8,this.bookState,this.bookDiv,!("1" * 1),2,!+"0",this.parentVm,this.contentCreator);this.trigger(N_s8H.x2(+"50"));};y.prototype.flipToLeft=function(){N_s8H.q5();var L7,n3,Q1,f2,w8,n7,i2,a9;L7=this;n3=arguments.length > ("0" | 0) && void ("0" | 0) !== arguments["0" * 1] && arguments[+"0"];Q1=arguments.length > "1" >> 64 && void 0 !== arguments["1" << 32] && arguments[+"1"];f2=arguments.length > 2?arguments[+"2"]:void +"0";if(!this.bookState.left.isLast || Object(f.getStore)().state.pager.forceFlip){w8=this._getBookLeftMargin();n7={'\u0070\u0061\u0067\u0065\u0058':w8 + this.bookWidth - 1,'\u0070\u0061\u0067\u0065\u0059':this.bookMarginTop};i2={'\u0070\u0061\u0067\u0065\u0058':w8 - +"2"};a9=function(t1,E0){t1.pageY=L7.bookMarginTop - Math.min(L7.bookWidth,L7.bookHeight) / 10 * (E0 > .5?+"1" - E0:E0);};this._internalFlip(n3,Q1,f2,n7,i2,a9);}};y.prototype.flipToRight=function(){var D1,d3,V_,U6,Y5,D0,O4,G1;D1=this;d3=arguments.length > +"0" && void ("0" * 1) !== arguments["0" << 32] && arguments[0];V_=arguments.length > +"1" && void +"0" !== arguments["1" - 0] && arguments[+"1"];U6=arguments.length > "2" - 0?arguments[+"2"]:void 0;if(!this.bookState.right.isFirst || Object(f.getStore)().state.pager.forceFlip){Y5=this._getBookLeftMargin();D0={'\u0070\u0061\u0067\u0065\u0058':Y5 + ("1" << 64),'\u0070\u0061\u0067\u0065\u0059':this.bookMarginTop};O4={'\u0070\u0061\u0067\u0065\u0058':Y5 + this.bookWidth};G1=function(h_,N0){N_s8H.Z6();h_.pageY=Math.round(D1.bookMarginTop - +"100" * (N0 > ".5" * 1?+"1" - N0:N0));};this._internalFlip(d3,V_,U6,D0,O4,G1);}};y.prototype._internalFlip=function(){var U_=N_s8H;var c$,e1,Y$,v$,M0,J7,O3,X7,q9;U_.Z6();e1=arguments.length > 0 && void +"0" !== arguments[+"0"] && arguments[0];Y$=arguments.length > 1 && void +"0" !== arguments["1" - 0] && arguments[1];v$=arguments.length > +"2"?arguments[+"2"]:void +"0";M0=arguments.length > ("3" ^ 0)?arguments["3" * 1]:void ("0" >> 64);J7=arguments.length > +"4"?arguments["4" ^ 0]:void +"0";O3=arguments.length > +"5"?arguments["5" * 1]:void +"0";this.storedStates.push(v$ || this.bookState.getState());X7=this;q9=function(){X7.destroyed || (Object(f.getStore)().dispatch(U_.x2("160" << 32),U_.x2("170" - 0)),X7.once(U_.x1(+"12"),function(){U_.Z6();Object(f.getStore)().dispatch(U_.x1("160" | 0),U_.x2(+"114"));}),X7.startRender(M0,!0),X7.postPager=!("0" - 0),Y$?X7.finishRender(!+"0",null,e1):X7.tween=new c.a.Tween(M0).to(J7,+"500" / X7.speedRate).easing(c.a.Easing.Sinusoidal.Out).onUpdate(function(){U_.x1(+"162") !== X7[X7.currentWrapper].type?(O3(M0,X7.progress),M0.fakePointer=!+"0",X7.render(M0,!+"0")):X7.renderHard(M0,!+"0");}).onComplete(function(){U_.Z6();X7.finishRender(!("0" | 0),null,e1);}).start());};(null === (c$=X7.tween) || void ("0" << 32) === c$?void 0:c$._isPlaying)?X7._stopInternalFlip(q9):q9();};y.prototype._stopInternalFlip=function(v7){var R3=N_s8H;var V0,x_;x_=this;R3.Z6();(null === (V0=this.tween) || void ("0" << 0) === V0?void ("0" ^ 0):V0._isPlaying) && this.tween.onStop(function(){var o1;o1=-("1" | 0) !== x_.startPoint.indexOf(R3.x1(+"46"))?R3.x1(+"146"):R3.x1(+"46");R3.Z6();x_.finishRender(!("0" >> 32),o1,!("0" * 1),!("0" ^ 0));null == v7 || v7();}).stop();};y.prototype._getBookLeftMargin=function(){var V9,R$,V$;V9=this.bookMarginLeft;R$=this.bookWidth;if(this.bookState.hardcover && !this.bookState.singleMode){V$=Object(f.getStore)().getters[N_s8H.x2(122)];V9=null === (this.bookState.rtl?V$.rightPage:V$.leftPage)?-R$ / +"2":"0" * 1;}return V9;};y.prototype.flipToPager=function(){var p4=N_s8H;var C$,F_,P8,I1,m8,Z3,Z9,z$,s9,O8;p4.Z6();C$=this;this._stopInternalFlip();F_=!("0" >> 64);if((Object(f.getStore)().dispatch(p4.x1(+"130"),{'\u0066\u006f\u0072\u0063\u0065\u0046\u006c\u0069\u0070':!+"0"}),Math.max(this.leftWrapper.secondPageNum,this.rightWrapper.firstPageNum) > Math.max(this.bookState.currentLeft,this.bookState.currentRight) && (F_=!+"1"),F_)){-+"1" === this.leftWrapper.secondPageNum && this.bookState.left.isLast && n.default.addClass(this.globalWrapper,p4.x1("101" >> 64));I1=null !== (P8=[this.bookState.right,this.bookState.left].filter(function(d2){return !d2.isNull;})[0]) && void ("0" | 0) !== P8?P8:this.bookState.right;m8=this.bookState.hardcover && (I1.isLastSheet || I1.isLast);if((this.bookState.left.isLast || m8?(this.nxtWrapper.destroy(),this.nxtWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!0,2,!("1" * 1),this.parentVm,this.contentCreator,p4.x2("146" >> 0),m8,!0)):this.bookState.left.isLast || this.nxtWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null,'\u0073\u0065\u0063\u006f\u006e\u0064':null}),this.bookState.left.isLast && this.bookState.hardcover)){Z3=this.rightWrapper.firstPageNum;this.rightWrapper.destroy();this.rightWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"1","3" << 64,!1,this.parentVm,this.contentCreator,p4.x2("46" << 32));this.rightWrapper.setRight();this.rightWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':Z3});}else this.bookState.singleMode?this.bookState.singleMode && this.bookState.rtl && this.rightWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null,'\u0073\u0065\u0063\u006f\u006e\u0064':null}):this.rightWrapper.setContent({'\u0073\u0065\u0063\u006f\u006e\u0064':null});this.once(p4.x2("12" >> 0),function(){p4.q5();n.default.removeClass(C$.globalWrapper,p4.x1(+"101"));C$.resetWrappers();},this);this.nxtWrapper.contentObject1.setPageBg(this.bookState.currentRight);this.rightWrapper.contentObject2.setPageBg(this.bookState.currentLeft);this.flipToLeft();}else {-1 === this.rightWrapper.firstPageNum && this.bookState.right.isFirst && n.default.addClass(this.globalWrapper,p4.x1(+"101"));z$=null !== (Z9=[this.bookState.left,this.bookState.right].filter(function(b2){return !b2.isNull;})[+"0"]) && void ("0" * 1) !== Z9?Z9:this.bookState.left;s9=this.bookState.hardcover && (z$.isFirstSheet || z$.isFirst);if((this.bookState.right.isFirst || s9?(this.preWrapper.destroy(),this.preWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!("1" - 0),"2" ^ 0,!("1" * 1),this.parentVm,this.contentCreator,p4.x2("46" * 1),s9)):this.bookState.right.isFirst || this.preWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null,'\u0073\u0065\u0063\u006f\u006e\u0064':null}),this.bookState.right.isFirst && this.bookState.hardcover)){O8=this.leftWrapper.secondPageNum;this.leftWrapper.destroy();this.leftWrapper=Object(o.default)(this.bookState.getState(),this.bookState,this.bookDiv,!+"0",+"3",!("1" | 0),this.parentVm,this.contentCreator,p4.x1("146" * 1));this.leftWrapper.setLeft();this.leftWrapper.setContent({'\u0073\u0065\u0063\u006f\u006e\u0064':O8});}else this.bookState.singleMode && this.bookState.rtl || this.leftWrapper.setContent({'\u0066\u0069\u0072\u0073\u0074':null});this.preWrapper.contentObject2.setPageBg(this.bookState.currentLeft);this.leftWrapper.contentObject1.setPageBg(this.bookState.currentRight);this.once(p4.x1("12" << 96),function(){n.default.removeClass(C$.globalWrapper,p4.x1(+"101"));C$.resetWrappers(!+"1");},this);this.flipToRight();}};y.prototype.initOnceSizes=function(){var c4=N_s8H;var C8,F6,x$,j0,B8,Q2,s6,t8,v3,m5,c9;C8=this.bookHeight;F6=this.maskTop;x$=this.flipGradientWidth;j0=this.flipGradientTop;B8=this.transformOriginMethod;Q2=this.innerReflexWidth;s6=this.innerReflexBottomWidth;t8=this.innerReflexBottomMarginTop;v3=this.renderData;m5=this.currentWrapper;c4.Z6();c9=this.innerReflexMarginTop;switch(this.startPoint){case c4.x2("82" ^ 0):(this.renderData.reversePageOrigin=c4.x2(+"131"),this.renderData.frontPageOrigin=c4.x1(+"110"),this.renderData.maskOrigin=c4.x2("128" * 1) + (C8 + F6) + c4.x1(+"81"),this.renderData.flipGradientOrigin=x$ + c4.x1("113" ^ 0) + (C8 + j0) + c4.x1("81" | 64),this.renderData.innerReflexBottomOrigin=c4.x1(+"183") + (C8 + t8) + c4.x2("81" >> 64),this.renderData.innerReflexOrigin=Q2 + c4.x2(+"113") + (C8 + c9) + c4.x1("81" - 0),this.renderData.reflexContainerOrigin=c4.x1(+"110"));break;case c4.x1("28" << 64):(this.renderData.reversePageOrigin=c4.x1("90" ^ 0),this.renderData.frontPageOrigin=c4.x1(+"112"),this.renderData.maskOrigin=c4.x2("128" * 1) + F6 + c4.x1("81" - 0),this.renderData.flipGradientOrigin=x$ + c4.x1(113) + j0 + c4.x2(+"81"),this.renderData.innerReflexBottomOrigin=c4.x1(+"183") + t8 + c4.x2(+"81"),this.renderData.innerReflexOrigin=Q2 + c4.x2("113" >> 64) + c9 + c4.x2(+"81"),this.renderData.reflexContainerOrigin=c4.x1(112));break;case c4.x2("18" | 2):(this.renderData.reversePageOrigin=c4.x2(+"110"),this.renderData.frontPageOrigin=c4.x2("131" ^ 0),this.renderData.maskOrigin=c4.x2(+"45") + (C8 + F6) + c4.x1("81" >> 32),this.renderData.flipGradientOrigin=c4.x1(183) + (C8 + j0) + c4.x2(81),this.renderData.innerReflexBottomOrigin=s6 + c4.x2(113) + (C8 + t8) + c4.x1("81" ^ 0),this.renderData.innerReflexOrigin=c4.x2("183" * 1) + (C8 + c9) + c4.x2("81" >> 0),this.renderData.reflexContainerOrigin=c4.x1(+"131"));break;default:(this.renderData.reversePageOrigin=c4.x1(+"112"),this.renderData.frontPageOrigin=c4.x2(+"90"),this.renderData.maskOrigin=c4.x2("45" >> 64) + F6 + c4.x1(+"81"),this.renderData.flipGradientOrigin=c4.x2(183) + j0 + c4.x2("81" | 1),this.renderData.innerReflexBottomOrigin=s6 + c4.x1("113" * 1) + t8 + c4.x1(81),this.renderData.innerReflexOrigin=c4.x1(+"183") + c9 + c4.x1(+"81"),this.renderData.reflexContainerOrigin=c4.x1(+"90"));}this[m5].reversePage.style[B8]=v3.reversePageOrigin;this[m5].frontPage.style[B8]=v3.frontPageOrigin;this[m5].mask.style[B8]=v3.maskOrigin;this[m5].flipGradient.style[B8]=v3.flipGradientOrigin;this.innerReflexBottom.style[B8]=v3.innerReflexBottomOrigin;this[m5].innerReflex.style[B8]=v3.innerReflexOrigin;this[m5].reflexContainer.style[B8]=v3.reflexContainerOrigin;};y.prototype.calcStripeSizes=function(){var K8=N_s8H;K8.q5();var S4,J4,O6,n8,H3,g8,l8,W8,j7,m_,b1;if(Math.max(document.documentElement.clientWidth || 0,window.innerWidth || "0" ^ 0) <= +"480" || !this.bookState.thickness)return (this.leftStripeWidth=+"0",this.rightStripeWidth="0" * 1,this.backboneWidth="0" - 0,this.leftStripeBlock.style.width=+"0",this.rightStripeBlock.style.width=+"0",void this.bookState.set(K8.x1("199" | 2),"0" << 32));if(this.bookState.singleMode){n8=Object(f.getStore)().getters[K8.x2(122)].currentPage;if((J4=(S4=Object(f.getStore)().getters[K8.x1("10" - 0)](n8)) + 1,O6=Object(f.getStore)().getters[K8.x2("165" * 1)],this.bookState.rtl)){H3=J4;J4=O6 - S4 - ("1" >> 64);S4=O6 - H3 - +"1";}}else (S4=this.bookState.currentLeft,J4=this.bookState.currentRight,O6=this.bookState.pagesCount);j7=S4 / ("2" * 1);m_=null === J4 || this.bookState.right.isLastSheet?"0" ^ 0:(O6 - J4 + ("1" << 32)) / +"2";this.bookState.singleMode && !this.bookState.hardcover?W8=+"1":(g8=(K8.x1(175) === this.state || K8.x1("73" | 0) === this.state) && (this.bookState.left.isFirstSheet || this.bookState.right.isFirst || this.bookState.left.isLast || this.bookState.right.isLastSheet) && !(!this.postPager && this.bookState.left.isFirstSheet && K8.x2(+"104") === this.currentWrapper || !this.postPager && this.bookState.right.isLastSheet && K8.x1(+"149") === this.currentWrapper) && !(this.postPager && this.bookState.left.isFirstSheet && K8.x1("149" | 20) === this.currentWrapper || this.postPager && this.bookState.right.isLastSheet && K8.x2(104) === this.currentWrapper),l8=this.progress,((this.bookState.left.isFirstSheet || this.bookState.right.isLastSheet) && !this.postPager || (this.bookState.right.isFirst || this.bookState.left.isLast) && this.postPager) && (l8=1 - l8),W8=g8?l8:(this.bookState.right.isFirst || this.bookState.left.isLast) && K8.x1("32" << 64) === this.state?"0" << 0:"1" | 0);b1=this.stripeCanvas.width - this.bookWidth;this.bookState.singleMode && this.bookState.rtl?(this.rightStripeWidth="0" << 32,this.rightStripeBlock.style.width=+"0",this.leftStripeWidth=Math.floor(Object(p.default)(j7,O6,this.fittedSize,b1) * W8),this.leftStripeBlock.style.width=this.leftStripeWidth + K8.x1(+"81")):this.bookState.singleMode?(this.leftStripeWidth="0" >> 32,this.leftStripeBlock.style.width=+"0",this.rightStripeWidth=Math.floor(Object(p.default)(m_,O6,this.fittedSize,b1) * W8),this.rightStripeBlock.style.width=this.rightStripeWidth + K8.x1("81" | 65)):(this.leftStripeWidth=Math.floor(Object(p.default)(j7,O6,this.fittedSize,b1) * W8),this.leftStripeBlock.style.width=this.leftStripeWidth + K8.x1(81),this.rightStripeWidth=Math.floor(Object(p.default)(m_,O6,this.fittedSize,b1) * W8),this.rightStripeBlock.style.width=this.rightStripeWidth + K8.x2(+"81"));this.backboneWidth=this.leftStripeWidth + this.rightStripeWidth;this.bookState.set(K8.x1("199" ^ 0),Object(p.default)(O6 / +"2",O6,this.fittedSize,b1));};y.prototype.calcStripeColors=function(){var D8=N_s8H;for(var M7,G$,U2,t_=[],x6=[],k1=this.bookState.pagesCount,H1=[200,"210" - 0,"220" * 1,"230" - 0,"240" ^ 0],G0=function f8(){var Y3;Y3=Math.min(Math.floor(Math.random() * H1.length),H1.length - +"1");D8.q5();return Y3 === M7 || Y3 - ("1" << 0) === M7 || Y3 + +"1" === M7?f8():Y3;},S9=+"0",i$=k1;S9 < i$;S9++){M7=G0();G$=.2 * Math.random() + +".2" + 1;U2=D8.x1("51" * 1) + H1[M7] + D8.x1("22" << 0) + H1[M7] + D8.x1("22" << 0) + H1[M7] + D8.x2(+"88");t_.push(U2);x6.push(G$);}this.stripeColorArray=t_;this.stripeHeightArray=x6;};y.prototype.renderStripe=function(){var I8,Q0,m1,R8,M2,S8,d$,g7;I8=this.stripeCanvasCTX;Q0=this.stripeCanvas;m1=this.bookWidth;R8=this.bookHeight;M2=Math.round((Q0.width - m1) / 2);S8=Q0.width;d$=!+"1";g7=!+"1";if((I8.clearRect(0,+"0",S8,Q0.height),(+"0" === this.rightWrapper.firstPageNum || ("0" ^ 0) === this.leftWrapper.firstPageNum && this.bookState.rtl) && (d$=!+"0"),(this.leftWrapper.secondPageNum === this.bookState.pagesCount - +"1" || this.rightWrapper.secondPageNum === this.bookState.pagesCount - ("1" - 0) && this.bookState.rtl) && (g7=!+"0"),this.leftStripeWidth > +"0" && !d$))for(var u$=+"0",N$=this.leftStripeWidth;N$ > ("0" | 0);N$--){u$=N$ * this.stripeHeightArray[this.leftStripeWidth - N$];I8.fillStyle=this.stripeColorArray[this.leftStripeWidth - N$];I8.fillRect(M2 - N$ + ("1" - 0),Math.round(u$ / +"4"),"1" << 96,R8 - N$ / +"2");}if(this.rightStripeWidth > "0" << 32 && !g7)for(var F8=+"0",y_="0" >> 32,b0=this.rightStripeWidth;y_ < b0;y_++){F8=y_ * this.stripeHeightArray[this.stripeColorArray.length - b0 + y_];I8.fillStyle=this.stripeColorArray[this.stripeColorArray.length - b0 + y_];I8.fillRect(M2 + m1 + y_ - ("1" << 64),Math.round(F8 / +"4"),1,R8 - y_ / 2);}};R=function(I9,g9,H7,T_,A0,z7){z7=z7 || "1" ^ 0;H7+=(".6" - 0) * A0;I9.beginPath();I9.moveTo(g9,H7);I9.bezierCurveTo(g9,H7 - A0,g9 + ".6" * 1 * T_,H7 - A0 / +"3.5",g9 + T_,H7);N_s8H.q5();I9.shadowColor=N_s8H.x1(+"11");I9.shadowBlur=z7;I9.shadowOffsetY=+".3" * -A0;I9.closePath();I9.fill();};
function L(t,e){this.x=t,this.y=e}y.prototype.renderBookShadow=function(t){var e=this,i=this.shadowCanvasCTX,s=this.shadowCanvas,r=s.width,o=s.height,n=this.bookWidth,a=this.pageWidth,h=this.bookHeight,l=(r-n)/2,c=(o-h)/2,d=this.rightStripeWidth,u=this.leftStripeWidth,f=this.backboneWidth,g=.01*n,p=Math.round(h*S);p%2!=0&&(p+=1);var m,v,b=Math.round(s.height-p)/2,w=this.bookState.singleMode,y=8,k=12,x=(a-4)/a,P=(h-8)/h,z=c+h,$=r/2;i.clearRect(0,0,r,o),i.fillStyle="rgba(0,0,0,0.17)",i.save();var C=function(t){t.addColorStop(0,"rgba(0, 0, 0, 0.1)"),t.addColorStop(.01,"rgba(0, 0, 0, 0)"),t.addColorStop(.05,"rgba(0, 0, 0, 0.05)"),t.addColorStop(.5,"rgba(0, 0, 0, 0)")},M=function(){if(i.shadowColor=null,i.shadowBlur=0,i.shadowOffsetY=0,"rgt-sdw"!==t){var e=$-g-u,s=$-g-u-a,r=i.createLinearGradient(e,0,s,0);C(r),i.fillStyle=r,i.fillRect(e,b,-a,p)}if("lft-sdw"!==t){var o=$+g+d+(w?f:0),n=$+g+d+a,h=i.createLinearGradient(o,0,n,0);C(h),i.fillStyle=h,i.fillRect(o,b,a,p)}},T=function(){var e=s.width/2-u-g,r=f+2*g,o=i.createLinearGradient(e,0,e+r,0);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(.02,"rgba(0, 0, 0, 0.33)"),o.addColorStop(.5,"rgba(0, 0, 0, 0.20)"),o.addColorStop(.98,"rgba(0, 0, 0, 0.33)"),o.addColorStop(1,"rgba(0, 0, 0, 0)"),i.shadowColor=null,i.shadowBlur=0,i.shadowOffsetY=0,i.fillStyle=o,i.fillRect(e,b,r,p),i.restore(),"rgt-sdw"===t&&i.clearRect(e-2,b-2,g+2,p+4),"lft-sdw"===t&&i.clearRect(e+f+g,b-2,g+2,p+4)},L=function(){w?i.scale(.999,.999):(i.scale(x,P),i.translate(y/2,k/2)),i.shadowColor="#000",i.shadowBlur=7,i.shadowOffsetY=0,i.fillRect(l,c,a,h),i.fillRect($,c,a,h),i.restore(),e.bookState.left.isFirstSheet||(R(i,$,c,-a,.3*c,12),R(i,$,z,-a,.9*-c,18)),e.bookState.right.isLastSheet||(R(i,$,c,a,.2*c,12),R(i,$,z,a,.6*-c,18))},I=function(t){w?i.scale(.999,.999):(i.scale(x,P),i.translate(y/2,k/2)),"right"===t?(v=1,m=$):(v=-1,m=l),i.shadowColor="#000",i.shadowBlur=7,i.shadowOffsetY=1,i.fillRect(m,c,a,h),i.restore(),R(i,$,c,a*v,c*("right"===t?.2:.3),12),R(i,$,z,a*v,-c*("right"===t?.6:.9),18)};"rgt-sdw"===t?I("right"):"lft-sdw"===t?I("left"):L(),this.bookState.hardcover&&n&&(M(),T()),this.renderStripe()},e.default=y},function(t,e,i){"use strict";i.r(e);var s=i(769),r=i(774),o=i(5);function n(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,h=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],f=d?m(d):n&&3===a?t.rightSheet:n&&2===a?t.bottomRightSheet:n||3!==a?n||2!==a?{first:0,second:0}:t.bottomLeftSheet:t.leftSheet,g=f.first,p=f.second;function m(e){switch(e){case"left":return t.leftSheet;case"right":return t.rightSheet;case"bottom-left":return t.bottomLeftSheet;case"bottom-right":return t.bottomRightSheet}}function v(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,n=arguments.length>6?arguments[6]:void 0;this.bookState=t,this.firstPageNum=o,this.secondPageNum=n,t.isNullPage(o)&&(this.firstPageNum=-1),t.isNullPage(n)&&(this.secondPageNum=-1),this.generateDOM(e,i,s,r,l,c)}return e.hardcover&&(u||e.isFirstPage(g)||e.isLastPage(g)||e.isLastPage(p)||e.isFirstPage(p))?v.prototype=new s.default:v.prototype=new r.default,v.prototype.setContent=function(t){var e=t.first,i=t.second;Object(o.isUndefined)(e)||(this.contentObject1.resetPage(e),this.firstPageNum=e),Object(o.isUndefined)(i)||(this.contentObject2.resetPage(i),this.secondPageNum=i)},new v(e,i,n,a,h,g,p)}e.default=n},function(t,e,i){"use strict";i.r(e);var s=i(451),r=i(38),o=i(33);function n(){this.type="hard"}n.prototype.generateDOM=function(t,e,i,n,a,h){this.mask=r.default.createElement("div",{class:"hard-mask vis"}),this.firstPage=r.default.createElement("div",{},this.mask),this.contentObject1=new s.default(this.firstPage,this.firstPageNum,a,h),this.secondPage=r.default.createElement("div",{},this.mask),this.contentObject2=new s.default(this.secondPage,this.secondPageNum,a,h),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var l=0;if(this.contentObject1.data&&!this.contentObject1.data.isReverseSide&&(this.firstPageGradient=Object(o.getStore)().getters["pages/pageGradient"](this.contentObject1.data.id),this.bookState.singleMode&&!this.bookState.isLastPage(this.firstPageNum)&&(l=this.contentObject1.data.isWide&&"left"===this.contentObject1.data.side?0:1,this.secondPageGradient=Object(o.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject1.data.id)+l+""))),this.contentObject2.data&&!this.contentObject2.data.isReverseSide&&(this.secondPageGradient=Object(o.getStore)().getters["pages/pageGradient"](this.contentObject2.data.id),this.bookState.singleMode&&!this.bookState.isFirstPage(this.secondPageNum)&&(l=this.contentObject2.data.isWide&&"right"===this.contentObject2.data.side?0:1,this.firstPageGradient=Object(o.getStore)().getters["pages/pageGradient"](parseInt(this.contentObject2.data.id)+l+""))),!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),n){var c=document.getElementById("reflex-container"),d=c.nextSibling,u=c.parentNode;d?u.insertBefore(this.mask,d):u.appendChild(this.mask),c=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){r.default.removeClass(this.mask,"hRight");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" hard-front outside":" hard-front inside"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":this.bookState.isFirstPage(this.firstPageNum)?" hard-back outside":" hard-back inside"),this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){r.default.addClass(this.mask,"hRight");var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" hard-back outside":" hard-back inside"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" break":this.bookState.isFirstPage(this.firstPageNum)?" hard-front outside":" hard-front inside"),this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return r.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,r.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){void 0!==this.contentObject1.vm&&(this.contentObject1.destroy(),this.contentObject1.vm.$destroy(),this.contentObject1.vm=null,delete this.contentObject1.vm),void 0!==this.contentObject2.vm&&(this.contentObject2.destroy(),this.contentObject2.vm.$destroy(),this.contentObject2.vm=null,delete this.contentObject2.vm),r.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.secondPage,delete this.frontPage,delete this.reversePage},e.default=n},function(t,e,i){"use strict";i.r(e);var s=i(771),r=i(149),o=(i(773),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/common/page-reverse-side/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(452);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=document.createElement("canvas");s.width=screen.width,s.height=screen.height;var r=s.getContext("2d");function o(t,e,i,s){var r,o,n,a,h,l,c,d=.3086*(1-s),u=.6094*(1-s),f=.082*(1-s),g=e<<2;for(n=0;n<i;n++)for(a=n*g,o=0;o<e;o++)h=t[r=a+(o<<2)],l=t[r+1],c=t[r+2],t[r]=(d+s)*h+u*l+f*c,t[r+1]=d*h+(u+s)*l+f*c,t[r+2]=d*h+u*l+(f+s)*c}function n(t,e,i,s,r){var n=new Uint8Array(e*i*4);a(t,n,e,i,s),l(n,t,e,i,s),h(t,n,e,i,s),c(n,t,e,i,s),void 0!==r&&1!==r&&o(t,e,i,r)}function a(t,e,i,s,r){var o,n,a,h,l,c,d,u,f,g=r<<2,p=i<<2;for(n=0;n<s;n++){for(c=0,d=0,u=0,f=0,a=n*p,o=0;o<r;o++)c+=t[h=a+(o<<2)],d+=t[h+1],u+=t[h+2],f+=t[h+3],e[h]=c/(o+1)|0,e[h+1]=d/(o+1)|0,e[h+2]=u/(o+1)|0,e[h+3]=f/(o+1)|0;for(;o<i;o++)l=(h=a+(o<<2))-g,e[h]=c/r|0,e[h+1]=d/r|0,e[h+2]=u/r|0,e[h+3]=f/r|0,c+=t[h]-t[l],d+=t[h+1]-t[l+1],u+=t[h+2]-t[l+2],f+=t[h+3]-t[l+3]}}function h(t,e,i,s,r){var o,n,a,h,l,c,d,u,f,g=r<<2,p=i<<2;for(n=0;n<s;n++){for(c=0,d=0,u=0,f=0,a=n*p,o=i-1;o>=i-r;o--)c+=t[h=a+(o<<2)],d+=t[h+1],u+=t[h+2],f+=t[h+3],e[h]=c/(i-o)|0,e[h+1]=d/(i-o)|0,e[h+2]=u/(i-o)|0,e[h+3]=f/(i-o)|0;for(;o>=0;o--)l=(h=a+(o<<2))+g,e[h]=c/r|0,e[h+1]=d/r|0,e[h+2]=u/r|0,e[h+3]=f/r|0,c+=t[h]-t[l],d+=t[h+1]-t[l+1],u+=t[h+2]-t[l+2],f+=t[h+3]-t[l+3]}}function l(t,e,i,s,r){var o,n,a,h,l,c,d,u,f,g=i<<2,p=g*r;for(o=0;o<i;o++){for(c=0,d=0,u=0,f=0,a=o<<2,n=0;n<r;n++)c+=t[h=a+n*g],d+=t[h+1],u+=t[h+2],f+=t[h+3],e[h]=c/(n+1)|0,e[h+1]=d/(n+1)|0,e[h+2]=u/(n+1)|0,e[h+3]=f/(n+1)|0;for(;n<s;n++)l=(h=a+n*g)-p,e[h]=c/r|0,e[h+1]=d/r|0,e[h+2]=u/r|0,e[h+3]=f/r|0,c+=t[h]-t[l],d+=t[h+1]-t[l+1],u+=t[h+2]-t[l+2],f+=t[h+3]-t[l+3]}}function c(t,e,i,s,r){var o,n,a,h,l,c,d,u,f,g=i<<2,p=g*r;for(o=0;o<i;o++){for(c=0,d=0,u=0,f=0,a=o<<2,n=s-1;n>=s-r;n--)c+=t[h=a+n*g],d+=t[h+1],u+=t[h+2],f+=t[h+3],e[h]=c/(s-n)|0,e[h+1]=d/(s-n)|0,e[h+2]=u/(s-n)|0,e[h+3]=f/(s-n)|0;for(;n>=0;n--)l=(h=a+n*g)+p,e[h]=c/r|0,e[h+1]=d/r|0,e[h+2]=u/r|0,e[h+3]=f/r|0,c+=t[h]-t[l],d+=t[h+1]-t[l+1],u+=t[h+2]-t[l+2],f+=t[h+3]-t[l+3]}}function d(t,e,i,o,a,h,l){var c=t.canvas,d=0|o,u=0|a,f=0|e,g=0|i;h=32*(0|h),h=Math.min(Math.max(h,32),256);var p=Math.max(0,Math.log(h)/Math.log(2)-3|0),m=h>>>p,v=c.width>>>p,b=c.height>>>p;r.clearRect(0,0,s.width,s.height),r.drawImage(c,0,0,v,b);var S=r.getImageData(0,0,v,b);return n(S.data,v,b,m,l),r.putImageData(S,0,0),t.clearRect(0,0,d,u),t.drawImage(s,0,0,v,b,f,g,1.01*d,u),t}e.default=d},function(t,e,i){"use strict";i.r(e);var s=i(151),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(451),r=i(38),o=i(33);function n(){this.type="soft"}n.prototype.generateDOM=function(t,e,i,n,a,h){this.mask=r.default.createElement("div",{class:"mask vis","data-page":this.firstPageNum+1+"-"+(this.secondPageNum+1)}),this.firstPage=r.default.createElement("div",{},this.mask),this.contentObject1=new s.default(this.firstPage,this.firstPageNum,a,h),this.reflexContainer=r.default.createElement("div",{class:"reflex-container2 z2"},this.mask),(this.bookState.isFirstPage(this.firstPageNum)||this.bookState.isLastSheet(this.firstPageNum))&&(this.reflexMask=r.default.createElement("div",{class:"inner-reflex-mask"},this.reflexContainer)),this.bookState.singleMode&&(this.reflexMask=r.default.createElement("div",{},this.reflexContainer)),this.innerReflex=r.default.createElement("div",{class:"inner-reflex"},this.reflexMask||this.reflexContainer),this.secondPage=r.default.createElement("div",{},this.mask),this.contentObject2=new s.default(this.secondPage,this.secondPageNum,a,h),this.flipGradientT=r.default.createElement("div",{class:"flip-grad"},this.firstPage),this.flipGradientB=r.default.createElement("div",{class:"flip-grad"},this.secondPage),this.setLayer(i),this.firstPageGradient="",this.secondPageGradient="",this.bookState.singleMode;var l=0;if(this.contentObject1.data&&!this.contentObject1.data.isReverseSide&&(this.firstPageGradient=Object(o.getStore)().getters["pages/pageGradient"](this.contentObject1.data.id),this.bookState.singleMode)){l=this.contentObject1.data.wide&&"left"===this.contentObject1.data.side?0:1;var c=Object(o.getStore)().getters["pages/pageIndexById"](this.contentObject1.data.id)+l,d=Object(o.getStore)().getters["pages/pageIdByIndexWide"](c);this.secondPageGradient=Object(o.getStore)().getters["pages/pageGradient"](d),this.secondPage.style["will-change"]="transform"}if(this.contentObject2.data&&!this.contentObject2.data.isReverseSide&&(this.secondPageGradient=Object(o.getStore)().getters["pages/pageGradient"](this.contentObject2.data.id),this.bookState.singleMode)){l=this.contentObject2.data.wide&&"right"===this.contentObject2.data.side?0:1;var u=Object(o.getStore)().getters["pages/pageIndexById"](this.contentObject2.data.id)+l,f=Object(o.getStore)().getters["pages/pageIdByIndexWide"](u);this.firstPageGradient=Object(o.getStore)().getters["pages/pageGradient"](f),this.firstPage.style["will-change"]="transform"}if(!this.firstPageGradient&&this.secondPageGradient&&(this.firstPageGradient=this.secondPageGradient),!this.secondPageGradient&&this.firstPageGradient&&(this.secondPageGradient=this.firstPageGradient),e?this.setRight():this.setLeft(),n){var g=document.getElementById("reflex-container"),p=g.nextSibling,m=g.parentNode;p?m.insertBefore(this.mask,p):m.appendChild(this.mask),g=null}else t.appendChild(this.mask)},n.prototype.setLeft=function(){r.default.removeClass(this.mask,"mR"),this.bookState.singleMode&&(this.bookState.rtl?r.default.addClass(this.reflexMask,"inner-reflex-mask"):r.default.removeClass(this.reflexMask,"inner-reflex-mask"));var t="page-flip-container z1 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" break":this.bookState.isLastPage(this.secondPageNum)?" reflex-last":" reflex-left"),t="page-flip-container z3 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" bottom break":this.bookState.isFirstPage(this.firstPageNum)?" bottom":" reflex-right bottom"),this.flipGradient=this.flipGradientT,this.frontPage=this.secondPage,this.reversePage=this.firstPage,this},n.prototype.setRight=function(){r.default.addClass(this.mask,"mR"),this.bookState.singleMode&&(this.bookState.rtl?r.default.removeClass(this.reflexMask,"inner-reflex-mask"):r.default.addClass(this.reflexMask,"inner-reflex-mask"));var t="page-flip-container z3 "+this.secondPageGradient;return this.secondPage.className=t+(this.bookState.isNullPage(this.secondPageNum)?" bottom break":this.bookState.isLastPage(this.secondPageNum)?" bottom":" reflex-left bottom"),t="page-flip-container z1 "+this.firstPageGradient,this.firstPage.className=t+(this.bookState.isNullPage(this.firstPageNum)?" right-page break":this.bookState.isFirstPage(this.firstPageNum)?" right-page reflex-first":" reflex-right right-page"),this.flipGradient=this.flipGradientB,this.frontPage=this.firstPage,this.reversePage=this.secondPage,this},n.prototype.setLayer=function(t){return r.default.removeClass(this.mask,"layer"+this.layer),this.layer=t,r.default.addClass(this.mask,"layer"+t),this},n.prototype.destroy=function(){this.contentObject1.destroy(),void 0!==this.contentObject1.vm&&(this.contentObject1.vm.$destroy(),this.contentObject1.vm=null,delete this.contentObject1.vm),this.contentObject2.destroy(),void 0!==this.contentObject2.vm&&(this.contentObject2.vm.$destroy(),this.contentObject2.vm=null,delete this.contentObject2.vm),r.default.del(this.mask),delete this.mask,delete this.firstPage,delete this.reflexContainer,delete this.innerReflex,delete this.secondPage,delete this.flipGradientT,delete this.flipGradientB,delete this.frontPage,delete this.reversePage,delete this.flipGradient},e.default=n},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.r(e);var r=[],o=[],n={_version:"3.0.0-alpha.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout((function(){e(i[t])}),0)},addTest:function(t,e,i){o.push({name:t,fn:e,options:i})},addAsyncTest:function(t){o.push({name:null,fn:t})}},a=function(){};function h(t,e){return s(t)===e}function l(){var t,e,i,s,n,l;for(var c in o){if(t=[],(e=o[c]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(s=h(e.fn,"function")?e.fn():e.fn,n=0;n<t.length;n++)1===(l=t[n].split(".")).length?a[l[0]]=s:(!a[l[0]]||a[l[0]]instanceof Boolean||(a[l[0]]=new Boolean(a[l[0]])),a[l[0]][l[1]]=s),r.push((s?"":"no-")+l.join("-"))}}a.prototype=n,a=new a;var c=document.documentElement;function d(t){var e=c.className,i=a._config.classPrefix||"";if(a._config.enableJSClass){var s=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(s,"$1"+i+"js$2")}a._config.enableClasses&&(e+=" "+i+t.join(" "+i),c.className=e)}function u(t){return t.replace(/([a-z])-([a-z])/g,(function(t,e,i){return e+i.toUpperCase()})).replace(/^-/,"")}function f(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()})).replace(/^ms-/,"-ms-")}var g="Moz O ms Webkit",p=n._config.usePrefixes?g.toLowerCase().split(" "):[];n._domPrefixes=p;var m=n._config.usePrefixes?g.split(" "):[];n._cssomPrefixes=m;var v=function(t){var e,i=prefixes.length,s=window.CSSRule;if(void 0!==s){if(!t)return!1;if((e=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in s)return"@"+t;for(var r=0;r<i;r++){var o=prefixes[r];if(o.toUpperCase()+"_"+e in s)return"@-"+o.toLowerCase()+"-"+t}return!1}},b=function(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):document.createElement.apply(document,arguments)};function S(){var t=document.body;return t||((t=b("body")).fake=!0),t}function w(t,e,i,s){var r,o,n,a,h="modernizr",l=b("div"),d=S();if(parseInt(i,10))for(;i--;)(n=b("div")).id=s?s[i]:h+(i+1),l.appendChild(n);return r=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),l.id=h,(d.fake?d:l).innerHTML+=r,d.appendChild(l),d.fake&&(d.style.background="",d.style.overflow="hidden",a=c.style.overflow,c.style.overflow="hidden",c.appendChild(d)),o=e(l,t),d.fake?(d.parentNode.removeChild(d),c.style.overflow=a,c.offsetHeight):l.parentNode.removeChild(l),!!o}n.testStyles=w;function y(t,e){return!!~(""+t).indexOf(e)}function k(t,e){var i=t.length;if("CSS"in window&&"supports"in window.CSS){for(;i--;)if(window.CSS.supports(f(t[i]),e))return!0;return!1}if("CSSSupportsRule"in window){for(var s=[];i--;)s.push("("+f(t[i])+":"+e+")");return w("@supports ("+(s=s.join(" or "))+") { #modernizr { position: absolute; } }",(function(t){return"absolute"==getComputedStyle(t,null).position}))}}function x(t,e){return function(){return t.apply(e,arguments)}}function P(t,e,i){var s;for(var r in t)if(t[r]in e)return!1===i?t[r]:h(s=e[t[r]],"function")?x(s,i||e):s;return!1}var z={elem:b("modernizr")};a._q.push((function(){delete z.elem}));var $={style:z.elem.style};function C(t,e,i,s){if(s=!h(s,"undefined")&&s,!h(i,"undefined")){var r=k(t,i);if(!h(r,"undefined"))return r}var o,n,a,l,c;function d(){o&&(delete $.style,delete $.modElem)}for($.style||(o=!0,$.modElem=b("modernizr"),$.style=$.modElem.style),a=t.length,n=0;n<a;n++)if(l=t[n],c=$.style[l],y(l,"-")&&(l=u(l)),void 0!==$.style[l]){if(s||h(i,"undefined"))return d(),"pfx"!=e||l;try{$.style[l]=i}catch(f){}if($.style[l]!=c)return d(),"pfx"!=e||l}return d(),!1}function M(t,e,i,s,r){var o=t.charAt(0).toUpperCase()+t.slice(1),n=(t+" "+m.join(o+" ")+o).split(" ");return h(e,"string")||h(e,"undefined")?C(n,e,s,r):P(n=(t+" "+p.join(o+" ")+o).split(" "),e,i)}a._q.unshift((function(){delete $.style})),n.testAllProps=M;var T=n.prefixed=function(t,e,i){return 0===t.indexOf("@")?v(t):(-1!=t.indexOf("-")&&(t=u(t)),e?M(t,e,i):M(t,"pfx"))};n.prefixedCSS=function(t){var e=T(t);return e&&f(e)};l(),d(r),delete n.addTest,delete n.addAsyncTest;for(var R=0;R<a._q.length;R++)a._q[R]();e.default=a},function(t,e,i){"use strict";i.r(e);var s=i(455);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(156),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(157),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(457);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(160),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(459);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({image:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><g fill-rule="nonzero"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" opacity=".8"/><g _fill="#FFF"><path pid="1" d="M30.8 30l4.2 4.3-1.7 1.7-4.3-4.2z"/><path pid="2" d="M25 32a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path pid="3" d="M26 24h3v2h-3v3h-2v-3h-3v-2h3v-3h2z"/></g></g><path pid="4" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 01-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 014.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 015.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 00-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 01-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 01-3.61 2.925zm-28.2-1.852a21.27 21.27 0 003.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 004.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){"use strict";i.r(e);var s=i(163),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(461);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({gallery:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><g _fill="#fff"><path pid="1" d="M18 20h15v7l-3.5-4-4.4 5.7-2.2-3-3.3 5.3H18V20zm-2 13h19V18H16v15z"/><path pid="2" d="M23 23.4a1.6 1.6 0 10-3.2 0 1.6 1.6 0 003.2 0z"/></g></g><path pid="3" d="M2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 01-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 015.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 00-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 002.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 01-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff" fill-rule="evenodd"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(166),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(463);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({gif:{width:51,height:51,viewBox:"0 0 51 51",data:'<g fill-rule="evenodd"><circle pid="0" cx="25.5" cy="25.5" r="25.5" opacity=".8"/><path pid="1" d="M27 31h-2V20h2zm8-5h-2.9v5H30V20h7v2h-4.9v1.9H35zm-13 3.6c-.4.5-.9.9-1.6 1.1-.8.3-1.6.4-2.5.4-1 0-1.9-.2-2.6-.6s-1.3-1-1.7-1.8c-.4-.7-.6-1.7-.6-2.8v-.7c0-1.1.2-1.9.6-2.7.3-.8.9-1.4 1.6-1.8s1.5-.6 2.5-.6c1.3 0 2.4.3 3.1.9.8.6 1.2 1.8 1.4 2.9H20c-.1-.3-.5-1.2-.9-1.5-.3-.2-.8-.4-1.4-.4-.8 0-1.4.3-1.8.9-.4.5-.7 1.2-.7 2.3v.7c0 1.1.4 1.7.8 2.3.5.6 1.1.9 2 .9.8 0 1.6-.2 2-.5V27h-2v-2h4zM2.046 27.054c.013 1.786.468 3.704.9 5.2l1.7-.6a23 23 0 01-.8-4.7m16.4-22.5l-.4-1.7c-1.7.4-3.4 1-4.9 1.8l.8 1.6c1.4-.7 3-1.3 4.5-1.7m8.107-2.298c-2.683-.497-5.607-.102-5.607-.102l.2 1.8a21.8 21.8 0 015.2 0m-20.1 8.9l-1.5-1c-1 1.3-2 2.8-2.6 4.4l1.6.8c.7-1.5 1.5-2.9 2.5-4.2m22.8-8.2c1.6.4 3 1 4.5 1.6l.8-1.6c-1.5-.7-3.2-1.3-4.9-1.8zm16.302 11.669c-.724-1.748-1.44-2.937-2.602-4.469l-1.5 1c1 1.4 1.8 2.8 2.4 4.2.379-.11 1.694-.728 1.702-.731zm-.002 8.131l1.8-.1c-.088-1.852-.187-3.367-.8-5.2l-1.8.6c.5 1.5.7 3 .8 4.7m-4.5-15c-1.964-2.198-2.958-2.586-3.9-3.3l-1 1.5c1.3.8 2.5 1.9 3.6 3m-29-4.5a17.946 17.946 0 00-4 3.4l1.3 1.2c1-1.2 2.368-2.281 3.668-3.081m29.632 30.881l1.4 1.1a23.4 23.4 0 002.6-4.4l-1.6-.8c-.7 1.5-1.5 2.9-2.4 4.1M3.98 35.046c.764 1.746 1.456 2.664 2.566 4.408l1.5-1c-1-1.3-1.8-2.7-2.4-4.2zm43.152-8.12c-.049 1.449-.496 3.522-.886 4.828l1.863.484c.626-1.77.84-2.972.962-5.068M30.546 46.654l.5 1.8c2.236-.45 3.236-.966 4.8-1.9l-.8-1.5c-1.4.7-3 1.2-4.5 1.6m6.9-3l1 1.5c1.986-1.394 2.533-1.833 4-3.3l-1.3-1.2a21.9 21.9 0 01-3.7 3m-28.9-1.9c1.2 1.3 2.5 2.4 4 3.4l1-1.5c-1.4-1-2.6-2-3.7-3.1zm6.5 4.9c1.5.7 3.2 1.3 4.9 1.7l.4-1.7c-1.6-.4-3-1-4.5-1.6zm7.83 2.243c1.873.265 3.261.253 5.17.031l-.098-1.8c-1.714.15-3.326.127-4.837-.068-.097.382-.234 1.829-.235 1.837zM3.861 24.378c.087-1.447.589-3.508 1.013-4.803l-1.85-.533c-.672 1.753-.918 2.949-1.095 5.041" _fill="#fff"/></g>'}})},function(t,e,i){i(0).register({replay:{width:16,height:16,viewBox:"0 0 70 70",data:'<use xlink:href="#a" transform="rotate(60 21.655 37.507)"/><defs><path pid="0" id="a" d="M5.885 12.428L1.49 9.97c-.777-.435-1.693.287-1.45 1.144L4.006 25.15a1 1 0 001.235.69l14.036-3.966c.857-.242.993-1.4.216-1.835l-4.878-2.729c4.194-7.024 13.267-9.4 20.377-5.296 7.174 4.142 9.632 13.316 5.49 20.49-4.142 7.175-13.316 9.633-20.49 5.49l-5 8.66c11.957 6.904 27.247 2.807 34.15-9.15 6.904-11.957 2.807-27.247-9.15-34.15C28.06-3.536 12.81.529 5.885 12.428z"/></defs>'}})},function(t,e,i){"use strict";i.r(e);var s=i(169),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(465);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(793),r=i(172),o=i(1),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/youtube/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(466);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s,r,o=i(174),n=(i(808),i(1)),a=Object(n.default)(o.default,s,r,!1,null,null,null);a.options.__file="src/components/content/video/vimeo/index.vue",e.default=a.exports},,function(t,e,i){"use strict";i.r(e);var s=i(176),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(810),r=i(177),o=i(1),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,null,null);n.options.__file="src/components/content/video/wistia/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(467);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(812),r=i(179),o=(i(813),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"50c8fe48",null);n.options.__file="src/components/common/modal/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(468);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(182),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){i(0).register({video:{width:50,height:50,viewBox:"0 0 50 50",data:'<g _fill="none" fill-rule="evenodd"><circle pid="0" cx="25" cy="25" r="25" _fill="#000" fill-rule="nonzero" opacity=".8"/><path pid="1" _fill="#FFF" fill-rule="nonzero" d="M34.041 23.397c.589.305.959.916.959 1.583 0 .667-.37 1.279-.959 1.584l-12.288 7.127c-.787.594-1.967.297-2.458-.594a1.68 1.68 0 01-.295-.99V17.755a1.98 1.98 0 01.978-1.494 1.954 1.954 0 011.775-.09l12.288 7.226zM21 32l12-7-12-7v14z"/><path pid="2" _fill="#FFF" d="M2.114 26.515c.013 1.74.457 3.61.878 5.069l1.66-.585a22.4 22.4 0 01-.781-4.582l-1.757.098zm17.76-22.03l-.391-1.658c-1.659.39-3.318.975-4.781 1.755l.78 1.56a23.892 23.892 0 014.391-1.657zm7.91-2.24c-2.618-.485-5.471-.1-5.471-.1l.195 1.755a21.293 21.293 0 015.074 0l.202-1.655zM7.969 12.575L6.505 11.6c-.976 1.268-1.951 2.73-2.537 4.29l1.561.78c.683-1.463 1.464-2.828 2.44-4.095zm22.247-7.993c1.562.39 2.928.975 4.391 1.56l.781-1.56c-1.464-.682-3.122-1.267-4.781-1.755l-.39 1.755zm15.908 11.375c-.707-1.704-1.406-2.863-2.54-4.357l-1.463.975c.976 1.365 1.756 2.73 2.342 4.094.37-.107 1.653-.71 1.66-.712zm-.002 7.926l1.756-.098c-.086-1.805-.182-3.282-.78-5.069l-1.757.585c.488 1.462.683 2.925.78 4.582zM41.73 9.26c-1.917-2.143-2.887-2.52-3.806-3.217l-.976 1.462c1.269.78 2.44 1.852 3.513 2.925l1.269-1.17zM12.165 6.044a17.507 17.507 0 00-3.903 3.314l1.268 1.17c.976-1.17 2.31-2.223 3.58-3.003l-.945-1.48zm29.858 31.583L43.39 38.7c1-1.332 1.851-2.77 2.537-4.289l-1.56-.78c-.684 1.463-1.464 2.827-2.343 3.997zM4.001 34.305c.746 1.702 1.421 2.597 2.504 4.297l1.464-.975a17.105 17.105 0 01-2.342-4.094l-1.626.772zm42.107-7.915c-.048 1.412-.484 3.433-.865 4.706l1.818.472c.611-1.725.82-2.897.939-4.94l-1.892-.238zM29.924 45.62l.488 1.755c2.181-.439 3.157-.942 4.683-1.852l-.78-1.462c-1.366.682-2.928 1.17-4.391 1.56zm6.733-2.924l.975 1.462c1.938-1.359 2.472-1.787 3.903-3.217l-1.268-1.17a21.365 21.365 0 01-3.61 2.925zm-28.2-1.852a21.27 21.27 0 003.903 3.314l.976-1.462c-1.367-.975-2.537-1.95-3.61-3.022l-1.27 1.17zm6.342 4.776a25.148 25.148 0 004.782 1.657l.39-1.657c-1.561-.39-2.927-.974-4.391-1.56l-.78 1.56zm7.64 2.187c1.828.258 3.183.246 5.045.03l-.095-1.755c-1.673.147-3.246.124-4.72-.066-.095.372-.228 1.783-.23 1.79zm-18.554-23.9c.085-1.411.575-3.42.989-4.683l-1.806-.52C2.413 20.415 2.173 21.58 2 23.62l1.885.287z"/></g>'}})},function(t,e,i){"use strict";i.r(e);var s=i(183),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(471);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(186),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},,function(t,e,i){i(0).register({"book-prev":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M14.312 22.461l-8.519-8.52a2.676 2.676 0 01-.788-1.905c0-.721.28-1.4.788-1.908l8.59-8.592a1.8 1.8 0 012.543 2.543l-7.954 7.956 7.882 7.882a1.8 1.8 0 01-2.542 2.544z"/>'}})},function(t,e,i){i(0).register({"book-next":{width:16,height:16,viewBox:"0 0 24 24",data:'<path pid="0" d="M8.872 22.991a1.799 1.799 0 01-1.272-3.07l7.884-7.885-7.956-7.957a1.798 1.798 0 112.543-2.543l8.592 8.593c.509.508.789 1.186.789 1.908 0 .721-.28 1.4-.789 1.907l-8.52 8.52a1.79 1.79 0 01-1.271.527z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(188),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(823),r=i(189),o=(i(826),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"42dda8e8",null);n.options.__file="src/components/common/slide-book/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(475);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({page:{width:250,height:370,viewBox:"0 0 250 370",data:'<path pid="0" d="M0 17h250V0H0v17zM0 51h250V34H0v17zM0 85h125V68H0v17zM0 302h250v-17H0v17zM0 336h250v-17H0v17zM0 370h125v-17H0v17zM0 255h250V115H0v140z" _fill="#000"/>'}})},function(t,e,i){i(0).register({"page-wide":{width:500,height:370,viewBox:"0 0 500 370",data:'<g clip-path="url(#clip0_3_2)" _fill="#000"><path pid="0" d="M0 17h230V0H0v17zM0 51h230V34H0v17zM0 85h115V68H0v17zM270 302h230v-17H270v17zM270 336h230v-17H270v17zM270 370h115v-17H270v17zM270 187h230v-17H270v17zM270 221h230v-17H270v17zM270 255h115v-17H270v17zM0 136h230v-17H0v17zM0 170h230v-17H0v17zM0 204h115v-17H0v17zM270 140h230V0H270v140zM0 370h230V230H0v140z"/></g><defs><clipPath id="clip0_3_2"><path pid="1" _fill="#fff" d="M0 0h500v370H0z"/></clipPath></defs>'}})},function(t,e,i){"use strict";i.r(e);var s=i(191),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(828),r=i(192),o=(i(829),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"3832a65e",null);n.options.__file="src/components/desktop/logo/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(476);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(194),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(831),r=i(195),o=(i(832),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"54040386",null);n.options.__file="src/components/common/nav-buttons/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(478);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(197),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(834),r=i(198),o=(i(835),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"6d66682b",null);n.options.__file="src/components/desktop/slide-nav-buttons/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(481);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(200),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(837),r=i(201),o=(i(840),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"dde720a0",null);n.options.__file="src/components/desktop/zoom-panel/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(482);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){i(0).register({text:{width:16,height:16,viewBox:"0 0 30 30",data:'<g fill-rule="evenodd"><path pid="0" fill-rule="nonzero" d="M25.642 16.116a1.647 1.647 0 00-.267-.716c-.208-.287-.532-.43-.97-.43-.625 0-1.053.31-1.283.931-.121.33-.182.768-.182 1.315 0 .521.06.94.182 1.257.222.59.638.885 1.25.885.434 0 .743-.117.925-.351.182-.235.293-.539.332-.912h1.894c-.043.564-.247 1.098-.612 1.602-.581.811-1.443 1.217-2.584 1.217-1.142 0-1.982-.338-2.52-1.016-.538-.677-.807-1.556-.807-2.636 0-1.22.297-2.168.892-2.845s1.415-1.016 2.46-1.016c.89 0 1.619.2 2.185.599.567.4.902 1.105 1.006 2.116h-1.901z"/><path pid="1" d="M3 8h16v15H3V8zm12.9 5.414c-.517 0-.942.109-1.276.326-.282.173-.54.425-.775.755v-3.412H12v9.584h1.816v-.892c.248.347.478.59.69.729.356.234.827.351 1.413.351.933 0 1.66-.362 2.181-1.087.521-.725.782-1.638.782-2.74 0-1.064-.264-1.932-.792-2.605-.527-.673-1.257-1.009-2.19-1.009zm-.476 5.912c-.55 0-.96-.2-1.23-.6-.27-.399-.404-.902-.404-1.51 0-.516.065-.937.196-1.263.251-.612.714-.918 1.386-.918.664 0 1.12.313 1.368.938.13.33.195.746.195 1.25 0 .629-.132 1.137-.397 1.523-.265.386-.636.58-1.114.58zm-7.03-2.11v.69c-.012.62-.187 1.048-.524 1.283a1.89 1.89 0 01-1.103.351.992.992 0 01-.641-.211c-.176-.141-.264-.37-.264-.687 0-.356.143-.619.43-.788.169-.1.449-.184.84-.254l.416-.078c.209-.039.372-.081.492-.127.12-.045.237-.105.355-.179zm-1.126-.866l-.631.078c-.716.092-1.259.243-1.628.456C4.336 17.274 4 17.906 4 18.78c0 .672.21 1.192.628 1.559.42.367.95.55 1.592.55.504 0 .955-.115 1.354-.345.334-.195.63-.432.886-.71.013.16.03.304.052.43.021.126.06.26.117.404h2.018v-.274a.665.665 0 01-.273-.215c-.061-.086-.098-.251-.111-.494a31.08 31.08 0 01-.013-.82v-3.256c0-.855-.302-1.437-.905-1.745-.603-.308-1.293-.462-2.07-.462-1.194 0-2.036.313-2.526.938-.308.399-.482.909-.521 1.53h1.79c.044-.274.13-.491.26-.652.183-.217.493-.325.932-.325.39 0 .686.055.888.166.202.11.303.311.303.602 0 .239-.132.415-.397.527-.148.066-.393.12-.736.163zM19 5h1v21h-1zM17 4h5v1h-5zM17 26h5v1h-5z"/></g>'}})},function(t,e,i){i(0).register({drag:{width:16,height:16,viewBox:"0 0 100 100",data:'<path pid="0" d="M24.6 63.2c1.4 1.5 3.8 1.6 5.3.2s1.6-3.8.2-5.3l-.2-.2-4.2-4.2h21v21l-4.2-4.2c-1.4-1.5-3.8-1.6-5.3-.2-1.5 1.4-1.6 3.8-.2 5.3l.2.2 10.6 10.6c1.5 1.5 3.8 1.5 5.3 0l10.5-10.6c1.5-1.4 1.6-3.8.2-5.3-1.4-1.5-3.8-1.6-5.3-.2l-.2.2-4.2 4.2v-21h21L71 57.9c-1.5 1.4-1.6 3.8-.2 5.3 1.4 1.5 3.8 1.6 5.3.2l.2-.2 10.6-10.6c1.5-1.5 1.5-3.8 0-5.3L76.2 36.7c-1.4-1.5-3.8-1.6-5.3-.2-1.5 1.4-1.6 3.8-.2 5.3l.2.2 4.2 4.2h-21v-21l4.2 4.2c1.4 1.5 3.8 1.6 5.3.2s1.6-3.8.2-5.3l-.2-.2-10.5-10.5c-1.5-1.5-3.8-1.5-5.3 0L37.2 24.2c-1.5 1.4-1.6 3.8-.2 5.3 1.4 1.5 3.8 1.6 5.3.2l.2-.2 4.2-4.2v21h-21l4.2-4.2c1.5-1.4 1.6-3.8.2-5.3-1.4-1.5-3.8-1.6-5.3-.2l-.2.2L14 47.3c-1.5 1.5-1.5 3.8 0 5.3l10.6 10.6z"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(203),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(204),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(499);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(239),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var s=i(930),r=i(269),o=(i(944),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"37151dfc",null);n.options.__file="src/components/common/lightbox/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(519);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(521);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(273),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(934),r=i(274),o=(i(938),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"65901bb9",null);n.options.__file="src/components/common/lightbox/lightbox-nav-dots/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(522);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(936),r=i(276),o=(i(937),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"e9e32c9a",null);n.options.__file="src/components/common/lightbox/lightbox-nav-dots/lightbox-nav-dot/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(523);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(278),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(279),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){"use strict";i.r(e);var s=i(940),r=i(280),o=(i(941),i(1)),n=Object(o.default)(r.default,s.render,s.staticRenderFns,!1,null,"57ed2068",null);n.options.__file="src/components/common/lightbox/lightbox-thumbnails/index.vue",e.default=n.exports},function(t,e,i){"use strict";i.r(e);var s=i(524);i.d(e,"render",(function(){return s.render})),i.d(e,"staticRenderFns",(function(){return s.staticRenderFns}))},function(t,e,i){"use strict";i.r(e);var s=i(282),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a},function(t,e,i){i(0).register({"chevron-right":{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" fill-rule="evenodd" clip-rule="evenodd" d="M9.663 6.033a1 1 0 011.414 0l5.26 5.26a1 1 0 010 1.414l-5.26 5.26a1 1 0 01-1.414-1.414L14.216 12 9.663 7.447a1 1 0 010-1.414z" _fill="#354353"/>'}})},function(t,e,i){i(0).register({cross:{width:24,height:24,viewBox:"0 0 24 24",data:'<path pid="0" fill-rule="evenodd" clip-rule="evenodd" d="M16.707 7.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414-1.414l8-8a1 1 0 011.414 0z" _fill="#354353"/><path pid="1" fill-rule="evenodd" clip-rule="evenodd" d="M7.293 7.293a1 1 0 011.414 0l8 8a1 1 0 01-1.414 1.414l-8-8a1 1 0 010-1.414z" _fill="#354353"/>'}})},function(t,e,i){"use strict";i.r(e);var s=i(283),r=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=r.a}])]);